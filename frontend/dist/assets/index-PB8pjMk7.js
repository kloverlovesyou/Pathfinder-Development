function h7(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function x0(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ln={},ql=[],gr=()=>{},f7=()=>!1,D1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),C0=t=>t.startsWith("onUpdate:"),as=Object.assign,k0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},p7=Object.prototype.hasOwnProperty,Jt=(t,e)=>p7.call(t,e),pt=Array.isArray,Wl=t=>pc(t)==="[object Map]",fc=t=>pc(t)==="[object Set]",C5=t=>pc(t)==="[object Date]",g7=t=>pc(t)==="[object RegExp]",Et=t=>typeof t=="function",kn=t=>typeof t=="string",Hi=t=>typeof t=="symbol",cn=t=>t!==null&&typeof t=="object",u9=t=>(cn(t)||Et(t))&&Et(t.then)&&Et(t.catch),d9=Object.prototype.toString,pc=t=>d9.call(t),m7=t=>pc(t).slice(8,-1),h9=t=>pc(t)==="[object Object]",S0=t=>kn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gu=x0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},v7=/-(\w)/g,Ai=M1(t=>t.replace(v7,(e,n)=>n?n.toUpperCase():"")),b7=/\B([A-Z])/g,Zo=M1(t=>t.replace(b7,"-$1").toLowerCase()),R1=M1(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yf=M1(t=>t?`on${R1(t)}`:""),Bo=(t,e)=>!Object.is(t,e),Gl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},g2=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},i1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},y7=t=>{const e=kn(t)?Number(t):NaN;return isNaN(e)?t:e};let k5;const $1=()=>k5||(k5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function j1(t){if(pt(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=kn(s)?C7(s):j1(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(kn(t)||cn(t))return t}const w7=/;(?![^(]*\))/g,_7=/:([^]+)/,x7=/\/\*[^]*?\*\//g;function C7(t){const e={};return t.replace(x7,"").split(w7).forEach(n=>{if(n){const s=n.split(_7);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ft(t){let e="";if(kn(t))e=t;else if(pt(t))for(let n=0;n<t.length;n++){const s=ft(t[n]);s&&(e+=s+" ")}else if(cn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const k7="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",S7=x0(k7);function f9(t){return!!t||t===""}function A7(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=el(t[s],e[s]);return n}function el(t,e){if(t===e)return!0;let n=C5(t),s=C5(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Hi(t),s=Hi(e),n||s)return t===e;if(n=pt(t),s=pt(e),n||s)return n&&s?A7(t,e):!1;if(n=cn(t),s=cn(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!el(t[o],e[o]))return!1}}return String(t)===String(e)}function A0(t,e){return t.findIndex(n=>el(n,e))}const p9=t=>!!(t&&t.__v_isRef===!0),Z=t=>kn(t)?t:t==null?"":pt(t)||cn(t)&&(t.toString===d9||!Et(t.toString))?p9(t)?Z(t.value):JSON.stringify(t,g9,2):String(t),g9=(t,e)=>p9(e)?g9(t,e.value):Wl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Zf(s,r)+" =>"]=i,n),{})}:fc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Zf(n))}:Hi(e)?Zf(e):cn(e)&&!pt(e)&&!h9(e)?String(e):e,Zf=(t,e="")=>{var n;return Hi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let As;class m9{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=As,!e&&As&&(this.index=(As.scopes||(As.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=As;try{return As=this,e()}finally{As=n}}}on(){++this._on===1&&(this.prevScope=As,As=this)}off(){this._on>0&&--this._on===0&&(As=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function v9(t){return new m9(t)}function b9(){return As}function L7(t,e=!1){As&&As.cleanups.push(t)}let fn;const Jf=new WeakSet;class y9{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,As&&As.active&&As.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jf.has(this)&&(Jf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_9(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,S5(this),x9(this);const e=fn,n=Vi;fn=this,Vi=!0;try{return this.fn()}finally{C9(this),fn=e,Vi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)T0(e);this.deps=this.depsTail=void 0,S5(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){m2(this)&&this.run()}get dirty(){return m2(this)}}let w9=0,mu,vu;function _9(t,e=!1){if(t.flags|=8,e){t.next=vu,vu=t;return}t.next=mu,mu=t}function L0(){w9++}function E0(){if(--w9>0)return;if(vu){let e=vu;for(vu=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;mu;){let e=mu;for(mu=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function x9(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function C9(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),T0(s),E7(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function m2(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(k9(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function k9(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Mu)||(t.globalVersion=Mu,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!m2(t))))return;t.flags|=2;const e=t.dep,n=fn,s=Vi;fn=t,Vi=!0;try{x9(t);const i=t.fn(t._value);(e.version===0||Bo(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{fn=n,Vi=s,C9(t),t.flags&=-3}}function T0(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)T0(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function E7(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Vi=!0;const S9=[];function Qr(){S9.push(Vi),Vi=!1}function eo(){const t=S9.pop();Vi=t===void 0?!0:t}function S5(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=fn;fn=void 0;try{e()}finally{fn=n}}}let Mu=0;class T7{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class P0{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!fn||!Vi||fn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==fn)n=this.activeLink=new T7(fn,this),fn.deps?(n.prevDep=fn.depsTail,fn.depsTail.nextDep=n,fn.depsTail=n):fn.deps=fn.depsTail=n,A9(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=fn.depsTail,n.nextDep=void 0,fn.depsTail.nextDep=n,fn.depsTail=n,fn.deps===n&&(fn.deps=s)}return n}trigger(e){this.version++,Mu++,this.notify(e)}notify(e){L0();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{E0()}}}function A9(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)A9(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const r1=new WeakMap,Ga=Symbol(""),v2=Symbol(""),Ru=Symbol("");function Es(t,e,n){if(Vi&&fn){let s=r1.get(t);s||r1.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new P0),i.map=s,i.key=n),i.track()}}function Wr(t,e,n,s,i,r){const o=r1.get(t);if(!o){Mu++;return}const a=l=>{l&&l.trigger()};if(L0(),e==="clear")o.forEach(a);else{const l=pt(t),c=l&&S0(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,p)=>{(p==="length"||p===Ru||!Hi(p)&&p>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ru)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Ga)),Wl(t)&&a(o.get(v2)));break;case"delete":l||(a(o.get(Ga)),Wl(t)&&a(o.get(v2)));break;case"set":Wl(t)&&a(o.get(Ga));break}}E0()}function P7(t,e){const n=r1.get(t);return n&&n.get(e)}function Sl(t){const e=Ht(t);return e===t?e:(Es(e,"iterate",Ru),Ci(t)?e:e.map(gs))}function B1(t){return Es(t=Ht(t),"iterate",Ru),t}const N7={__proto__:null,[Symbol.iterator](){return Xf(this,Symbol.iterator,gs)},concat(...t){return Sl(this).concat(...t.map(e=>pt(e)?Sl(e):e))},entries(){return Xf(this,"entries",t=>(t[1]=gs(t[1]),t))},every(t,e){return Dr(this,"every",t,e,void 0,arguments)},filter(t,e){return Dr(this,"filter",t,e,n=>n.map(gs),arguments)},find(t,e){return Dr(this,"find",t,e,gs,arguments)},findIndex(t,e){return Dr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dr(this,"findLast",t,e,gs,arguments)},findLastIndex(t,e){return Dr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Qf(this,"includes",t)},indexOf(...t){return Qf(this,"indexOf",t)},join(t){return Sl(this).join(t)},lastIndexOf(...t){return Qf(this,"lastIndexOf",t)},map(t,e){return Dr(this,"map",t,e,void 0,arguments)},pop(){return Zc(this,"pop")},push(...t){return Zc(this,"push",t)},reduce(t,...e){return A5(this,"reduce",t,e)},reduceRight(t,...e){return A5(this,"reduceRight",t,e)},shift(){return Zc(this,"shift")},some(t,e){return Dr(this,"some",t,e,void 0,arguments)},splice(...t){return Zc(this,"splice",t)},toReversed(){return Sl(this).toReversed()},toSorted(t){return Sl(this).toSorted(t)},toSpliced(...t){return Sl(this).toSpliced(...t)},unshift(...t){return Zc(this,"unshift",t)},values(){return Xf(this,"values",gs)}};function Xf(t,e,n){const s=B1(t),i=s[e]();return s!==t&&!Ci(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const I7=Array.prototype;function Dr(t,e,n,s,i,r){const o=B1(t),a=o!==t&&!Ci(t),l=o[e];if(l!==I7[e]){const h=l.apply(t,r);return a?gs(h):h}let c=n;o!==t&&(a?c=function(h,p){return n.call(this,gs(h),p,t)}:n.length>2&&(c=function(h,p){return n.call(this,h,p,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function A5(t,e,n,s){const i=B1(t);let r=n;return i!==t&&(Ci(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,gs(a),l,t)}),i[e](r,...s)}function Qf(t,e,n){const s=Ht(t);Es(s,"iterate",Ru);const i=s[e](...n);return(i===-1||i===!1)&&O0(n[0])?(n[0]=Ht(n[0]),s[e](...n)):i}function Zc(t,e,n=[]){Qr(),L0();const s=Ht(t)[e].apply(t,n);return E0(),eo(),s}const O7=x0("__proto__,__v_isRef,__isVue"),L9=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hi));function D7(t){Hi(t)||(t=String(t));const e=Ht(this);return Es(e,"has",t),e.hasOwnProperty(t)}class E9{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?H7:I9:r?N9:P9).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=pt(e);if(!i){let l;if(o&&(l=N7[n]))return l;if(n==="hasOwnProperty")return D7}const a=Reflect.get(e,n,Un(e)?e:s);return(Hi(n)?L9.has(n):O7(n))||(i||Es(e,"get",n),r)?a:Un(a)?o&&S0(n)?a:a.value:cn(a)?i?D9(a):es(a):a}}class T9 extends E9{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=Ho(r);if(!Ci(s)&&!Ho(s)&&(r=Ht(r),s=Ht(s)),!pt(e)&&Un(r)&&!Un(s))return l?!1:(r.value=s,!0)}const o=pt(e)&&S0(n)?Number(n)<e.length:Jt(e,n),a=Reflect.set(e,n,s,Un(e)?e:i);return e===Ht(i)&&(o?Bo(s,r)&&Wr(e,"set",n,s):Wr(e,"add",n,s)),a}deleteProperty(e,n){const s=Jt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Wr(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Hi(n)||!L9.has(n))&&Es(e,"has",n),s}ownKeys(e){return Es(e,"iterate",pt(e)?"length":Ga),Reflect.ownKeys(e)}}class M7 extends E9{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const R7=new T9,$7=new M7,j7=new T9(!0);const b2=t=>t,sh=t=>Reflect.getPrototypeOf(t);function B7(t,e,n){return function(...s){const i=this.__v_raw,r=Ht(i),o=Wl(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?b2:e?o1:gs;return!e&&Es(r,"iterate",l?v2:Ga),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:a?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function ih(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function F7(t,e){const n={get(i){const r=this.__v_raw,o=Ht(r),a=Ht(i);t||(Bo(i,a)&&Es(o,"get",i),Es(o,"get",a));const{has:l}=sh(o),c=e?b2:t?o1:gs;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Es(Ht(i),"iterate",Ga),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Ht(r),a=Ht(i);return t||(Bo(i,a)&&Es(o,"has",i),Es(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Ht(a),c=e?b2:t?o1:gs;return!t&&Es(l,"iterate",Ga),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return as(n,t?{add:ih("add"),set:ih("set"),delete:ih("delete"),clear:ih("clear")}:{add(i){!e&&!Ci(i)&&!Ho(i)&&(i=Ht(i));const r=Ht(this);return sh(r).has.call(r,i)||(r.add(i),Wr(r,"add",i,i)),this},set(i,r){!e&&!Ci(r)&&!Ho(r)&&(r=Ht(r));const o=Ht(this),{has:a,get:l}=sh(o);let c=a.call(o,i);c||(i=Ht(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Bo(r,u)&&Wr(o,"set",i,r):Wr(o,"add",i,r),this},delete(i){const r=Ht(this),{has:o,get:a}=sh(r);let l=o.call(r,i);l||(i=Ht(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Wr(r,"delete",i,void 0),c},clear(){const i=Ht(this),r=i.size!==0,o=i.clear();return r&&Wr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=B7(i,t,e)}),n}function N0(t,e){const n=F7(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Jt(n,i)&&i in s?n:s,i,r)}const U7={get:N0(!1,!1)},z7={get:N0(!1,!0)},V7={get:N0(!0,!1)};const P9=new WeakMap,N9=new WeakMap,I9=new WeakMap,H7=new WeakMap;function q7(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W7(t){return t.__v_skip||!Object.isExtensible(t)?0:q7(m7(t))}function es(t){return Ho(t)?t:I0(t,!1,R7,U7,P9)}function O9(t){return I0(t,!1,j7,z7,N9)}function D9(t){return I0(t,!0,$7,V7,I9)}function I0(t,e,n,s,i){if(!cn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=W7(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function Fo(t){return Ho(t)?Fo(t.__v_raw):!!(t&&t.__v_isReactive)}function Ho(t){return!!(t&&t.__v_isReadonly)}function Ci(t){return!!(t&&t.__v_isShallow)}function O0(t){return t?!!t.__v_raw:!1}function Ht(t){const e=t&&t.__v_raw;return e?Ht(e):t}function D0(t){return!Jt(t,"__v_skip")&&Object.isExtensible(t)&&g2(t,"__v_skip",!0),t}const gs=t=>cn(t)?es(t):t,o1=t=>cn(t)?D9(t):t;function Un(t){return t?t.__v_isRef===!0:!1}function le(t){return M9(t,!1)}function G7(t){return M9(t,!0)}function M9(t,e){return Un(t)?t:new K7(t,e)}class K7{constructor(e,n){this.dep=new P0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ht(e),this._value=n?e:gs(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ci(e)||Ho(e);e=s?e:Ht(e),Bo(e,n)&&(this._rawValue=e,this._value=s?e:gs(e),this.dep.trigger())}}function qt(t){return Un(t)?t.value:t}const Y7={get:(t,e,n)=>e==="__v_raw"?t:qt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Un(i)&&!Un(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function R9(t){return Fo(t)?t:new Proxy(t,Y7)}function Z7(t){const e=pt(t)?new Array(t.length):{};for(const n in t)e[n]=X7(t,n);return e}class J7{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return P7(Ht(this._object),this._key)}}function X7(t,e,n){const s=t[e];return Un(s)?s:new J7(t,e,n)}class Q7{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new P0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&fn!==this)return _9(this,!0),!0}get value(){const e=this.dep.track();return k9(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function e_(t,e,n=!1){let s,i;return Et(t)?s=t:(s=t.get,i=t.set),new Q7(s,i,n)}const rh={},a1=new WeakMap;let Da;function t_(t,e=!1,n=Da){if(n){let s=a1.get(n);s||a1.set(n,s=[]),s.push(t)}}function n_(t,e,n=ln){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:Ci(S)||i===!1||i===0?Gr(S,1):Gr(S);let u,h,p,f,m=!1,b=!1;if(Un(t)?(h=()=>t.value,m=Ci(t)):Fo(t)?(h=()=>c(t),m=!0):pt(t)?(b=!0,m=t.some(S=>Fo(S)||Ci(S)),h=()=>t.map(S=>{if(Un(S))return S.value;if(Fo(S))return c(S);if(Et(S))return l?l(S,2):S()})):Et(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Qr();try{p()}finally{eo()}}const S=Da;Da=u;try{return l?l(t,3,[f]):t(f)}finally{Da=S}}:h=gr,e&&i){const S=h,I=i===!0?1/0:i;h=()=>Gr(S(),I)}const y=b9(),w=()=>{u.stop(),y&&y.active&&k0(y.effects,u)};if(r&&e){const S=e;e=(...I)=>{S(...I),w()}}let C=b?new Array(t.length).fill(rh):rh;const k=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const I=u.run();if(i||m||(b?I.some((z,H)=>Bo(z,C[H])):Bo(I,C))){p&&p();const z=Da;Da=u;try{const H=[I,C===rh?void 0:b&&C[0]===rh?[]:C,f];C=I,l?l(e,3,H):e(...H)}finally{Da=z}}}else u.run()};return a&&a(k),u=new y9(h),u.scheduler=o?()=>o(k,!1):k,f=S=>t_(S,!1,u),p=u.onStop=()=>{const S=a1.get(u);if(S){if(l)l(S,4);else for(const I of S)I();a1.delete(u)}},e?s?k(!0):C=u.run():o?o(k.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Gr(t,e=1/0,n){if(e<=0||!cn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Un(t))Gr(t.value,e,n);else if(pt(t))for(let s=0;s<t.length;s++)Gr(t[s],e,n);else if(fc(t)||Wl(t))t.forEach(s=>{Gr(s,e,n)});else if(h9(t)){for(const s in t)Gr(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Gr(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ad(t,e,n,s){try{return s?t(...s):t()}catch(i){F1(i,e,n)}}function qi(t,e,n,s){if(Et(t)){const i=ad(t,e,n,s);return i&&u9(i)&&i.catch(r=>{F1(r,e,n)}),i}if(pt(t)){const i=[];for(let r=0;r<t.length;r++)i.push(qi(t[r],e,n,s));return i}}function F1(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ln;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(r){Qr(),ad(r,null,10,[t,l,c]),eo();return}}s_(t,n,i,s,o)}function s_(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const $s=[];let cr=-1;const Kl=[];let To=null,$l=0;const $9=Promise.resolve();let l1=null;function ci(t){const e=l1||$9;return t?e.then(this?t.bind(this):t):e}function i_(t){let e=cr+1,n=$s.length;for(;e<n;){const s=e+n>>>1,i=$s[s],r=$u(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function M0(t){if(!(t.flags&1)){const e=$u(t),n=$s[$s.length-1];!n||!(t.flags&2)&&e>=$u(n)?$s.push(t):$s.splice(i_(e),0,t),t.flags|=1,j9()}}function j9(){l1||(l1=$9.then(F9))}function r_(t){pt(t)?Kl.push(...t):To&&t.id===-1?To.splice($l+1,0,t):t.flags&1||(Kl.push(t),t.flags|=1),j9()}function L5(t,e,n=cr+1){for(;n<$s.length;n++){const s=$s[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;$s.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function B9(t){if(Kl.length){const e=[...new Set(Kl)].sort((n,s)=>$u(n)-$u(s));if(Kl.length=0,To){To.push(...e);return}for(To=e,$l=0;$l<To.length;$l++){const n=To[$l];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}To=null,$l=0}}const $u=t=>t.id==null?t.flags&2?-1:1/0:t.id;function F9(t){try{for(cr=0;cr<$s.length;cr++){const e=$s[cr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ad(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;cr<$s.length;cr++){const e=$s[cr];e&&(e.flags&=-2)}cr=-1,$s.length=0,B9(),l1=null,($s.length||Kl.length)&&F9()}}let ts=null,U9=null;function c1(t){const e=ts;return ts=t,U9=t&&t.type.__scopeId||null,e}function Wn(t,e=ts,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&$5(-1);const r=c1(e);let o;try{o=t(...i)}finally{c1(r),s._d&&$5(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ue(t,e){if(ts===null)return t;const n=W1(ts),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=ln]=e[i];r&&(Et(r)&&(r={mounted:r,updated:r}),r.deep&&Gr(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ka(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Qr(),qi(l,n,8,[t.el,a,t,e]),eo())}}const o_=Symbol("_vte"),z9=t=>t.__isTeleport,Po=Symbol("_leaveCb"),oh=Symbol("_enterCb");function a_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return It(()=>{t.isMounted=!0}),tl(()=>{t.isUnmounting=!0}),t}const yi=[Function,Array],V9={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yi,onEnter:yi,onAfterEnter:yi,onEnterCancelled:yi,onBeforeLeave:yi,onLeave:yi,onAfterLeave:yi,onLeaveCancelled:yi,onBeforeAppear:yi,onAppear:yi,onAfterAppear:yi,onAppearCancelled:yi},H9=t=>{const e=t.subTree;return e.component?H9(e.component):e},l_={name:"BaseTransition",props:V9,setup(t,{slots:e}){const n=w4(),s=a_();return()=>{const i=e.default&&G9(e.default(),!0);if(!i||!i.length)return;const r=q9(i),o=Ht(t),{mode:a}=o;if(s.isLeaving)return ep(r);const l=E5(r);if(!l)return ep(r);let c=y2(l,o,s,n,h=>c=h);l.type!==ms&&tc(l,c);let u=n.subTree&&E5(n.subTree);if(u&&u.type!==ms&&!Oo(l,u)&&H9(n).type!==ms){let h=y2(u,o,s,n);if(tc(u,h),a==="out-in"&&l.type!==ms)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},ep(r);a==="in-out"&&l.type!==ms?h.delayLeave=(p,f,m)=>{const b=W9(s,u);b[String(u.key)]=u,p[Po]=()=>{f(),p[Po]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function q9(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ms){e=n;break}}return e}const c_=l_;function W9(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function y2(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:y,onAppear:w,onAfterAppear:C,onAppearCancelled:k}=e,S=String(t.key),I=W9(n,t),z=(T,q)=>{T&&qi(T,s,9,q)},H=(T,q)=>{const L=q[1];z(T,q),pt(T)?T.every(P=>P.length<=1)&&L():T.length<=1&&L()},U={mode:o,persisted:a,beforeEnter(T){let q=l;if(!n.isMounted)if(r)q=y||l;else return;T[Po]&&T[Po](!0);const L=I[S];L&&Oo(t,L)&&L.el[Po]&&L.el[Po](),z(q,[T])},enter(T){let q=c,L=u,P=h;if(!n.isMounted)if(r)q=w||c,L=C||u,P=k||h;else return;let ne=!1;const V=T[oh]=j=>{ne||(ne=!0,j?z(P,[T]):z(L,[T]),U.delayedLeave&&U.delayedLeave(),T[oh]=void 0)};q?H(q,[T,V]):V()},leave(T,q){const L=String(t.key);if(T[oh]&&T[oh](!0),n.isUnmounting)return q();z(p,[T]);let P=!1;const ne=T[Po]=V=>{P||(P=!0,q(),V?z(b,[T]):z(m,[T]),T[Po]=void 0,I[L]===t&&delete I[L])};I[L]=t,f?H(f,[T,ne]):ne()},clone(T){const q=y2(T,e,n,s,i);return i&&i(q),q}};return U}function ep(t){if(U1(t))return t=no(t),t.children=null,t}function E5(t){if(!U1(t))return z9(t.type)&&t.children?q9(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Et(n.default))return n.default()}}function tc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,tc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function G9(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ye?(o.patchFlag&128&&i++,s=s.concat(G9(o.children,e,a))):(e||o.type!==ms)&&s.push(a!=null?no(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ld(t,e){return Et(t)?as({name:t.name},e,{setup:t}):t}function K9(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function bu(t,e,n,s,i=!1){if(pt(t)){t.forEach((m,b)=>bu(m,e&&(pt(e)?e[b]:e),n,s,i));return}if(Ka(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&bu(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?W1(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ln?a.refs={}:a.refs,h=a.setupState,p=Ht(h),f=h===ln?()=>!1:m=>Jt(p,m);if(c!=null&&c!==l&&(kn(c)?(u[c]=null,f(c)&&(h[c]=null)):Un(c)&&(c.value=null)),Et(l))ad(l,a,12,[o,u]);else{const m=kn(l),b=Un(l);if(m||b){const y=()=>{if(t.f){const w=m?f(l)?h[l]:u[l]:l.value;i?pt(w)&&k0(w,r):pt(w)?w.includes(r)||w.push(r):m?(u[l]=[r],f(l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else m?(u[l]=o,f(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,ps(y,n)):y()}}}$1().requestIdleCallback;$1().cancelIdleCallback;const Ka=t=>!!t.type.__asyncLoader,U1=t=>t.type.__isKeepAlive,u_={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=w4(),s=n.ctx;if(!s.renderer)return()=>{const C=e.default&&e.default();return C&&C.length===1?C[0]:C};const i=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=s,p=h("div");s.activate=(C,k,S,I,z)=>{const H=C.component;c(C,k,S,0,a),l(H.vnode,C,k,S,H,a,I,C.slotScopeIds,z),ps(()=>{H.isDeactivated=!1,H.a&&Gl(H.a);const U=C.props&&C.props.onVnodeMounted;U&&_i(U,H.parent,C)},a)},s.deactivate=C=>{const k=C.component;d1(k.m),d1(k.a),c(C,p,null,1,a),ps(()=>{k.da&&Gl(k.da);const S=C.props&&C.props.onVnodeUnmounted;S&&_i(S,k.parent,C),k.isDeactivated=!0},a)};function f(C){tp(C),u(C,n,a,!0)}function m(C){i.forEach((k,S)=>{const I=S2(k.type);I&&!C(I)&&b(S)})}function b(C){const k=i.get(C);k&&(!o||!Oo(k,o))?f(k):o&&tp(o),i.delete(C),r.delete(C)}mr(()=>[t.include,t.exclude],([C,k])=>{C&&m(S=>lu(C,S)),k&&m(S=>!lu(k,S))},{flush:"post",deep:!0});let y=null;const w=()=>{y!=null&&(h1(n.subTree.type)?ps(()=>{i.set(y,ah(n.subTree))},n.subTree.suspense):i.set(y,ah(n.subTree)))};return It(w),V1(w),tl(()=>{i.forEach(C=>{const{subTree:k,suspense:S}=n,I=ah(k);if(C.type===I.type&&C.key===I.key){tp(I);const z=I.component.da;z&&ps(z,S);return}f(C)})}),()=>{if(y=null,!e.default)return o=null;const C=e.default(),k=C[0];if(C.length>1)return o=null,C;if(!nc(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return o=null,k;let S=ah(k);if(S.type===ms)return o=null,S;const I=S.type,z=S2(Ka(S)?S.type.__asyncResolved||{}:I),{include:H,exclude:U,max:T}=t;if(H&&(!z||!lu(H,z))||U&&z&&lu(U,z))return S.shapeFlag&=-257,o=S,k;const q=S.key==null?I:S.key,L=i.get(q);return S.el&&(S=no(S),k.shapeFlag&128&&(k.ssContent=S)),y=q,L?(S.el=L.el,S.component=L.component,S.transition&&tc(S,S.transition),S.shapeFlag|=512,r.delete(q),r.add(q)):(r.add(q),T&&r.size>parseInt(T,10)&&b(r.values().next().value)),S.shapeFlag|=256,o=S,h1(k.type)?k:S}}},Y9=u_;function lu(t,e){return pt(t)?t.some(n=>lu(n,e)):kn(t)?t.split(",").includes(e):g7(t)?(t.lastIndex=0,t.test(e)):!1}function d_(t,e){Z9(t,"a",e)}function h_(t,e){Z9(t,"da",e)}function Z9(t,e,n=rs){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(z1(e,s,n),n){let i=n.parent;for(;i&&i.parent;)U1(i.parent.vnode)&&f_(s,e,n,i),i=i.parent}}function f_(t,e,n,s){const i=z1(e,t,s,!0);R0(()=>{k0(s[e],i)},n)}function tp(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ah(t){return t.shapeFlag&128?t.ssContent:t}function z1(t,e,n=rs,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Qr();const a=cd(n),l=qi(e,n,t,o);return a(),eo(),l});return s?i.unshift(r):i.push(r),r}}const so=t=>(e,n=rs)=>{(!Bu||t==="sp")&&z1(t,(...s)=>e(...s),n)},p_=so("bm"),It=so("m"),g_=so("bu"),V1=so("u"),tl=so("bum"),R0=so("um"),m_=so("sp"),v_=so("rtg"),b_=so("rtc");function y_(t,e=rs){z1("ec",t,e)}const J9="components";function to(t,e){return e4(J9,t,!0,e)||t}const X9=Symbol.for("v-ndc");function Q9(t){return kn(t)?e4(J9,t,!1)||t:t||X9}function e4(t,e,n=!0,s=!1){const i=ts||rs;if(i){const r=i.type;{const a=S2(r,!1);if(a&&(a===e||a===Ai(e)||a===R1(Ai(e))))return r}const o=T5(i[t]||r[t],e)||T5(i.appContext[t],e);return!o&&s?r:o}}function T5(t,e){return t&&(t[e]||t[Ai(e)]||t[R1(Ai(e))])}function ct(t,e,n,s){let i;const r=n,o=pt(t);if(o||kn(t)){const a=o&&Fo(t);let l=!1,c=!1;a&&(l=!Ci(t),c=Ho(t),t=B1(t)),i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(l?c?o1(gs(t[u])):gs(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(cn(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function w_(t,e,n={},s,i){if(ts.ce||ts.parent&&Ka(ts.parent)&&ts.parent.ce)return n.name=e,M(),qo(Ye,null,[wt("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),M();const o=r&&t4(r(n)),a=n.key||o&&o.key,l=qo(Ye,{key:(a&&!Hi(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function t4(t){return t.some(e=>nc(e)?!(e.type===ms||e.type===Ye&&!t4(e.children)):!0)?t:null}const w2=t=>t?_4(t)?W1(t):w2(t.parent):null,yu=as(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>w2(t.parent),$root:t=>w2(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>s4(t),$forceUpdate:t=>t.f||(t.f=()=>{M0(t.update)}),$nextTick:t=>t.n||(t.n=ci.bind(t.proxy)),$watch:t=>z_.bind(t)}),np=(t,e)=>t!==ln&&!t.__isScriptSetup&&Jt(t,e),__={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(np(s,e))return o[e]=1,s[e];if(i!==ln&&Jt(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Jt(c,e))return o[e]=3,r[e];if(n!==ln&&Jt(n,e))return o[e]=4,n[e];_2&&(o[e]=0)}}const u=yu[e];let h,p;if(u)return e==="$attrs"&&Es(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ln&&Jt(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Jt(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return np(i,e)?(i[e]=n,!0):s!==ln&&Jt(s,e)?(s[e]=n,!0):Jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==ln&&Jt(t,o)||np(e,o)||(a=r[0])&&Jt(a,o)||Jt(s,o)||Jt(yu,o)||Jt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Jt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function P5(t){return pt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let _2=!0;function x_(t){const e=s4(t),n=t.proxy,s=t.ctx;_2=!1,e.beforeCreate&&N5(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:f,updated:m,activated:b,deactivated:y,beforeDestroy:w,beforeUnmount:C,destroyed:k,unmounted:S,render:I,renderTracked:z,renderTriggered:H,errorCaptured:U,serverPrefetch:T,expose:q,inheritAttrs:L,components:P,directives:ne,filters:V}=e;if(c&&C_(c,s,null),o)for(const D in o){const N=o[D];Et(N)&&(s[D]=N.bind(n))}if(i){const D=i.call(n,n);cn(D)&&(t.data=es(D))}if(_2=!0,r)for(const D in r){const N=r[D],ee=Et(N)?N.bind(n,n):Et(N.get)?N.get.bind(n,n):gr,fe=!Et(N)&&Et(N.set)?N.set.bind(n):gr,ae=Xt({get:ee,set:fe});Object.defineProperty(s,D,{enumerable:!0,configurable:!0,get:()=>ae.value,set:A=>ae.value=A})}if(a)for(const D in a)n4(a[D],s,n,D);if(l){const D=Et(l)?l.call(n):l;Reflect.ownKeys(D).forEach(N=>{zh(N,D[N])})}u&&N5(u,t,"c");function F(D,N){pt(N)?N.forEach(ee=>D(ee.bind(n))):N&&D(N.bind(n))}if(F(p_,h),F(It,p),F(g_,f),F(V1,m),F(d_,b),F(h_,y),F(y_,U),F(b_,z),F(v_,H),F(tl,C),F(R0,S),F(m_,T),pt(q))if(q.length){const D=t.exposed||(t.exposed={});q.forEach(N=>{Object.defineProperty(D,N,{get:()=>n[N],set:ee=>n[N]=ee})})}else t.exposed||(t.exposed={});I&&t.render===gr&&(t.render=I),L!=null&&(t.inheritAttrs=L),P&&(t.components=P),ne&&(t.directives=ne),T&&K9(t)}function C_(t,e,n=gr){pt(t)&&(t=x2(t));for(const s in t){const i=t[s];let r;cn(i)?"default"in i?r=ki(i.from||s,i.default,!0):r=ki(i.from||s):r=ki(i),Un(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function N5(t,e,n){qi(pt(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function n4(t,e,n,s){let i=s.includes(".")?m4(n,s):()=>n[s];if(kn(t)){const r=e[t];Et(r)&&mr(i,r)}else if(Et(t))mr(i,t.bind(n));else if(cn(t))if(pt(t))t.forEach(r=>n4(r,e,n,s));else{const r=Et(t.handler)?t.handler.bind(n):e[t.handler];Et(r)&&mr(i,r,t)}}function s4(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>u1(l,c,o,!0)),u1(l,e,o)),cn(e)&&r.set(e,l),l}function u1(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&u1(t,r,n,!0),i&&i.forEach(o=>u1(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=k_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const k_={data:I5,props:O5,emits:O5,methods:cu,computed:cu,beforeCreate:Ms,created:Ms,beforeMount:Ms,mounted:Ms,beforeUpdate:Ms,updated:Ms,beforeDestroy:Ms,beforeUnmount:Ms,destroyed:Ms,unmounted:Ms,activated:Ms,deactivated:Ms,errorCaptured:Ms,serverPrefetch:Ms,components:cu,directives:cu,watch:A_,provide:I5,inject:S_};function I5(t,e){return e?t?function(){return as(Et(t)?t.call(this,this):t,Et(e)?e.call(this,this):e)}:e:t}function S_(t,e){return cu(x2(t),x2(e))}function x2(t){if(pt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ms(t,e){return t?[...new Set([].concat(t,e))]:e}function cu(t,e){return t?as(Object.create(null),t,e):e}function O5(t,e){return t?pt(t)&&pt(e)?[...new Set([...t,...e])]:as(Object.create(null),P5(t),P5(e??{})):e}function A_(t,e){if(!t)return e;if(!e)return t;const n=as(Object.create(null),t);for(const s in e)n[s]=Ms(t[s],e[s]);return n}function i4(){return{app:null,config:{isNativeTag:f7,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L_=0;function E_(t,e){return function(s,i=null){Et(s)||(s=as({},s)),i!=null&&!cn(i)&&(i=null);const r=i4(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:L_++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:lx,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&Et(u.install)?(o.add(u),u.install(c,...h)):Et(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,p){if(!l){const f=c._ceVNode||wt(s,i);return f.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),t(f,u,p),l=!0,c._container=u,u.__vue_app__=c,W1(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(qi(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Ya;Ya=c;try{return u()}finally{Ya=h}}};return c}}let Ya=null;function zh(t,e){if(rs){let n=rs.provides;const s=rs.parent&&rs.parent.provides;s===n&&(n=rs.provides=Object.create(s)),n[t]=e}}function ki(t,e,n=!1){const s=rs||ts;if(s||Ya){let i=Ya?Ya._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Et(e)?e.call(s&&s.proxy):e}}function T_(){return!!(rs||ts||Ya)}const r4={},o4=()=>Object.create(r4),a4=t=>Object.getPrototypeOf(t)===r4;function P_(t,e,n,s=!1){const i={},r=o4();t.propsDefaults=Object.create(null),l4(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:O9(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function N_(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Ht(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(H1(t.emitsOptions,p))continue;const f=e[p];if(l)if(Jt(r,p))f!==r[p]&&(r[p]=f,c=!0);else{const m=Ai(p);i[m]=C2(l,a,m,f,t,!1)}else f!==r[p]&&(r[p]=f,c=!0)}}}else{l4(t,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!Jt(e,h)&&((u=Zo(h))===h||!Jt(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=C2(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!Jt(e,h))&&(delete r[h],c=!0)}c&&Wr(t.attrs,"set","")}function l4(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gu(l))continue;const c=e[l];let u;i&&Jt(i,u=Ai(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:H1(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Ht(n),c=a||ln;for(let u=0;u<r.length;u++){const h=r[u];n[h]=C2(i,l,h,c[h],t,!Jt(c,h))}}return o}function C2(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Jt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Et(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=cd(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Zo(n))&&(s=!0))}return s}const I_=new WeakMap;function c4(t,e,n=!1){const s=n?I_:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!Et(t)){const u=h=>{l=!0;const[p,f]=c4(h,e,!0);as(o,p),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return cn(t)&&s.set(t,ql),ql;if(pt(r))for(let u=0;u<r.length;u++){const h=Ai(r[u]);D5(h)&&(o[h]=ln)}else if(r)for(const u in r){const h=Ai(u);if(D5(h)){const p=r[u],f=o[h]=pt(p)||Et(p)?{type:p}:as({},p),m=f.type;let b=!1,y=!0;if(pt(m))for(let w=0;w<m.length;++w){const C=m[w],k=Et(C)&&C.name;if(k==="Boolean"){b=!0;break}else k==="String"&&(y=!1)}else b=Et(m)&&m.name==="Boolean";f[0]=b,f[1]=y,(b||Jt(f,"default"))&&a.push(h)}}const c=[o,a];return cn(t)&&s.set(t,c),c}function D5(t){return t[0]!=="$"&&!gu(t)}const $0=t=>t[0]==="_"||t==="$stable",j0=t=>pt(t)?t.map(dr):[dr(t)],O_=(t,e,n)=>{if(e._n)return e;const s=Wn((...i)=>j0(e(...i)),n);return s._c=!1,s},u4=(t,e,n)=>{const s=t._ctx;for(const i in t){if($0(i))continue;const r=t[i];if(Et(r))e[i]=O_(i,r,s);else if(r!=null){const o=j0(r);e[i]=()=>o}}},d4=(t,e)=>{const n=j0(e);t.slots.default=()=>n},h4=(t,e,n)=>{for(const s in e)(n||!$0(s))&&(t[s]=e[s])},D_=(t,e,n)=>{const s=t.slots=o4();if(t.vnode.shapeFlag&32){const i=e.__;i&&g2(s,"__",i,!0);const r=e._;r?(h4(s,e,n),n&&g2(s,"_",r,!0)):u4(e,s)}else e&&d4(t,e)},M_=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=ln;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:h4(i,e,n):(r=!e.$stable,u4(e,i)),o=e}else e&&(d4(t,e),o={default:1});if(r)for(const a in i)!$0(a)&&o[a]==null&&delete i[a]},ps=Y_;function R_(t){return $_(t)}function $_(t,e){const n=$1();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:f=gr,insertStaticContent:m}=t,b=(te,re,oe,G=null,Pe=null,Ae=null,De=void 0,we=null,Ne=!!re.dynamicChildren)=>{if(te===re)return;te&&!Oo(te,re)&&(G=J(te),A(te,Pe,Ae,!0),te=null),re.patchFlag===-2&&(Ne=!1,re.dynamicChildren=null);const{type:xe,ref:Ve,shapeFlag:Ie}=re;switch(xe){case q1:y(te,re,oe,G);break;case ms:w(te,re,oe,G);break;case Vh:te==null&&C(re,oe,G,De);break;case Ye:P(te,re,oe,G,Pe,Ae,De,we,Ne);break;default:Ie&1?I(te,re,oe,G,Pe,Ae,De,we,Ne):Ie&6?ne(te,re,oe,G,Pe,Ae,De,we,Ne):(Ie&64||Ie&128)&&xe.process(te,re,oe,G,Pe,Ae,De,we,Ne,me)}Ve!=null&&Pe?bu(Ve,te&&te.ref,Ae,re||te,!re):Ve==null&&te&&te.ref!=null&&bu(te.ref,null,Ae,te,!0)},y=(te,re,oe,G)=>{if(te==null)s(re.el=a(re.children),oe,G);else{const Pe=re.el=te.el;re.children!==te.children&&c(Pe,re.children)}},w=(te,re,oe,G)=>{te==null?s(re.el=l(re.children||""),oe,G):re.el=te.el},C=(te,re,oe,G)=>{[te.el,te.anchor]=m(te.children,re,oe,G,te.el,te.anchor)},k=({el:te,anchor:re},oe,G)=>{let Pe;for(;te&&te!==re;)Pe=p(te),s(te,oe,G),te=Pe;s(re,oe,G)},S=({el:te,anchor:re})=>{let oe;for(;te&&te!==re;)oe=p(te),i(te),te=oe;i(re)},I=(te,re,oe,G,Pe,Ae,De,we,Ne)=>{re.type==="svg"?De="svg":re.type==="math"&&(De="mathml"),te==null?z(re,oe,G,Pe,Ae,De,we,Ne):T(te,re,Pe,Ae,De,we,Ne)},z=(te,re,oe,G,Pe,Ae,De,we)=>{let Ne,xe;const{props:Ve,shapeFlag:Ie,transition:qe,dirs:He}=te;if(Ne=te.el=o(te.type,Ae,Ve&&Ve.is,Ve),Ie&8?u(Ne,te.children):Ie&16&&U(te.children,Ne,null,G,Pe,sp(te,Ae),De,we),He&&ka(te,null,G,"created"),H(Ne,te,te.scopeId,De,G),Ve){for(const gt in Ve)gt!=="value"&&!gu(gt)&&r(Ne,gt,null,Ve[gt],Ae,G);"value"in Ve&&r(Ne,"value",null,Ve.value,Ae),(xe=Ve.onVnodeBeforeMount)&&_i(xe,G,te)}He&&ka(te,null,G,"beforeMount");const Ke=j_(Pe,qe);Ke&&qe.beforeEnter(Ne),s(Ne,re,oe),((xe=Ve&&Ve.onVnodeMounted)||Ke||He)&&ps(()=>{xe&&_i(xe,G,te),Ke&&qe.enter(Ne),He&&ka(te,null,G,"mounted")},Pe)},H=(te,re,oe,G,Pe)=>{if(oe&&f(te,oe),G)for(let Ae=0;Ae<G.length;Ae++)f(te,G[Ae]);if(Pe){let Ae=Pe.subTree;if(re===Ae||h1(Ae.type)&&(Ae.ssContent===re||Ae.ssFallback===re)){const De=Pe.vnode;H(te,De,De.scopeId,De.slotScopeIds,Pe.parent)}}},U=(te,re,oe,G,Pe,Ae,De,we,Ne=0)=>{for(let xe=Ne;xe<te.length;xe++){const Ve=te[xe]=we?No(te[xe]):dr(te[xe]);b(null,Ve,re,oe,G,Pe,Ae,De,we)}},T=(te,re,oe,G,Pe,Ae,De)=>{const we=re.el=te.el;let{patchFlag:Ne,dynamicChildren:xe,dirs:Ve}=re;Ne|=te.patchFlag&16;const Ie=te.props||ln,qe=re.props||ln;let He;if(oe&&Sa(oe,!1),(He=qe.onVnodeBeforeUpdate)&&_i(He,oe,re,te),Ve&&ka(re,te,oe,"beforeUpdate"),oe&&Sa(oe,!0),(Ie.innerHTML&&qe.innerHTML==null||Ie.textContent&&qe.textContent==null)&&u(we,""),xe?q(te.dynamicChildren,xe,we,oe,G,sp(re,Pe),Ae):De||N(te,re,we,null,oe,G,sp(re,Pe),Ae,!1),Ne>0){if(Ne&16)L(we,Ie,qe,oe,Pe);else if(Ne&2&&Ie.class!==qe.class&&r(we,"class",null,qe.class,Pe),Ne&4&&r(we,"style",Ie.style,qe.style,Pe),Ne&8){const Ke=re.dynamicProps;for(let gt=0;gt<Ke.length;gt++){const Ze=Ke[gt],Je=Ie[Ze],nt=qe[Ze];(nt!==Je||Ze==="value")&&r(we,Ze,Je,nt,Pe,oe)}}Ne&1&&te.children!==re.children&&u(we,re.children)}else!De&&xe==null&&L(we,Ie,qe,oe,Pe);((He=qe.onVnodeUpdated)||Ve)&&ps(()=>{He&&_i(He,oe,re,te),Ve&&ka(re,te,oe,"updated")},G)},q=(te,re,oe,G,Pe,Ae,De)=>{for(let we=0;we<re.length;we++){const Ne=te[we],xe=re[we],Ve=Ne.el&&(Ne.type===Ye||!Oo(Ne,xe)||Ne.shapeFlag&198)?h(Ne.el):oe;b(Ne,xe,Ve,null,G,Pe,Ae,De,!0)}},L=(te,re,oe,G,Pe)=>{if(re!==oe){if(re!==ln)for(const Ae in re)!gu(Ae)&&!(Ae in oe)&&r(te,Ae,re[Ae],null,Pe,G);for(const Ae in oe){if(gu(Ae))continue;const De=oe[Ae],we=re[Ae];De!==we&&Ae!=="value"&&r(te,Ae,we,De,Pe,G)}"value"in oe&&r(te,"value",re.value,oe.value,Pe)}},P=(te,re,oe,G,Pe,Ae,De,we,Ne)=>{const xe=re.el=te?te.el:a(""),Ve=re.anchor=te?te.anchor:a("");let{patchFlag:Ie,dynamicChildren:qe,slotScopeIds:He}=re;He&&(we=we?we.concat(He):He),te==null?(s(xe,oe,G),s(Ve,oe,G),U(re.children||[],oe,Ve,Pe,Ae,De,we,Ne)):Ie>0&&Ie&64&&qe&&te.dynamicChildren?(q(te.dynamicChildren,qe,oe,Pe,Ae,De,we),(re.key!=null||Pe&&re===Pe.subTree)&&f4(te,re,!0)):N(te,re,oe,Ve,Pe,Ae,De,we,Ne)},ne=(te,re,oe,G,Pe,Ae,De,we,Ne)=>{re.slotScopeIds=we,te==null?re.shapeFlag&512?Pe.ctx.activate(re,oe,G,De,Ne):V(re,oe,G,Pe,Ae,De,Ne):j(te,re,Ne)},V=(te,re,oe,G,Pe,Ae,De)=>{const we=te.component=nx(te,G,Pe);if(U1(te)&&(we.ctx.renderer=me),sx(we,!1,De),we.asyncDep){if(Pe&&Pe.registerDep(we,F,De),!te.el){const Ne=we.subTree=wt(ms);w(null,Ne,re,oe)}}else F(we,te,re,oe,Pe,Ae,De)},j=(te,re,oe)=>{const G=re.component=te.component;if(G_(te,re,oe))if(G.asyncDep&&!G.asyncResolved){D(G,re,oe);return}else G.next=re,G.update();else re.el=te.el,G.vnode=re},F=(te,re,oe,G,Pe,Ae,De)=>{const we=()=>{if(te.isMounted){let{next:Ie,bu:qe,u:He,parent:Ke,vnode:gt}=te;{const Rt=p4(te);if(Rt){Ie&&(Ie.el=gt.el,D(te,Ie,De)),Rt.asyncDep.then(()=>{te.isUnmounted||we()});return}}let Ze=Ie,Je;Sa(te,!1),Ie?(Ie.el=gt.el,D(te,Ie,De)):Ie=gt,qe&&Gl(qe),(Je=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&_i(Je,Ke,Ie,gt),Sa(te,!0);const nt=M5(te),Xe=te.subTree;te.subTree=nt,b(Xe,nt,h(Xe.el),J(Xe),te,Pe,Ae),Ie.el=nt.el,Ze===null&&K_(te,nt.el),He&&ps(He,Pe),(Je=Ie.props&&Ie.props.onVnodeUpdated)&&ps(()=>_i(Je,Ke,Ie,gt),Pe)}else{let Ie;const{el:qe,props:He}=re,{bm:Ke,m:gt,parent:Ze,root:Je,type:nt}=te,Xe=Ka(re);Sa(te,!1),Ke&&Gl(Ke),!Xe&&(Ie=He&&He.onVnodeBeforeMount)&&_i(Ie,Ze,re),Sa(te,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(nt);const Rt=te.subTree=M5(te);b(null,Rt,oe,G,te,Pe,Ae),re.el=Rt.el}if(gt&&ps(gt,Pe),!Xe&&(Ie=He&&He.onVnodeMounted)){const Rt=re;ps(()=>_i(Ie,Ze,Rt),Pe)}(re.shapeFlag&256||Ze&&Ka(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&te.a&&ps(te.a,Pe),te.isMounted=!0,re=oe=G=null}};te.scope.on();const Ne=te.effect=new y9(we);te.scope.off();const xe=te.update=Ne.run.bind(Ne),Ve=te.job=Ne.runIfDirty.bind(Ne);Ve.i=te,Ve.id=te.uid,Ne.scheduler=()=>M0(Ve),Sa(te,!0),xe()},D=(te,re,oe)=>{re.component=te;const G=te.vnode.props;te.vnode=re,te.next=null,N_(te,re.props,G,oe),M_(te,re.children,oe),Qr(),L5(te),eo()},N=(te,re,oe,G,Pe,Ae,De,we,Ne=!1)=>{const xe=te&&te.children,Ve=te?te.shapeFlag:0,Ie=re.children,{patchFlag:qe,shapeFlag:He}=re;if(qe>0){if(qe&128){fe(xe,Ie,oe,G,Pe,Ae,De,we,Ne);return}else if(qe&256){ee(xe,Ie,oe,G,Pe,Ae,De,we,Ne);return}}He&8?(Ve&16&&ge(xe,Pe,Ae),Ie!==xe&&u(oe,Ie)):Ve&16?He&16?fe(xe,Ie,oe,G,Pe,Ae,De,we,Ne):ge(xe,Pe,Ae,!0):(Ve&8&&u(oe,""),He&16&&U(Ie,oe,G,Pe,Ae,De,we,Ne))},ee=(te,re,oe,G,Pe,Ae,De,we,Ne)=>{te=te||ql,re=re||ql;const xe=te.length,Ve=re.length,Ie=Math.min(xe,Ve);let qe;for(qe=0;qe<Ie;qe++){const He=re[qe]=Ne?No(re[qe]):dr(re[qe]);b(te[qe],He,oe,null,Pe,Ae,De,we,Ne)}xe>Ve?ge(te,Pe,Ae,!0,!1,Ie):U(re,oe,G,Pe,Ae,De,we,Ne,Ie)},fe=(te,re,oe,G,Pe,Ae,De,we,Ne)=>{let xe=0;const Ve=re.length;let Ie=te.length-1,qe=Ve-1;for(;xe<=Ie&&xe<=qe;){const He=te[xe],Ke=re[xe]=Ne?No(re[xe]):dr(re[xe]);if(Oo(He,Ke))b(He,Ke,oe,null,Pe,Ae,De,we,Ne);else break;xe++}for(;xe<=Ie&&xe<=qe;){const He=te[Ie],Ke=re[qe]=Ne?No(re[qe]):dr(re[qe]);if(Oo(He,Ke))b(He,Ke,oe,null,Pe,Ae,De,we,Ne);else break;Ie--,qe--}if(xe>Ie){if(xe<=qe){const He=qe+1,Ke=He<Ve?re[He].el:G;for(;xe<=qe;)b(null,re[xe]=Ne?No(re[xe]):dr(re[xe]),oe,Ke,Pe,Ae,De,we,Ne),xe++}}else if(xe>qe)for(;xe<=Ie;)A(te[xe],Pe,Ae,!0),xe++;else{const He=xe,Ke=xe,gt=new Map;for(xe=Ke;xe<=qe;xe++){const ht=re[xe]=Ne?No(re[xe]):dr(re[xe]);ht.key!=null&&gt.set(ht.key,xe)}let Ze,Je=0;const nt=qe-Ke+1;let Xe=!1,Rt=0;const $t=new Array(nt);for(xe=0;xe<nt;xe++)$t[xe]=0;for(xe=He;xe<=Ie;xe++){const ht=te[xe];if(Je>=nt){A(ht,Pe,Ae,!0);continue}let Mt;if(ht.key!=null)Mt=gt.get(ht.key);else for(Ze=Ke;Ze<=qe;Ze++)if($t[Ze-Ke]===0&&Oo(ht,re[Ze])){Mt=Ze;break}Mt===void 0?A(ht,Pe,Ae,!0):($t[Mt-Ke]=xe+1,Mt>=Rt?Rt=Mt:Xe=!0,b(ht,re[Mt],oe,null,Pe,Ae,De,we,Ne),Je++)}const st=Xe?B_($t):ql;for(Ze=st.length-1,xe=nt-1;xe>=0;xe--){const ht=Ke+xe,Mt=re[ht],mt=ht+1<Ve?re[ht+1].el:G;$t[xe]===0?b(null,Mt,oe,mt,Pe,Ae,De,we,Ne):Xe&&(Ze<0||xe!==st[Ze]?ae(Mt,oe,mt,2):Ze--)}}},ae=(te,re,oe,G,Pe=null)=>{const{el:Ae,type:De,transition:we,children:Ne,shapeFlag:xe}=te;if(xe&6){ae(te.component.subTree,re,oe,G);return}if(xe&128){te.suspense.move(re,oe,G);return}if(xe&64){De.move(te,re,oe,me);return}if(De===Ye){s(Ae,re,oe);for(let Ie=0;Ie<Ne.length;Ie++)ae(Ne[Ie],re,oe,G);s(te.anchor,re,oe);return}if(De===Vh){k(te,re,oe);return}if(G!==2&&xe&1&&we)if(G===0)we.beforeEnter(Ae),s(Ae,re,oe),ps(()=>we.enter(Ae),Pe);else{const{leave:Ie,delayLeave:qe,afterLeave:He}=we,Ke=()=>{te.ctx.isUnmounted?i(Ae):s(Ae,re,oe)},gt=()=>{Ie(Ae,()=>{Ke(),He&&He()})};qe?qe(Ae,Ke,gt):gt()}else s(Ae,re,oe)},A=(te,re,oe,G=!1,Pe=!1)=>{const{type:Ae,props:De,ref:we,children:Ne,dynamicChildren:xe,shapeFlag:Ve,patchFlag:Ie,dirs:qe,cacheIndex:He}=te;if(Ie===-2&&(Pe=!1),we!=null&&(Qr(),bu(we,null,oe,te,!0),eo()),He!=null&&(re.renderCache[He]=void 0),Ve&256){re.ctx.deactivate(te);return}const Ke=Ve&1&&qe,gt=!Ka(te);let Ze;if(gt&&(Ze=De&&De.onVnodeBeforeUnmount)&&_i(Ze,re,te),Ve&6)he(te.component,oe,G);else{if(Ve&128){te.suspense.unmount(oe,G);return}Ke&&ka(te,null,re,"beforeUnmount"),Ve&64?te.type.remove(te,re,oe,me,G):xe&&!xe.hasOnce&&(Ae!==Ye||Ie>0&&Ie&64)?ge(xe,re,oe,!1,!0):(Ae===Ye&&Ie&384||!Pe&&Ve&16)&&ge(Ne,re,oe),G&&O(te)}(gt&&(Ze=De&&De.onVnodeUnmounted)||Ke)&&ps(()=>{Ze&&_i(Ze,re,te),Ke&&ka(te,null,re,"unmounted")},oe)},O=te=>{const{type:re,el:oe,anchor:G,transition:Pe}=te;if(re===Ye){Y(oe,G);return}if(re===Vh){S(te);return}const Ae=()=>{i(oe),Pe&&!Pe.persisted&&Pe.afterLeave&&Pe.afterLeave()};if(te.shapeFlag&1&&Pe&&!Pe.persisted){const{leave:De,delayLeave:we}=Pe,Ne=()=>De(oe,Ae);we?we(te.el,Ae,Ne):Ne()}else Ae()},Y=(te,re)=>{let oe;for(;te!==re;)oe=p(te),i(te),te=oe;i(re)},he=(te,re,oe)=>{const{bum:G,scope:Pe,job:Ae,subTree:De,um:we,m:Ne,a:xe,parent:Ve,slots:{__:Ie}}=te;d1(Ne),d1(xe),G&&Gl(G),Ve&&pt(Ie)&&Ie.forEach(qe=>{Ve.renderCache[qe]=void 0}),Pe.stop(),Ae&&(Ae.flags|=8,A(De,te,re,oe)),we&&ps(we,re),ps(()=>{te.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&te.asyncDep&&!te.asyncResolved&&te.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},ge=(te,re,oe,G=!1,Pe=!1,Ae=0)=>{for(let De=Ae;De<te.length;De++)A(te[De],re,oe,G,Pe)},J=te=>{if(te.shapeFlag&6)return J(te.component.subTree);if(te.shapeFlag&128)return te.suspense.next();const re=p(te.anchor||te.el),oe=re&&re[o_];return oe?p(oe):re};let X=!1;const se=(te,re,oe)=>{te==null?re._vnode&&A(re._vnode,null,null,!0):b(re._vnode||null,te,re,null,null,null,oe),re._vnode=te,X||(X=!0,L5(),B9(),X=!1)},me={p:b,um:A,m:ae,r:O,mt:V,mc:U,pc:N,pbc:q,n:J,o:t};return{render:se,hydrate:void 0,createApp:E_(se)}}function sp({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Sa({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function j_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function f4(t,e,n=!1){const s=t.children,i=e.children;if(pt(s)&&pt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=No(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&f4(o,a)),a.type===q1&&(a.el=o.el),a.type===ms&&!a.el&&(a.el=o.el)}}function B_(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function p4(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:p4(e)}function d1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const F_=Symbol.for("v-scx"),U_=()=>ki(F_);function mr(t,e,n){return g4(t,e,n)}function g4(t,e,n=ln){const{immediate:s,deep:i,flush:r,once:o}=n,a=as({},n),l=e&&s||!e&&r!=="post";let c;if(Bu){if(r==="sync"){const f=U_();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=gr,f.resume=gr,f.pause=gr,f}}const u=rs;a.call=(f,m,b)=>qi(f,u,m,b);let h=!1;r==="post"?a.scheduler=f=>{ps(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,m)=>{m?f():M0(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const p=n_(t,e,a);return Bu&&(c?c.push(p):l&&p()),p}function z_(t,e,n){const s=this.proxy,i=kn(t)?t.includes(".")?m4(s,t):()=>s[t]:t.bind(s,s);let r;Et(e)?r=e:(r=e.handler,n=e);const o=cd(this),a=g4(i,r.bind(s),n);return o(),a}function m4(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const V_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ai(e)}Modifiers`]||t[`${Zo(e)}Modifiers`];function H_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ln;let i=n;const r=e.startsWith("update:"),o=r&&V_(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>kn(u)?u.trim():u)),o.number&&(i=n.map(i1)));let a,l=s[a=Yf(e)]||s[a=Yf(Ai(e))];!l&&r&&(l=s[a=Yf(Zo(e))]),l&&qi(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qi(c,t,6,i)}}function v4(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!Et(t)){const l=c=>{const u=v4(c,e,!0);u&&(a=!0,as(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(cn(t)&&s.set(t,null),null):(pt(r)?r.forEach(l=>o[l]=null):as(o,r),cn(t)&&s.set(t,o),o)}function H1(t,e){return!t||!D1(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(t,e[0].toLowerCase()+e.slice(1))||Jt(t,Zo(e))||Jt(t,e))}function M5(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:p,setupState:f,ctx:m,inheritAttrs:b}=t,y=c1(t);let w,C;try{if(n.shapeFlag&4){const S=i||s,I=S;w=dr(c.call(I,S,u,h,f,p,m)),C=a}else{const S=e;w=dr(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),C=e.props?a:q_(a)}}catch(S){wu.length=0,F1(S,t,1),w=wt(ms)}let k=w;if(C&&b!==!1){const S=Object.keys(C),{shapeFlag:I}=k;S.length&&I&7&&(r&&S.some(C0)&&(C=W_(C,r)),k=no(k,C,!1,!0))}return n.dirs&&(k=no(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&tc(k,n.transition),w=k,c1(y),w}const q_=t=>{let e;for(const n in t)(n==="class"||n==="style"||D1(n))&&((e||(e={}))[n]=t[n]);return e},W_=(t,e)=>{const n={};for(const s in t)(!C0(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function G_(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?R5(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(o[p]!==s[p]&&!H1(c,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?R5(s,o,c):!0:!!o;return!1}function R5(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!H1(n,r))return!0}return!1}function K_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const h1=t=>t.__isSuspense;function Y_(t,e){e&&e.pendingBranch?pt(t)?e.effects.push(...t):e.effects.push(t):r_(t)}const Ye=Symbol.for("v-fgt"),q1=Symbol.for("v-txt"),ms=Symbol.for("v-cmt"),Vh=Symbol.for("v-stc"),wu=[];let ai=null;function M(t=!1){wu.push(ai=t?null:[])}function Z_(){wu.pop(),ai=wu[wu.length-1]||null}let ju=1;function $5(t,e=!1){ju+=t,t<0&&ai&&e&&(ai.hasOnce=!0)}function b4(t){return t.dynamicChildren=ju>0?ai||ql:null,Z_(),ju>0&&ai&&ai.push(t),t}function B(t,e,n,s,i,r){return b4(d(t,e,n,s,i,r,!0))}function qo(t,e,n,s,i){return b4(wt(t,e,n,s,i,!0))}function nc(t){return t?t.__v_isVNode===!0:!1}function Oo(t,e){return t.type===e.type&&t.key===e.key}const y4=({key:t})=>t??null,Hh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?kn(t)||Un(t)||Et(t)?{i:ts,r:t,k:e,f:!!n}:t:null);function d(t,e=null,n=null,s=0,i=null,r=t===Ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&y4(e),ref:e&&Hh(e),scopeId:U9,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ts};return a?(B0(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=kn(n)?8:16),ju>0&&!o&&ai&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&ai.push(l),l}const wt=J_;function J_(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===X9)&&(t=ms),nc(t)){const a=no(t,e,!0);return n&&B0(a,n),ju>0&&!r&&ai&&(a.shapeFlag&6?ai[ai.indexOf(t)]=a:ai.push(a)),a.patchFlag=-2,a}if(ax(t)&&(t=t.__vccOpts),e){e=X_(e);let{class:a,style:l}=e;a&&!kn(a)&&(e.class=ft(a)),cn(l)&&(O0(l)&&!pt(l)&&(l=as({},l)),e.style=j1(l))}const o=kn(t)?1:h1(t)?128:z9(t)?64:cn(t)?4:Et(t)?2:0;return d(t,e,n,s,i,o,r,!0)}function X_(t){return t?O0(t)||a4(t)?as({},t):t:null}function no(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?Q_(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&y4(c),ref:e&&e.ref?n&&r?pt(r)?r.concat(Hh(e)):[r,Hh(e)]:Hh(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&no(t.ssContent),ssFallback:t.ssFallback&&no(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&tc(u,l.clone(u)),u}function Re(t=" ",e=0){return wt(q1,null,t,e)}function Ws(t,e){const n=wt(Vh,null,t);return n.staticCount=e,n}function Ce(t="",e=!1){return e?(M(),qo(ms,null,t)):wt(ms,null,t)}function dr(t){return t==null||typeof t=="boolean"?wt(ms):pt(t)?wt(Ye,null,t.slice()):nc(t)?No(t):wt(q1,null,String(t))}function No(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:no(t)}function B0(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(pt(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),B0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!a4(e)?e._ctx=ts:i===3&&ts&&(ts.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Et(e)?(e={default:e,_ctx:ts},n=32):(e=String(e),s&64?(n=16,e=[Re(e)]):n=8);t.children=e,t.shapeFlag|=n}function Q_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=ft([e.class,s.class]));else if(i==="style")e.style=j1([e.style,s.style]);else if(D1(i)){const r=e[i],o=s[i];o&&r!==o&&!(pt(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function _i(t,e,n,s=null){qi(t,e,7,[n,s])}const ex=i4();let tx=0;function nx(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||ex,r={uid:tx++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new m9(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:c4(s,i),emitsOptions:v4(s,i),emit:null,emitted:null,propsDefaults:ln,inheritAttrs:s.inheritAttrs,ctx:ln,data:ln,props:ln,attrs:ln,slots:ln,refs:ln,setupState:ln,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=H_.bind(null,r),t.ce&&t.ce(r),r}let rs=null;const w4=()=>rs||ts;let f1,k2;{const t=$1(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};f1=e("__VUE_INSTANCE_SETTERS__",n=>rs=n),k2=e("__VUE_SSR_SETTERS__",n=>Bu=n)}const cd=t=>{const e=rs;return f1(t),t.scope.on(),()=>{t.scope.off(),f1(e)}},j5=()=>{rs&&rs.scope.off(),f1(null)};function _4(t){return t.vnode.shapeFlag&4}let Bu=!1;function sx(t,e=!1,n=!1){e&&k2(e);const{props:s,children:i}=t.vnode,r=_4(t);P_(t,s,r,e),D_(t,i,n||e);const o=r?ix(t,e):void 0;return e&&k2(!1),o}function ix(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,__);const{setup:s}=n;if(s){Qr();const i=t.setupContext=s.length>1?ox(t):null,r=cd(t),o=ad(s,t,0,[t.props,i]),a=u9(o);if(eo(),r(),(a||t.sp)&&!Ka(t)&&K9(t),a){if(o.then(j5,j5),e)return o.then(l=>{B5(t,l)}).catch(l=>{F1(l,t,0)});t.asyncDep=o}else B5(t,o)}else x4(t)}function B5(t,e,n){Et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:cn(e)&&(t.setupState=R9(e)),x4(t)}function x4(t,e,n){const s=t.type;t.render||(t.render=s.render||gr);{const i=cd(t);Qr();try{x_(t)}finally{eo(),i()}}}const rx={get(t,e){return Es(t,"get",""),t[e]}};function ox(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,rx),slots:t.slots,emit:t.emit,expose:e}}function W1(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(R9(D0(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in yu)return yu[n](t)},has(e,n){return n in e||n in yu}})):t.proxy}function S2(t,e=!0){return Et(t)?t.displayName||t.name:t.name||e&&t.__name}function ax(t){return Et(t)&&"__vccOpts"in t}const Xt=(t,e)=>e_(t,e,Bu);function Rs(t,e,n){const s=arguments.length;return s===2?cn(e)&&!pt(e)?nc(e)?wt(t,null,[e]):wt(t,e):wt(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&nc(n)&&(n=[n]),wt(t,e,n))}const lx="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let A2;const F5=typeof window<"u"&&window.trustedTypes;if(F5)try{A2=F5.createPolicy("vue",{createHTML:t=>t})}catch{}const C4=A2?t=>A2.createHTML(t):t=>t,cx="http://www.w3.org/2000/svg",ux="http://www.w3.org/1998/Math/MathML",zr=typeof document<"u"?document:null,U5=zr&&zr.createElement("template"),dx={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?zr.createElementNS(cx,t):e==="mathml"?zr.createElementNS(ux,t):n?zr.createElement(t,{is:n}):zr.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>zr.createTextNode(t),createComment:t=>zr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{U5.innerHTML=C4(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=U5.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Co="transition",Jc="animation",Fu=Symbol("_vtc"),k4={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hx=as({},V9,k4),fx=t=>(t.displayName="Transition",t.props=hx,t),Li=fx((t,{slots:e})=>Rs(c_,px(t),e)),Aa=(t,e=[])=>{pt(t)?t.forEach(n=>n(...e)):t&&t(...e)},z5=t=>t?pt(t)?t.some(e=>e.length>1):t.length>1:!1;function px(t){const e={};for(const P in t)P in k4||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,m=gx(i),b=m&&m[0],y=m&&m[1],{onBeforeEnter:w,onEnter:C,onEnterCancelled:k,onLeave:S,onLeaveCancelled:I,onBeforeAppear:z=w,onAppear:H=C,onAppearCancelled:U=k}=e,T=(P,ne,V,j)=>{P._enterCancelled=j,La(P,ne?u:a),La(P,ne?c:o),V&&V()},q=(P,ne)=>{P._isLeaving=!1,La(P,h),La(P,f),La(P,p),ne&&ne()},L=P=>(ne,V)=>{const j=P?H:C,F=()=>T(ne,P,V);Aa(j,[ne,F]),V5(()=>{La(ne,P?l:r),Mr(ne,P?u:a),z5(j)||H5(ne,s,b,F)})};return as(e,{onBeforeEnter(P){Aa(w,[P]),Mr(P,r),Mr(P,o)},onBeforeAppear(P){Aa(z,[P]),Mr(P,l),Mr(P,c)},onEnter:L(!1),onAppear:L(!0),onLeave(P,ne){P._isLeaving=!0;const V=()=>q(P,ne);Mr(P,h),P._enterCancelled?(Mr(P,p),G5()):(G5(),Mr(P,p)),V5(()=>{P._isLeaving&&(La(P,h),Mr(P,f),z5(S)||H5(P,s,y,V))}),Aa(S,[P,V])},onEnterCancelled(P){T(P,!1,void 0,!0),Aa(k,[P])},onAppearCancelled(P){T(P,!0,void 0,!0),Aa(U,[P])},onLeaveCancelled(P){q(P),Aa(I,[P])}})}function gx(t){if(t==null)return null;if(cn(t))return[ip(t.enter),ip(t.leave)];{const e=ip(t);return[e,e]}}function ip(t){return y7(t)}function Mr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Fu]||(t[Fu]=new Set)).add(e)}function La(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Fu];n&&(n.delete(e),n.size||(t[Fu]=void 0))}function V5(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let mx=0;function H5(t,e,n,s){const i=t._endId=++mx,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=vx(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,p),r()},p=f=>{f.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,p)}function vx(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),i=s(`${Co}Delay`),r=s(`${Co}Duration`),o=q5(i,r),a=s(`${Jc}Delay`),l=s(`${Jc}Duration`),c=q5(a,l);let u=null,h=0,p=0;e===Co?o>0&&(u=Co,h=o,p=r.length):e===Jc?c>0&&(u=Jc,h=c,p=l.length):(h=Math.max(o,c),u=h>0?o>c?Co:Jc:null,p=u?u===Co?r.length:l.length:0);const f=u===Co&&/\b(transform|all)(,|$)/.test(s(`${Co}Property`).toString());return{type:u,timeout:h,propCount:p,hasTransform:f}}function q5(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>W5(n)+W5(t[s])))}function W5(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function G5(){return document.body.offsetHeight}function bx(t,e,n){const s=t[Fu];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const K5=Symbol("_vod"),yx=Symbol("_vsh"),wx=Symbol(""),_x=/(^|;)\s*display\s*:/;function xx(t,e,n){const s=t.style,i=kn(n);let r=!1;if(n&&!i){if(e)if(kn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&qh(s,a,"")}else for(const o in e)n[o]==null&&qh(s,o,"");for(const o in n)o==="display"&&(r=!0),qh(s,o,n[o])}else if(i){if(e!==n){const o=s[wx];o&&(n+=";"+o),s.cssText=n,r=_x.test(n)}}else e&&t.removeAttribute("style");K5 in t&&(t[K5]=r?s.display:"",t[yx]&&(s.display="none"))}const Y5=/\s*!important$/;function qh(t,e,n){if(pt(n))n.forEach(s=>qh(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Cx(t,e);Y5.test(n)?t.setProperty(Zo(s),n.replace(Y5,""),"important"):t[s]=n}}const Z5=["Webkit","Moz","ms"],rp={};function Cx(t,e){const n=rp[e];if(n)return n;let s=Ai(e);if(s!=="filter"&&s in t)return rp[e]=s;s=R1(s);for(let i=0;i<Z5.length;i++){const r=Z5[i]+s;if(r in t)return rp[e]=r}return e}const J5="http://www.w3.org/1999/xlink";function X5(t,e,n,s,i,r=S7(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(J5,e.slice(6,e.length)):t.setAttributeNS(J5,e,n):n==null||r&&!f9(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Hi(n)?String(n):n)}function Q5(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?C4(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=f9(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Kr(t,e,n,s){t.addEventListener(e,n,s)}function kx(t,e,n,s){t.removeEventListener(e,n,s)}const em=Symbol("_vei");function Sx(t,e,n,s,i=null){const r=t[em]||(t[em]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=Ax(e);if(s){const c=r[e]=Tx(s,i);Kr(t,a,c,l)}else o&&(kx(t,a,o,l),r[e]=void 0)}}const tm=/(?:Once|Passive|Capture)$/;function Ax(t){let e;if(tm.test(t)){e={};let s;for(;s=t.match(tm);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zo(t.slice(2)),e]}let op=0;const Lx=Promise.resolve(),Ex=()=>op||(Lx.then(()=>op=0),op=Date.now());function Tx(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;qi(Px(s,n.value),e,5,[s])};return n.value=t,n.attached=Ex(),n}function Px(t,e){if(pt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const nm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Nx=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?bx(t,s,o):e==="style"?xx(t,n,s):D1(e)?C0(e)||Sx(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ix(t,e,s,o))?(Q5(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&X5(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!kn(s))?Q5(t,Ai(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),X5(t,e,s,o))};function Ix(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&nm(e)&&Et(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return nm(e)&&kn(n)?!1:e in t}const Wo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pt(e)?n=>Gl(e,n):e};function Ox(t){t.target.composing=!0}function sm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Si=Symbol("_assign"),We={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Si]=Wo(i);const r=s||i.props&&i.props.type==="number";Kr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=i1(a)),t[Si](a)}),n&&Kr(t,"change",()=>{t.value=t.value.trim()}),e||(Kr(t,"compositionstart",Ox),Kr(t,"compositionend",sm),Kr(t,"change",sm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[Si]=Wo(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?i1(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Uu={deep:!0,created(t,e,n){t[Si]=Wo(n),Kr(t,"change",()=>{const s=t._modelValue,i=sc(t),r=t.checked,o=t[Si];if(pt(s)){const a=A0(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(fc(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(S4(t,r))})},mounted:im,beforeUpdate(t,e,n){t[Si]=Wo(n),im(t,e,n)}};function im(t,{value:e,oldValue:n},s){t._modelValue=e;let i;if(pt(e))i=A0(e,s.props.value)>-1;else if(fc(e))i=e.has(s.props.value);else{if(e===n)return;i=el(e,S4(t,!0))}t.checked!==i&&(t.checked=i)}const zu={created(t,{value:e},n){t.checked=el(e,n.props.value),t[Si]=Wo(n),Kr(t,"change",()=>{t[Si](sc(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[Si]=Wo(s),e!==n&&(t.checked=el(e,s.props.value))}},ud={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=fc(e);Kr(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?i1(sc(o)):sc(o));t[Si](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,ci(()=>{t._assigning=!1})}),t[Si]=Wo(s)},mounted(t,{value:e}){rm(t,e)},beforeUpdate(t,e,n){t[Si]=Wo(n)},updated(t,{value:e}){t._assigning||rm(t,e)}};function rm(t,e){const n=t.multiple,s=pt(e);if(!(n&&!s&&!fc(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=sc(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=A0(e,a)>-1}else o.selected=e.has(a);else if(el(sc(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function sc(t){return"_value"in t?t._value:t.value}function S4(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Vu={created(t,e,n){lh(t,e,n,null,"created")},mounted(t,e,n){lh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){lh(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){lh(t,e,n,s,"updated")}};function Dx(t,e){switch(t){case"SELECT":return ud;case"TEXTAREA":return We;default:switch(e){case"checkbox":return Uu;case"radio":return zu;default:return We}}}function lh(t,e,n,s,i){const o=Dx(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,s)}const Mx=["ctrl","shift","alt","meta"],Rx={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Mx.some(n=>t[`${n}Key`]&&!e.includes(n))},vt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=Rx[e[o]];if(a&&a(i,e))return}return t(i,...r)})},$x={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jx=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Zo(i.key);if(e.some(o=>o===r||$x[o]===r))return t(i)})},Bx=as({patchProp:Nx},dx);let om;function Fx(){return om||(om=R_(Bx))}const Ux=(...t)=>{const e=Fx().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Vx(s);if(!i)return;const r=e._component;!Et(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,zx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function zx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Vx(t){return kn(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let A4;const G1=t=>A4=t,L4=Symbol();function L2(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var _u;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(_u||(_u={}));function Hx(){const t=v9(!0),e=t.run(()=>le({}));let n=[],s=[];const i=D0({install(r){G1(i),i._a=r,r.provide(L4,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const E4=()=>{};function am(t,e,n,s=E4){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&b9()&&L7(i),i}function Al(t,...e){t.slice().forEach(n=>{n(...e)})}const qx=t=>t(),lm=Symbol(),ap=Symbol();function E2(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];L2(i)&&L2(s)&&t.hasOwnProperty(n)&&!Un(s)&&!Fo(s)?t[n]=E2(i,s):t[n]=s}return t}const Wx=Symbol();function Gx(t){return!L2(t)||!t.hasOwnProperty(Wx)}const{assign:Eo}=Object;function Kx(t){return!!(Un(t)&&t.effect)}function Yx(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=Z7(n.state.value[t]);return Eo(u,r,Object.keys(o||{}).reduce((h,p)=>(h[p]=D0(Xt(()=>{G1(n);const f=n._s.get(t);return o[p].call(f,f)})),h),{}))}return l=T4(t,c,e,n,s,!0),l}function T4(t,e,n={},s,i,r){let o;const a=Eo({actions:{}},n),l={deep:!0};let c,u,h=[],p=[],f;const m=s.state.value[t];!r&&!m&&(s.state.value[t]={}),le({});let b;function y(U){let T;c=u=!1,typeof U=="function"?(U(s.state.value[t]),T={type:_u.patchFunction,storeId:t,events:f}):(E2(s.state.value[t],U),T={type:_u.patchObject,payload:U,storeId:t,events:f});const q=b=Symbol();ci().then(()=>{b===q&&(c=!0)}),u=!0,Al(h,T,s.state.value[t])}const w=r?function(){const{state:T}=n,q=T?T():{};this.$patch(L=>{Eo(L,q)})}:E4;function C(){o.stop(),h=[],p=[],s._s.delete(t)}const k=(U,T="")=>{if(lm in U)return U[ap]=T,U;const q=function(){G1(s);const L=Array.from(arguments),P=[],ne=[];function V(D){P.push(D)}function j(D){ne.push(D)}Al(p,{args:L,name:q[ap],store:I,after:V,onError:j});let F;try{F=U.apply(this&&this.$id===t?this:I,L)}catch(D){throw Al(ne,D),D}return F instanceof Promise?F.then(D=>(Al(P,D),D)).catch(D=>(Al(ne,D),Promise.reject(D))):(Al(P,F),F)};return q[lm]=!0,q[ap]=T,q},S={_p:s,$id:t,$onAction:am.bind(null,p),$patch:y,$reset:w,$subscribe(U,T={}){const q=am(h,U,T.detached,()=>L()),L=o.run(()=>mr(()=>s.state.value[t],P=>{(T.flush==="sync"?u:c)&&U({storeId:t,type:_u.direct,events:f},P)},Eo({},l,T)));return q},$dispose:C},I=es(S);s._s.set(t,I);const H=(s._a&&s._a.runWithContext||qx)(()=>s._e.run(()=>(o=v9()).run(()=>e({action:k}))));for(const U in H){const T=H[U];if(Un(T)&&!Kx(T)||Fo(T))r||(m&&Gx(T)&&(Un(T)?T.value=m[U]:E2(T,m[U])),s.state.value[t][U]=T);else if(typeof T=="function"){const q=k(T,U);H[U]=q,a.actions[U]=T}}return Eo(I,H),Eo(Ht(I),H),Object.defineProperty(I,"$state",{get:()=>s.state.value[t],set:U=>{y(T=>{Eo(T,U)})}}),s._p.forEach(U=>{Eo(I,o.run(()=>U({store:I,app:s._a,pinia:s,options:a})))}),m&&r&&n.hydrate&&n.hydrate(I.$state,m),c=!0,u=!0,I}/*! #__NO_SIDE_EFFECTS__ */function F0(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=T_();return a=a||(c?ki(L4,null):null),a&&G1(a),a=A4,a._s.has(s)||(r?T4(s,e,i,a):Yx(s,i,a)),a._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const jl=typeof document<"u";function P4(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&P4(t.default)}const Zt=Object.assign;function lp(t,e){const n={};for(const s in e){const i=e[s];n[s]=Wi(i)?i.map(t):t(i)}return n}const xu=()=>{},Wi=Array.isArray,N4=/#/g,Jx=/&/g,Xx=/\//g,Qx=/=/g,eC=/\?/g,I4=/\+/g,tC=/%5B/g,nC=/%5D/g,O4=/%5E/g,sC=/%60/g,D4=/%7B/g,iC=/%7C/g,M4=/%7D/g,rC=/%20/g;function U0(t){return encodeURI(""+t).replace(iC,"|").replace(tC,"[").replace(nC,"]")}function oC(t){return U0(t).replace(D4,"{").replace(M4,"}").replace(O4,"^")}function T2(t){return U0(t).replace(I4,"%2B").replace(rC,"+").replace(N4,"%23").replace(Jx,"%26").replace(sC,"`").replace(D4,"{").replace(M4,"}").replace(O4,"^")}function aC(t){return T2(t).replace(Qx,"%3D")}function lC(t){return U0(t).replace(N4,"%23").replace(eC,"%3F")}function cC(t){return t==null?"":lC(t).replace(Xx,"%2F")}function Hu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const uC=/\/$/,dC=t=>t.replace(uC,"");function cp(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=gC(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Hu(o)}}function hC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function cm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fC(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&ic(e.matched[s],n.matched[i])&&R4(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ic(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function R4(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!pC(t[n],e[n]))return!1;return!0}function pC(t,e){return Wi(t)?um(t,e):Wi(e)?um(e,t):t===e}function um(t,e){return Wi(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function gC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const ko={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qu;(function(t){t.pop="pop",t.push="push"})(qu||(qu={}));var Cu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Cu||(Cu={}));function mC(t){if(!t)if(jl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dC(t)}const vC=/^[^#]+#/;function bC(t,e){return t.replace(vC,"#")+e}function yC(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const K1=()=>({left:window.scrollX,top:window.scrollY});function wC(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=yC(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function dm(t,e){return(history.state?history.state.position-e:-1)+t}const P2=new Map;function _C(t,e){P2.set(t,e)}function xC(t){const e=P2.get(t);return P2.delete(t),e}let CC=()=>location.protocol+"//"+location.host;function $4(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),cm(l,"")}return cm(n,t)+s+i}function kC(t,e,n,s){let i=[],r=[],o=null;const a=({state:p})=>{const f=$4(t,location),m=n.value,b=e.value;let y=0;if(p){if(n.value=f,e.value=p,o&&o===m){o=null;return}y=b?p.position-b.position:0}else s(f);i.forEach(w=>{w(n.value,m,{delta:y,type:qu.pop,direction:y?y>0?Cu.forward:Cu.back:Cu.unknown})})};function l(){o=n.value}function c(p){i.push(p);const f=()=>{const m=i.indexOf(p);m>-1&&i.splice(m,1)};return r.push(f),f}function u(){const{history:p}=window;p.state&&p.replaceState(Zt({},p.state,{scroll:K1()}),"")}function h(){for(const p of r)p();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function hm(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?K1():null}}function SC(t){const{history:e,location:n}=window,s={value:$4(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:CC()+t+l;try{e[u?"replaceState":"pushState"](c,"",p),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](p)}}function o(l,c){const u=Zt({},e.state,hm(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Zt({},i.value,e.state,{forward:l,scroll:K1()});r(u.current,u,!0);const h=Zt({},hm(s.value,l,null),{position:u.position+1},c);r(l,h,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function AC(t){t=mC(t);const e=SC(t),n=kC(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Zt({location:"",base:t,go:s,createHref:bC.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function LC(t){return typeof t=="string"||t&&typeof t=="object"}function j4(t){return typeof t=="string"||typeof t=="symbol"}const B4=Symbol("");var fm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(fm||(fm={}));function rc(t,e){return Zt(new Error,{type:t,[B4]:!0},e)}function Rr(t,e){return t instanceof Error&&B4 in t&&(e==null||!!(t.type&e))}const pm="[^/]+?",EC={sensitive:!1,strict:!1,start:!0,end:!0},TC=/[.+*?^${}()[\]/\\]/g;function PC(t,e){const n=Zt({},EC,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const p=c[h];let f=40+(n.sensitive?.25:0);if(p.type===0)h||(i+="/"),i+=p.value.replace(TC,"\\$&"),f+=40;else if(p.type===1){const{value:m,repeatable:b,optional:y,regexp:w}=p;r.push({name:m,repeatable:b,optional:y});const C=w||pm;if(C!==pm){f+=10;try{new RegExp(`(${C})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+S.message)}}let k=b?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(k=y&&c.length<2?`(?:/${k})`:"/"+k),y&&(k+="?"),i+=k,f+=20,y&&(f+=-8),b&&(f+=-20),C===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let p=1;p<u.length;p++){const f=u[p]||"",m=r[p-1];h[m.name]=f&&m.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const p of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of p)if(f.type===0)u+=f.value;else if(f.type===1){const{value:m,repeatable:b,optional:y}=f,w=m in c?c[m]:"";if(Wi(w)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=Wi(w)?w.join("/"):w;if(!C)if(y)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=C}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function NC(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function F4(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=NC(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(gm(s))return 1;if(gm(i))return-1}return i.length-s.length}function gm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const IC={type:0,value:""},OC=/[a-zA-Z0-9_]/;function DC(t){if(!t)return[[]];if(t==="/")return[[IC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):p();break;case 4:p(),n=s;break;case 1:l==="("?n=2:OC.test(l)?p():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function MC(t,e,n){const s=PC(DC(t.path),n),i=Zt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function RC(t,e){const n=[],s=new Map;e=ym({strict:!1,end:!0,sensitive:!1},e);function i(h){return s.get(h)}function r(h,p,f){const m=!f,b=vm(h);b.aliasOf=f&&f.record;const y=ym(e,h),w=[b];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const I of S)w.push(vm(Zt({},b,{components:f?f.record.components:b.components,path:I,aliasOf:f?f.record:b})))}let C,k;for(const S of w){const{path:I}=S;if(p&&I[0]!=="/"){const z=p.record.path,H=z[z.length-1]==="/"?"":"/";S.path=p.record.path+(I&&H+I)}if(C=MC(S,p,y),f?f.alias.push(C):(k=k||C,k!==C&&k.alias.push(C),m&&h.name&&!bm(C)&&o(h.name)),U4(C)&&l(C),b.children){const z=b.children;for(let H=0;H<z.length;H++)r(z[H],C,f&&f.children[H])}f=f||C}return k?()=>{o(k)}:xu}function o(h){if(j4(h)){const p=s.get(h);p&&(s.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const p=BC(h,n);n.splice(p,0,h),h.record.name&&!bm(h)&&s.set(h.record.name,h)}function c(h,p){let f,m={},b,y;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw rc(1,{location:h});y=f.record.name,m=Zt(mm(p.params,f.keys.filter(k=>!k.optional).concat(f.parent?f.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),h.params&&mm(h.params,f.keys.map(k=>k.name))),b=f.stringify(m)}else if(h.path!=null)b=h.path,f=n.find(k=>k.re.test(b)),f&&(m=f.parse(b),y=f.record.name);else{if(f=p.name?s.get(p.name):n.find(k=>k.re.test(p.path)),!f)throw rc(1,{location:h,currentLocation:p});y=f.record.name,m=Zt({},p.params,h.params),b=f.stringify(m)}const w=[];let C=f;for(;C;)w.unshift(C.record),C=C.parent;return{name:y,path:b,params:m,matched:w,meta:jC(w)}}t.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function mm(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function vm(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$C(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $C(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function bm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jC(t){return t.reduce((e,n)=>Zt(e,n.meta),{})}function ym(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function BC(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;F4(t,e[r])<0?s=r:n=r+1}const i=FC(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function FC(t){let e=t;for(;e=e.parent;)if(U4(e)&&F4(t,e)===0)return e}function U4({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function UC(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(I4," "),o=r.indexOf("="),a=Hu(o<0?r:r.slice(0,o)),l=o<0?null:Hu(r.slice(o+1));if(a in e){let c=e[a];Wi(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function wm(t){let e="";for(let n in t){const s=t[n];if(n=aC(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wi(s)?s.map(r=>r&&T2(r)):[s&&T2(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function zC(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Wi(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const VC=Symbol(""),_m=Symbol(""),Y1=Symbol(""),z0=Symbol(""),N2=Symbol("");function Xc(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Io(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=p=>{p===!1?l(rc(4,{from:n,to:e})):p instanceof Error?l(p):LC(p)?l(rc(2,{from:e,to:p})):(o&&s.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(p=>l(p))})}function up(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(P4(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Io(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Zx(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&Io(f,n,s,o,a,i)()}))}}return r}function xm(t){const e=ki(Y1),n=ki(z0),s=Xt(()=>{const l=qt(t.to);return e.resolve(l)}),i=Xt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const p=h.findIndex(ic.bind(null,u));if(p>-1)return p;const f=Cm(l[c-2]);return c>1&&Cm(u)===f&&h[h.length-1].path!==f?h.findIndex(ic.bind(null,l[c-2])):p}),r=Xt(()=>i.value>-1&&KC(n.params,s.value.params)),o=Xt(()=>i.value>-1&&i.value===n.matched.length-1&&R4(n.params,s.value.params));function a(l={}){if(GC(l)){const c=e[qt(t.replace)?"replace":"push"](qt(t.to)).catch(xu);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Xt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function HC(t){return t.length===1?t[0]:t}const qC=ld({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:xm,setup(t,{slots:e}){const n=es(xm(t)),{options:s}=ki(Y1),i=Xt(()=>({[km(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[km(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&HC(e.default(n));return t.custom?r:Rs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),WC=qC;function GC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function KC(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Wi(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Cm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const km=(t,e,n)=>t??e??n,YC=ld({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ki(N2),i=Xt(()=>t.route||s.value),r=ki(_m,0),o=Xt(()=>{let c=qt(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Xt(()=>i.value.matched[o.value]);zh(_m,Xt(()=>o.value+1)),zh(VC,a),zh(N2,i);const l=le();return mr(()=>[l.value,a.value,t.name],([c,u,h],[p,f,m])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!ic(u,f)||!p)&&(u.enterCallbacks[h]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,p=h&&h.components[u];if(!p)return Sm(n.default,{Component:p,route:c});const f=h.props[u],m=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=Rs(p,Zt({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Sm(n.default,{Component:y,route:c})||y}}});function Sm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ZC=YC;function JC(t){const e=RC(t.routes,t),n=t.parseQuery||UC,s=t.stringifyQuery||wm,i=t.history,r=Xc(),o=Xc(),a=Xc(),l=G7(ko);let c=ko;jl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=lp.bind(null,J=>""+J),h=lp.bind(null,cC),p=lp.bind(null,Hu);function f(J,X){let se,me;return j4(J)?(se=e.getRecordMatcher(J),me=X):me=J,e.addRoute(me,se)}function m(J){const X=e.getRecordMatcher(J);X&&e.removeRoute(X)}function b(){return e.getRoutes().map(J=>J.record)}function y(J){return!!e.getRecordMatcher(J)}function w(J,X){if(X=Zt({},X||l.value),typeof J=="string"){const oe=cp(n,J,X.path),G=e.resolve({path:oe.path},X),Pe=i.createHref(oe.fullPath);return Zt(oe,G,{params:p(G.params),hash:Hu(oe.hash),redirectedFrom:void 0,href:Pe})}let se;if(J.path!=null)se=Zt({},J,{path:cp(n,J.path,X.path).path});else{const oe=Zt({},J.params);for(const G in oe)oe[G]==null&&delete oe[G];se=Zt({},J,{params:h(oe)}),X.params=h(X.params)}const me=e.resolve(se,X),Ee=J.hash||"";me.params=u(p(me.params));const te=hC(s,Zt({},J,{hash:oC(Ee),path:me.path})),re=i.createHref(te);return Zt({fullPath:te,hash:Ee,query:s===wm?zC(J.query):J.query||{}},me,{redirectedFrom:void 0,href:re})}function C(J){return typeof J=="string"?cp(n,J,l.value.path):Zt({},J)}function k(J,X){if(c!==J)return rc(8,{from:X,to:J})}function S(J){return H(J)}function I(J){return S(Zt(C(J),{replace:!0}))}function z(J){const X=J.matched[J.matched.length-1];if(X&&X.redirect){const{redirect:se}=X;let me=typeof se=="function"?se(J):se;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=C(me):{path:me},me.params={}),Zt({query:J.query,hash:J.hash,params:me.path!=null?{}:J.params},me)}}function H(J,X){const se=c=w(J),me=l.value,Ee=J.state,te=J.force,re=J.replace===!0,oe=z(se);if(oe)return H(Zt(C(oe),{state:typeof oe=="object"?Zt({},Ee,oe.state):Ee,force:te,replace:re}),X||se);const G=se;G.redirectedFrom=X;let Pe;return!te&&fC(s,me,se)&&(Pe=rc(16,{to:G,from:me}),ae(me,me,!0,!1)),(Pe?Promise.resolve(Pe):q(G,me)).catch(Ae=>Rr(Ae)?Rr(Ae,2)?Ae:fe(Ae):N(Ae,G,me)).then(Ae=>{if(Ae){if(Rr(Ae,2))return H(Zt({replace:re},C(Ae.to),{state:typeof Ae.to=="object"?Zt({},Ee,Ae.to.state):Ee,force:te}),X||G)}else Ae=P(G,me,!0,re,Ee);return L(G,me,Ae),Ae})}function U(J,X){const se=k(J,X);return se?Promise.reject(se):Promise.resolve()}function T(J){const X=Y.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(J):J()}function q(J,X){let se;const[me,Ee,te]=XC(J,X);se=up(me.reverse(),"beforeRouteLeave",J,X);for(const oe of me)oe.leaveGuards.forEach(G=>{se.push(Io(G,J,X))});const re=U.bind(null,J,X);return se.push(re),ge(se).then(()=>{se=[];for(const oe of r.list())se.push(Io(oe,J,X));return se.push(re),ge(se)}).then(()=>{se=up(Ee,"beforeRouteUpdate",J,X);for(const oe of Ee)oe.updateGuards.forEach(G=>{se.push(Io(G,J,X))});return se.push(re),ge(se)}).then(()=>{se=[];for(const oe of te)if(oe.beforeEnter)if(Wi(oe.beforeEnter))for(const G of oe.beforeEnter)se.push(Io(G,J,X));else se.push(Io(oe.beforeEnter,J,X));return se.push(re),ge(se)}).then(()=>(J.matched.forEach(oe=>oe.enterCallbacks={}),se=up(te,"beforeRouteEnter",J,X,T),se.push(re),ge(se))).then(()=>{se=[];for(const oe of o.list())se.push(Io(oe,J,X));return se.push(re),ge(se)}).catch(oe=>Rr(oe,8)?oe:Promise.reject(oe))}function L(J,X,se){a.list().forEach(me=>T(()=>me(J,X,se)))}function P(J,X,se,me,Ee){const te=k(J,X);if(te)return te;const re=X===ko,oe=jl?history.state:{};se&&(me||re?i.replace(J.fullPath,Zt({scroll:re&&oe&&oe.scroll},Ee)):i.push(J.fullPath,Ee)),l.value=J,ae(J,X,se,re),fe()}let ne;function V(){ne||(ne=i.listen((J,X,se)=>{if(!he.listening)return;const me=w(J),Ee=z(me);if(Ee){H(Zt(Ee,{replace:!0,force:!0}),me).catch(xu);return}c=me;const te=l.value;jl&&_C(dm(te.fullPath,se.delta),K1()),q(me,te).catch(re=>Rr(re,12)?re:Rr(re,2)?(H(Zt(C(re.to),{force:!0}),me).then(oe=>{Rr(oe,20)&&!se.delta&&se.type===qu.pop&&i.go(-1,!1)}).catch(xu),Promise.reject()):(se.delta&&i.go(-se.delta,!1),N(re,me,te))).then(re=>{re=re||P(me,te,!1),re&&(se.delta&&!Rr(re,8)?i.go(-se.delta,!1):se.type===qu.pop&&Rr(re,20)&&i.go(-1,!1)),L(me,te,re)}).catch(xu)}))}let j=Xc(),F=Xc(),D;function N(J,X,se){fe(J);const me=F.list();return me.length?me.forEach(Ee=>Ee(J,X,se)):console.error(J),Promise.reject(J)}function ee(){return D&&l.value!==ko?Promise.resolve():new Promise((J,X)=>{j.add([J,X])})}function fe(J){return D||(D=!J,V(),j.list().forEach(([X,se])=>J?se(J):X()),j.reset()),J}function ae(J,X,se,me){const{scrollBehavior:Ee}=t;if(!jl||!Ee)return Promise.resolve();const te=!se&&xC(dm(J.fullPath,0))||(me||!se)&&history.state&&history.state.scroll||null;return ci().then(()=>Ee(J,X,te)).then(re=>re&&wC(re)).catch(re=>N(re,J,X))}const A=J=>i.go(J);let O;const Y=new Set,he={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:b,resolve:w,options:t,push:S,replace:I,go:A,back:()=>A(-1),forward:()=>A(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:ee,install(J){const X=this;J.component("RouterLink",WC),J.component("RouterView",ZC),J.config.globalProperties.$router=X,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>qt(l)}),jl&&!O&&l.value===ko&&(O=!0,S(i.location).catch(Ee=>{}));const se={};for(const Ee in ko)Object.defineProperty(se,Ee,{get:()=>l.value[Ee],enumerable:!0});J.provide(Y1,X),J.provide(z0,O9(se)),J.provide(N2,l);const me=J.unmount;Y.add(J),J.unmount=function(){Y.delete(J),Y.size<1&&(c=ko,ne&&ne(),ne=null,l.value=ko,O=!1,D=!1),me()}}};function ge(J){return J.reduce((X,se)=>X.then(()=>T(se)),Promise.resolve())}return he}function XC(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>ic(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>ic(c,l))||i.push(l))}return[n,s,i]}function js(){return ki(Y1)}function dd(t){return ki(z0)}const QC={__name:"App",setup(t){return dd(),(e,n)=>{const s=to("router-view");return M(),qo(s)}}};let ek=class{#e;#t=new Set;constructor(e){this.#e=e}get current(){return this.#e}set current(e){this.#e!=e&&(this.#e=e,this.#t.forEach(n=>n(e)))}on(e){return this.#t.add(e),()=>this.#t.delete(e)}};const z4=t=>new ek(t),I2=Symbol.for("atomico.hooks");globalThis[I2]=globalThis[I2]||{};let oc=globalThis[I2];const tk=Symbol.for("Atomico.suspense"),V4=Symbol.for("Atomico.effect"),nk=Symbol.for("Atomico.layoutEffect"),H4=Symbol.for("Atomico.insertionEffect"),gc=(t,e,n)=>{const{i:s,hooks:i}=oc.c,r=i[s]=i[s]||{};return r.value=t(r.value),r.effect=e,r.tag=n,oc.c.i++,i[s].value},sk=t=>gc((e=z4(t))=>e),hd=()=>gc((t=z4(oc.c.host))=>t),q4=()=>oc.c.update,ik=(t,e,n=0)=>{let s={},i=!1;const r=()=>i,o=(a,l)=>{for(const c in s){const u=s[c];u.effect&&u.tag===a&&(u.value=u.effect(u.value,l))}};return{load:a=>{oc.c={host:e,hooks:s,update:t,i:0,id:n};let l;try{i=!1,l=a()}catch(c){if(c!==tk)throw c;i=!0}finally{oc.c=null}return l},cleanEffects:a=>(o(H4,a),()=>(o(nk,a),()=>{o(V4,a)})),isSuspense:r}},mc=Symbol.for;function W4(t,e){const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++){let i=t[s],r=e[s];if(i!==r)return!1}return!0}const hr=t=>typeof t=="function",ku=t=>typeof t=="object",{isArray:rk}=Array,O2=(t,e)=>(e?t instanceof HTMLStyleElement:!0)&&"hydrate"in(t?.dataset||{});function G4(t,e){let n;const s=i=>{let{length:r}=i;for(let o=0;o<r;o++){const a=i[o];if(a&&Array.isArray(a))s(a);else{const l=typeof a;if(a==null||l==="function"||l==="boolean")continue;l==="string"||l==="number"?(n==null&&(n=""),n+=a):(n!=null&&(e(n),n=null),e(a))}}};s(t),n!=null&&e(n)}const K4=(t,e,n)=>(t.addEventListener(e,n),()=>t.removeEventListener(e,n));let Y4=class{constructor(e,n,s){this.message=n,this.target=e,this.value=s}},Z4=class extends Y4{},ok=class extends Y4{};const p1="Custom",ak=null,lk={true:1,"":1,1:1};function ck(t,e,n,s,i){const{type:r,reflect:o,event:a,value:l,attr:c=uk(e)}=n?.name!=p1&&ku(n)&&n!=ak?n:{type:n},u=r?.name===p1&&r.map,h=l!=null?r==Function||!hr(l)?()=>l:l:null;Object.defineProperty(t,e,{configurable:!0,set(p){const f=this[e];h&&r!=Boolean&&p==null&&(p=h());const{error:m,value:b}=(u?fk:pk)(r,p);if(m&&b!=null)throw new Z4(this,`The value defined for prop '${e}' must be of type '${r.name}'`,b);f!=b&&(this._props[e]=b??void 0,this.update(),a&&J4(this,a),this.updated.then(()=>{o&&(this._ignoreAttr=c,dk(this,r,c,this[e]),this._ignoreAttr=null)}))},get(){return this._props[e]}}),h&&(i[e]=h()),s[c]={prop:e,type:r}}const J4=(t,{type:e,base:n=CustomEvent,...s})=>t.dispatchEvent(new n(e,s)),uk=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),dk=(t,e,n,s)=>s==null||e==Boolean&&!s?t.removeAttribute(n):t.setAttribute(n,e?.name===p1&&e?.serialize?e?.serialize(s):ku(s)?JSON.stringify(s):e==Boolean?"":s),hk=(t,e)=>t==Boolean?!!lk[e]:t==Number?Number(e):t==String?e:t==Array||t==Object?JSON.parse(e):t.name==p1?e:new t(e),fk=({map:t},e)=>{try{return{value:t(e),error:!1}}catch{return{value:e,error:!0}}},pk=(t,e)=>t==null||e==null?{value:e,error:!1}:t!=String&&e===""?{value:void 0,error:!1}:t==Object||t==Array||t==Symbol?{value:e,error:{}.toString.call(e)!==`[object ${t.name}]`}:e instanceof t?{value:e,error:t==Number&&Number.isNaN(e.valueOf())}:t==String||t==Number||t==Boolean?{value:e,error:t==Number?typeof e!="number"?!0:Number.isNaN(e):t==String?typeof e!="string":typeof e!="boolean"}:{value:e,error:!0};let gk=0;const mk=t=>(t?.dataset||{})?.hydrate||""||"c"+gk++,fd=(t,e=HTMLElement)=>{const n={},s={},i="prototype"in e&&e.prototype instanceof Element,r=i?e:"base"in e?e.base:HTMLElement,{props:o,styles:a}=i?t:e;class l extends r{constructor(){super(),this._setup(),this._render=()=>t({...this._props});for(const u in s)this[u]=s[u]}static get styles(){return[super.styles,a]}async _setup(){if(this._props)return;this._props={};let u,h;this.mounted=new Promise(y=>this.mount=()=>{y(),u!=this.parentNode&&(h!=u?this.unmounted.then(this.update):this.update()),u=this.parentNode}),this.unmounted=new Promise(y=>this.unmount=()=>{y(),(u!=this.parentNode||!this.isConnected)&&(p.cleanEffects(!0)()(),h=this.parentNode,u=null)}),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();const p=ik(()=>this.update(),this,mk(this));let f,m=!0;const b=O2(this);this.update=()=>(f||(f=!0,this.updated=(this.updated||this.mounted).then(()=>{try{const y=p.load(this._render),w=p.cleanEffects();return y&&y.render(this,this.symbolId,b),f=!1,m&&!p.isSuspense()&&(m=!1,!b&&vk(this)),w()}finally{f=!1}}).then(y=>{y&&y()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()}attributeChangedCallback(u,h,p){if(n[u]){if(u===this._ignoreAttr||h===p)return;const{prop:f,type:m}=n[u];try{this[f]=hk(m,p)}catch{throw new ok(this,`The value defined as attr '${u}' cannot be parsed by type '${m.name}'`,p)}}else super.attributeChangedCallback(u,h,p)}static get props(){return{...super.props,...o}}static get observedAttributes(){const u=super.observedAttributes||[];for(const h in o)ck(this.prototype,h,o[h],n,s);return Object.keys(n).concat(u)}}return l};function vk(t){const{styles:e}=t.constructor,{shadowRoot:n}=t;if(n&&e.length){const s=[];G4(e,i=>{i&&(i instanceof Element?n.appendChild(i.cloneNode(!0)):s.push(i))}),s.length&&(n.adoptedStyleSheets=s)}}const X4=t=>(e,n)=>{gc(([s,i]=[])=>((i||!i)&&(i&&W4(i,n)?s=s||!0:(hr(s)&&s(),s=null)),[s,n]),([s,i],r)=>r?(hr(s)&&s(),[]):[s||e(),i],t)},Wu=X4(V4),bk=X4(H4);let Q4=class extends Array{constructor(e,n){let s=!0;const i=r=>{try{n(r,this,s)}finally{s=!1}};super(void 0,i,n),i(e)}};const V0=t=>{const e=q4();return gc((n=new Q4(t,(s,i,r)=>{s=hr(s)?s(i[0]):s,s!==i[0]&&(i[0]=s,r||e())}))=>n)},Xr=(t,e)=>{const[n]=gc(([s,i,r=0]=[])=>((!i||i&&!W4(i,e))&&(s=t()),[s,e,r]));return n},H0=t=>{const{current:e}=hd();if(!(t in e))throw new Z4(e,`For useProp("${t}"), the prop does not exist on the host.`,t);return gc((n=new Q4(e[t],(s,i)=>{s=hr(s)?s(e[t]):s,e[t]=s}))=>(n[0]=e[t],n))},Uo=(t,e={})=>{const n=hd();return n[t]||(n[t]=(s=e.detail)=>J4(n.current,{type:t,...e,detail:s})),n[t]},D2=mc("atomico/options");globalThis[D2]=globalThis[D2]||{sheet:!!document.adoptedStyleSheets};const e6=globalThis[D2],yk={checked:1,value:1,selected:1},wk={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},_k={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},Wh={},M2=[];let R2=class extends Text{};const xk=mc("atomico/id"),Su=mc("atomico/type"),dp=mc("atomico/ref"),t6=mc("atomico/vnode"),Ck=()=>{};function kk(t,e,n){return s6(this,t,e,n)}const n6=(t,e,...n)=>{const s=e||Wh;let{children:i}=s;if(i=i??(n.length?n:M2),t===Ck)return i;const r=t?t instanceof Node?1:t.prototype instanceof HTMLElement&&2:0;if(r===!1&&t instanceof Function)return t(i!=M2?{children:i,...s}:s);const o=e6.render||kk;return{[Su]:t6,type:t,props:s,children:i,key:s.key,shadow:s.shadowDom,static:s.staticNode,raw:r,is:s.is,clone:s.cloneNode,render:o}};function s6(t,e,n=xk,s,i){let r;if(e&&e[n]&&e[n].vnode==t||t[Su]!=t6)return e;(t||!e)&&(i=i||t.type=="svg",r=t.type!="host"&&(t.raw==1?(e&&t.clone?e[dp]:e)!=t.type:t.raw==2?!(e instanceof t.type):e?e[dp]||e.localName!=t.type:!e),r&&t.type!=null&&(t.raw==1&&t.clone?(s=!0,e=t.type.cloneNode(!0),e[dp]=t.type):e=t.raw==1?t.type:t.raw==2?new t.type:i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,t.is?{is:t.is}:void 0)));const o=e[n]?e[n]:Wh,{vnode:a=Wh,cycle:l=0}=o;let{fragment:c,handlers:u}=o;const{children:h=M2,props:p=Wh}=a;if(u=r?{}:u||{},t.static&&!r)return e;if(t.shadow&&!e.shadowRoot&&e.attachShadow({mode:"open",...t.shadow}),t.props!=p&&Lk(e,p,t.props,u,i),t.children!==h){const f=t.shadow?e.shadowRoot:e;c=Ak(t.children,c,f,n,!l&&s,i&&t.type=="foreignObject"?!1:i)}return e[n]={vnode:t,handlers:u,fragment:c,cycle:l+1},e}function Sk(t,e){const n=new R2(""),s=new R2("");let i;if(t[e?"prepend":"append"](n),e){let{lastElementChild:r}=t;for(;r;){const{previousElementSibling:o}=r;if(O2(r,!0)&&!O2(o,!0)){i=r;break}r=o}}return i?i.before(s):t.append(s),{markStart:n,markEnd:s}}function Ak(t,e,n,s,i,r){t=t==null?null:rk(t)?t:[t];const o=e||Sk(n,i),{markStart:a,markEnd:l,keyes:c}=o;let u;const h=c&&new Set;let p=a;if(t&&G4(t,f=>{if(typeof f=="object"&&!f[Su])return;const m=f[Su]&&f.key,b=c&&m!=null&&c.get(m);p!=l&&p===b?h.delete(p):p=p==l?l:p.nextSibling;const y=c?b:p;let w=y;if(f[Su])w=s6(f,y,s,i,r);else{const C=f+"";!(w instanceof Text)||w instanceof R2?w=new Text(C):w.data!=C&&(w.data=C)}w!=p&&(c&&h.delete(w),!y||c?(n.insertBefore(w,p),c&&p!=l&&h.add(p)):y==l?n.insertBefore(w,l):(n.replaceChild(w,y),p=w)),m!=null&&(u=u||new Map,u.set(m,w))}),p=p==l?l:p.nextSibling,e&&p!=l)for(;p!=l;){const f=p;p=p.nextSibling,f.remove()}return h&&h.forEach(f=>f.remove()),o.keyes=u,o}function Lk(t,e,n,s,i){for(const r in e)!(r in n)&&Am(t,r,e[r],null,i,s);for(const r in n)Am(t,r,e[r],n[r],i,s)}function Am(t,e,n,s,i,r){if(e=e=="class"&&!i?"className":e,n=n??null,s=s??null,e in t&&yk[e]&&(n=t[e]),!(s===n||_k[e]||e[0]=="_"))if(e[0]=="o"&&e[1]=="n"&&(hr(s)||hr(n)))Ek(t,e.slice(2),s,r);else if(e=="ref")s&&(hr(s)?s(t):s.current=t);else if(e=="style"){const{style:o}=t;n=n||"",s=s||"";const a=ku(n),l=ku(s);if(a)for(const c in n)if(l)!(c in s)&&Lm(o,c,null);else break;if(l)for(const c in s){const u=s[c];a&&n[c]===u||Lm(o,c,u)}else o.cssText=s}else{const o=e[0]=="$"?e.slice(1):e;o===e&&(!i&&!wk[e]&&e in t||hr(s)||hr(n))?t[e]=s??"":s==null?t.removeAttribute(o):t.setAttribute(o,ku(s)?JSON.stringify(s):s)}}function Ek(t,e,n,s){if(s.handleEvent||(s.handleEvent=i=>s[i.type].call(t,i)),n){if(!s[e]){const i=n.capture||n.once||n.passive?Object.assign({},n):null;t.addEventListener(e,s,i)}s[e]=n}else s[e]&&(t.removeEventListener(e,s),delete s[e])}function Lm(t,e,n){let s="setProperty";n==null&&(s="removeProperty",n=null),~e.indexOf("-")?t[s](e,n):t[e]=n}const Em={};function Z1(t,...e){const n=(t.raw||t).reduce((s,i,r)=>s+i+(e[r]||""),"");return Em[n]=Em[n]||Tk(n)}function Tk(t){if(e6.sheet){const e=new CSSStyleSheet;return e.replaceSync(t),e}else{const e=document.createElement("style");return e.textContent=t,e}}const Pk=n6("host",{style:"display: contents"}),hp=mc("atomico/context"),Nk=(t,e)=>{const n=hd();bk(()=>K4(n.current,"ConnectContext",s=>{t===s.detail.id&&(s.stopPropagation(),s.detail.connect(e))}),[t])},Ik=t=>{const e=Uo("ConnectContext",{bubbles:!0,composed:!0}),n=()=>{let r;return e({id:t,connect(o){r=o}}),r},[s,i]=V0(n);return Wu(()=>{s||(t[hp]||(t[hp]=customElements.whenDefined(new t().localName)),t[hp].then(()=>i(n)))},[t]),s},Ok=t=>{const e=Ik(t),n=q4();return Wu(()=>{if(e)return K4(e,"UpdatedValue",n)},[e]),(e||t).value},Dk=t=>{const e=fd(()=>(Nk(e,hd().current),Pk),{props:{value:{type:Object,event:{type:"UpdatedValue"},value:()=>t}}});return e.value=t,e},mn=(t,e,n)=>(e==null?e={key:n}:e.key=n,n6(t,e)),Au=mn,i6=Z1`*,*:before,*:after{box-sizing:border-box}button{padding:0;touch-action:manipulation;cursor:pointer;user-select:none}`,r6=Z1`.vh{position:absolute;transform:scale(0)}`;function q0(){const t=new Date;return new Ei(t.getFullYear(),t.getMonth()+1,t.getDate())}function W0(t,e=0){const n=Gi(t),s=n.getUTCDay(),i=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-i),Ei.from(n)}function o6(t,e=0){return W0(t,e).add({days:6})}function a6(t){return Ei.from(new Date(Date.UTC(t.year,t.month,0)))}function J1(t,e,n){return e&&Ei.compare(t,e)<0?e:n&&Ei.compare(t,n)>0?n:t}const Mk={days:1};function Rk(t,e=0){let n=W0(t.toPlainDate(),e);const s=o6(a6(t),e),i=[];for(;Ei.compare(n,s)<0;){const r=[];for(let o=0;o<7;o++)r.push(n),n=n.add(Mk);i.push(r)}return i}function Gi(t){return new Date(Date.UTC(t.year,t.month-1,t.day??1))}const $k=/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[0-1])$/,fp=(t,e)=>t.toString().padStart(e,"0");let Ei=class Ma{constructor(e,n,s){this.year=e,this.month=n,this.day=s}add(e){const n=Gi(this);if("days"in e)return n.setUTCDate(this.day+e.days),Ma.from(n);let{year:s,month:i}=this;"months"in e?(i=this.month+e.months,n.setUTCMonth(i-1)):(s=this.year+e.years,n.setUTCFullYear(s));const r=Ma.from(Gi({year:s,month:i,day:1}));return J1(Ma.from(n),r,a6(r))}toString(){return`${fp(this.year,4)}-${fp(this.month,2)}-${fp(this.day,2)}`}toPlainYearMonth(){return new l6(this.year,this.month)}equals(e){return Ma.compare(this,e)===0}static compare(e,n){return e.year<n.year?-1:e.year>n.year?1:e.month<n.month?-1:e.month>n.month?1:e.day<n.day?-1:e.day>n.day?1:0}static from(e){if(typeof e=="string"){const n=e.match($k);if(!n)throw new TypeError(e);const[,s,i,r]=n;return new Ma(parseInt(s,10),parseInt(i,10),parseInt(r,10))}return new Ma(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate())}},l6=class c6{constructor(e,n){this.year=e,this.month=n}add(e){const n=Gi(this),s=(e.months??0)+(e.years??0)*12;return n.setUTCMonth(n.getUTCMonth()+s),new c6(n.getUTCFullYear(),n.getUTCMonth()+1)}equals(e){return this.year===e.year&&this.month===e.month}toPlainDate(){return new Ei(this.year,this.month,1)}};function g1(t,e){if(e)try{return t.from(e)}catch{}}function zo(t){const[e,n]=H0(t);return[Xr(()=>g1(Ei,e),[e]),s=>n(s?.toString())]}function jk(t){const[e="",n]=H0(t);return[Xr(()=>{const[s,i]=e.split("/"),r=g1(Ei,s),o=g1(Ei,i);return r&&o?[r,o]:[]},[e]),s=>n(`${s[0]}/${s[1]}`)]}function Bk(t){const[e="",n]=H0(t);return[Xr(()=>{const s=[];for(const i of e.trim().split(/\s+/)){const r=g1(Ei,i);r&&s.push(r)}return s},[e]),s=>n(s.join(" "))]}function Gu(t,e){return Xr(()=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t}),[e,t])}function Tm(t,e,n){const s=Gu(t,n);return Xr(()=>{const i=[],r=new Date;for(var o=0;o<7;o++){const a=(r.getUTCDay()-e+7)%7;i[a]=s.format(r),r.setUTCDate(r.getUTCDate()+1)}return i},[e,s])}const Pm=(t,e,n)=>J1(t,e,n)===t,Nm=t=>t.target.matches(":dir(ltr)"),Fk={month:"long",day:"numeric"},Uk={month:"long"},zk={weekday:"long"},pp={bubbles:!0};function Vk({props:t,context:e}){const{offset:n}=t,{firstDayOfWeek:s,isDateDisallowed:i,min:r,max:o,today:a,page:l,locale:c,focusedDate:u,formatWeekday:h}=e,p=a??q0(),f=Tm(zk,s,c),m=Xr(()=>({weekday:h}),[h]),b=Tm(m,s,c),y=Gu(Fk,c),w=Gu(Uk,c),C=Xr(()=>l.start.add({months:n}),[l,n]),k=Xr(()=>Rk(C,s),[C,s]),S=Uo("focusday",pp),I=Uo("selectday",pp),z=Uo("hoverday",pp);function H(q){S(J1(q,r,o))}function U(q){let L;switch(q.key){case"ArrowRight":L=u.add({days:Nm(q)?1:-1});break;case"ArrowLeft":L=u.add({days:Nm(q)?-1:1});break;case"ArrowDown":L=u.add({days:7});break;case"ArrowUp":L=u.add({days:-7});break;case"PageUp":L=u.add(q.shiftKey?{years:-1}:{months:-1});break;case"PageDown":L=u.add(q.shiftKey?{years:1}:{months:1});break;case"Home":L=W0(u,s);break;case"End":L=o6(u,s);break;default:return}H(L),q.preventDefault()}function T(q){const L=C.equals(q);if(!e.showOutsideDays&&!L)return;const P=q.equals(u),ne=q.equals(p),V=Gi(q),j=i?.(V),F=!Pm(q,r,o);let D="",N;if(e.type==="range"){const[ee,fe]=e.value,ae=ee?.equals(q),A=fe?.equals(q);N=ee&&fe&&Pm(q,ee,fe),D=`${ae?"range-start":""} ${A?"range-end":""} ${N&&!ae&&!A?"range-inner":""}`}else e.type==="multi"?N=e.value.some(ee=>ee.equals(q)):N=e.value?.equals(q);return{part:`${`button day day-${V.getDay()} ${L?N?"selected":"":"outside"} ${j?"disallowed":""} ${ne?"today":""} ${e.getDayParts?.(V)??""}`} ${D}`,tabindex:L&&P?0:-1,disabled:F,"aria-disabled":j?"true":void 0,"aria-pressed":L&&N,"aria-current":ne?"date":void 0,"aria-label":y.format(V),onkeydown:U,onclick(){j||I(q),H(q)},onmouseover(){!j&&!F&&z(q)}}}return{weeks:k,yearMonth:C,daysLong:f,daysVisible:b,formatter:w,getDayProps:T}}const gp=q0(),G0=Dk({type:"date",firstDayOfWeek:1,focusedDate:gp,page:{start:gp.toPlainYearMonth(),end:gp.toPlainYearMonth()}});customElements.define("calendar-ctx",G0);const Hk=(t,e)=>(e+t)%7,u6=fd(t=>{const e=Ok(G0),n=sk(),s=Vk({props:t,context:e});function i(){n.current.querySelector("button[tabindex='0']")?.focus()}return Au("host",{shadowDom:!0,focus:i,children:[mn("div",{id:"h",part:"heading",children:s.formatter.format(Gi(s.yearMonth))}),Au("table",{ref:n,"aria-labelledby":"h",part:"table",children:[mn("thead",{children:mn("tr",{part:"tr head",children:s.daysLong.map((r,o)=>Au("th",{part:`th day day-${Hk(e.firstDayOfWeek,o)}`,scope:"col",children:[mn("span",{class:"vh",children:r}),mn("span",{"aria-hidden":"true",children:s.daysVisible[o]})]}))})}),mn("tbody",{children:s.weeks.map((r,o)=>mn("tr",{part:"tr week",children:r.map((a,l)=>{const c=s.getDayProps(a);return mn("td",{part:"td",children:c&&mn("button",{...c,children:a.day})},l)})},o))})]})]})},{props:{offset:{type:Number,value:0}},styles:[i6,r6,Z1`:host{--color-accent: black;--color-text-on-accent: white;display:flex;flex-direction:column;gap:.25rem;text-align:center;inline-size:fit-content}table{border-collapse:collapse;font-size:.875rem}th{font-weight:700;block-size:2.25rem}td{padding-inline:0}button{color:inherit;font-size:inherit;background:transparent;border:0;font-variant-numeric:tabular-nums;block-size:2.25rem;inline-size:2.25rem}button:hover:where(:not(:disabled,[aria-disabled])){background:#0000000d}button:is([aria-pressed=true],:focus-visible){background:var(--color-accent);color:var(--color-text-on-accent)}button:focus-visible{outline:1px solid var(--color-text-on-accent);outline-offset:-2px}button:disabled,:host::part(outside),:host::part(disallowed){cursor:default;opacity:.5}`]});customElements.define("calendar-month",u6);function Im(t){return mn("button",{part:`button ${t.name} ${t.onclick?"":"disabled"}`,onclick:t.onclick,"aria-disabled":t.onclick?null:"true",children:mn("slot",{name:t.name,children:t.children})})}function K0(t){const e=Gi(t.page.start),n=Gi(t.page.end);return Au("div",{role:"group","aria-labelledby":"h",part:"container",children:[mn("div",{id:"h",class:"vh","aria-live":"polite","aria-atomic":"true",children:t.formatVerbose.formatRange(e,n)}),Au("div",{part:"header",children:[mn(Im,{name:"previous",onclick:t.previous,children:"Previous"}),mn("slot",{part:"heading",name:"heading",children:mn("div",{"aria-hidden":"true",children:t.format.formatRange(e,n)})}),mn(Im,{name:"next",onclick:t.next,children:"Next"})]}),mn(G0,{value:t,onselectday:t.onSelect,onfocusday:t.onFocus,onhoverday:t.onHover,children:mn("slot",{})})]})}const Y0={value:{type:String,value:""},min:{type:String,value:""},max:{type:String,value:""},today:{type:String,value:""},isDateDisallowed:{type:Function,value:t=>!1},formatWeekday:{type:String,value:()=>"narrow"},getDayParts:{type:Function,value:t=>""},firstDayOfWeek:{type:Number,value:()=>1},showOutsideDays:{type:Boolean,value:!1},locale:{type:String,value:()=>{}},months:{type:Number,value:1},focusedDate:{type:String,value:()=>{}},pageBy:{type:String,value:()=>"months"}},Z0=[i6,r6,Z1`:host{display:block;inline-size:fit-content}[role=group]{display:flex;flex-direction:column;gap:1em}:host::part(header){display:flex;align-items:center;justify-content:space-between}:host::part(heading){font-weight:700;font-size:1.25em}button{display:flex;align-items:center;justify-content:center}button[aria-disabled]{cursor:default;opacity:.5}`],qk={year:"numeric"},Wk={year:"numeric",month:"long"};function mp(t,e){return(e.year-t.year)*12+e.month-t.month}const Om=(t,e)=>(t=e===12?new l6(t.year,1):t,{start:t,end:t.add({months:e-1})});function Gk({pageBy:t,focusedDate:e,months:n,max:s,min:i,goto:r}){const o=t==="single"?1:n,[a,l]=V0(()=>Om(e.toPlainYearMonth(),n)),c=h=>l(Om(a.start.add({months:h}),n)),u=h=>{const p=mp(a.start,h.toPlainYearMonth());return p>=0&&p<n};return Wu(()=>{if(u(e))return;const h=mp(e.toPlainYearMonth(),a.start);r(e.add({months:h}))},[a.start]),Wu(()=>{if(u(e))return;const h=mp(a.start,e.toPlainYearMonth());c(h===-1?-o:h===n?o:Math.floor(h/n)*n)},[e,o,n]),{page:a,previous:!i||!u(i)?()=>c(-o):void 0,next:!s||!u(s)?()=>c(o):void 0}}function J0({months:t,pageBy:e,locale:n,focusedDate:s,setFocusedDate:i}){const[r]=zo("min"),[o]=zo("max"),[a]=zo("today"),l=Uo("focusday"),c=Uo("change"),u=Xr(()=>J1(s??a??q0(),r,o),[s,a,r,o]);function h(w){i(w),l(Gi(w))}const{next:p,previous:f,page:m}=Gk({pageBy:e,focusedDate:u,months:t,min:r,max:o,goto:h}),b=hd();function y(w){const C=w?.target??"day";C==="day"?b.current.querySelectorAll("calendar-month").forEach(k=>k.focus(w)):b.current.shadowRoot.querySelector(`[part~='${C}']`).focus(w)}return{format:Gu(qk,n),formatVerbose:Gu(Wk,n),page:m,focusedDate:u,dispatch:c,onFocus(w){w.stopPropagation(),h(w.detail),setTimeout(y)},min:r,max:o,today:a,next:p,previous:f,focus:y}}const d6=fd(t=>{const[e,n]=zo("value"),[s=e,i]=zo("focusedDate"),r=J0({...t,focusedDate:s,setFocusedDate:i});function o(a){n(a.detail),r.dispatch()}return mn("host",{shadowDom:!0,focus:r.focus,children:mn(K0,{...t,...r,type:"date",value:e,onSelect:o})})},{props:Y0,styles:Z0});customElements.define("calendar-date",d6);const Dm=(t,e)=>Ei.compare(t,e)<0?[t,e]:[e,t],h6=fd(t=>{const[e,n]=jk("value"),[s=e[0],i]=zo("focusedDate"),r=J0({...t,focusedDate:s,setFocusedDate:i}),o=Uo("rangestart"),a=Uo("rangeend"),[l,c]=zo("tentative"),[u,h]=V0();Wu(()=>h(void 0),[l]);function p(y){r.onFocus(y),f(y)}function f(y){y.stopPropagation(),l&&h(y.detail)}function m(y){const w=y.detail;y.stopPropagation(),l?(n(Dm(l,w)),c(void 0),a(Gi(w)),r.dispatch()):(c(w),o(Gi(w)))}const b=l?Dm(l,u??l):e;return mn("host",{shadowDom:!0,focus:r.focus,children:mn(K0,{...t,...r,type:"range",value:b,onFocus:p,onHover:f,onSelect:m})})},{props:{...Y0,tentative:{type:String,value:""}},styles:Z0});customElements.define("calendar-range",h6);const f6=fd(t=>{const[e,n]=Bk("value"),[s=e[0],i]=zo("focusedDate"),r=J0({...t,focusedDate:s,setFocusedDate:i});function o(a){const l=[...e],c=e.findIndex(u=>u.equals(a.detail));c<0?l.push(a.detail):l.splice(c,1),n(l),r.dispatch()}return mn("host",{shadowDom:!0,focus:r.focus,children:mn(K0,{...t,...r,type:"multi",value:e,onSelect:o})})},{props:Y0,styles:Z0});customElements.define("calendar-multi",f6);const Kk=Object.freeze(Object.defineProperty({__proto__:null,CalendarDate:d6,CalendarMonth:u6,CalendarMulti:f6,CalendarRange:h6},Symbol.toStringTag,{value:"Module"}));function p6(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yk}=Object.prototype,{getPrototypeOf:X0}=Object,{iterator:X1,toStringTag:g6}=Symbol,Q1=(t=>e=>{const n=Yk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yi=t=>(t=t.toLowerCase(),e=>Q1(e)===t),ef=t=>e=>typeof e===t,{isArray:vc}=Array,ac=ef("undefined");function pd(t){return t!==null&&!ac(t)&&t.constructor!==null&&!ac(t.constructor)&&Hs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const m6=Yi("ArrayBuffer");function Zk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&m6(t.buffer),e}const Jk=ef("string"),Hs=ef("function"),v6=ef("number"),gd=t=>t!==null&&typeof t=="object",Xk=t=>t===!0||t===!1,Gh=t=>{if(Q1(t)!=="object")return!1;const e=X0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(g6 in t)&&!(X1 in t)},Qk=t=>{if(!gd(t)||pd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},eS=Yi("Date"),tS=Yi("File"),nS=Yi("Blob"),sS=Yi("FileList"),iS=t=>gd(t)&&Hs(t.pipe),rS=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hs(t.append)&&((e=Q1(t))==="formdata"||e==="object"&&Hs(t.toString)&&t.toString()==="[object FormData]"))},oS=Yi("URLSearchParams"),[aS,lS,cS,uS]=["ReadableStream","Request","Response","Headers"].map(Yi),dS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function md(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),vc(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(pd(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function b6(t,e){if(pd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y6=t=>!ac(t)&&t!==Ha;function $2(){const{caseless:t,skipUndefined:e}=y6(this)&&this||{},n={},s=(i,r)=>{const o=t&&b6(n,r)||r;Gh(n[o])&&Gh(i)?n[o]=$2(n[o],i):Gh(i)?n[o]=$2({},i):vc(i)?n[o]=i.slice():(!e||!ac(i))&&(n[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&md(arguments[i],s);return n}const hS=(t,e,n,{allOwnKeys:s}={})=>(md(e,(i,r)=>{n&&Hs(i)?t[r]=p6(i,n):t[r]=i},{allOwnKeys:s}),t),fS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pS=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gS=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&X0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},mS=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},vS=t=>{if(!t)return null;if(vc(t))return t;let e=t.length;if(!v6(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},bS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&X0(Uint8Array)),yS=(t,e)=>{const s=(t&&t[X1]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},wS=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},_S=Yi("HTMLFormElement"),xS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Mm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),CS=Yi("RegExp"),w6=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};md(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},kS=t=>{w6(t,(e,n)=>{if(Hs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Hs(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},SS=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return vc(t)?s(t):s(String(t).split(e)),n},AS=()=>{},LS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ES(t){return!!(t&&Hs(t.append)&&t[g6]==="FormData"&&t[X1])}const TS=t=>{const e=new Array(10),n=(s,i)=>{if(gd(s)){if(e.indexOf(s)>=0)return;if(pd(s))return s;if(!("toJSON"in s)){e[i]=s;const r=vc(s)?[]:{};return md(s,(o,a)=>{const l=n(o,i+1);!ac(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},PS=Yi("AsyncFunction"),NS=t=>t&&(gd(t)||Hs(t))&&Hs(t.then)&&Hs(t.catch),_6=((t,e)=>t?setImmediate:e?((n,s)=>(Ha.addEventListener("message",({source:i,data:r})=>{i===Ha&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Ha.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Hs(Ha.postMessage)),IS=typeof queueMicrotask<"u"?queueMicrotask.bind(Ha):typeof process<"u"&&process.nextTick||_6,OS=t=>t!=null&&Hs(t[X1]),Te={isArray:vc,isArrayBuffer:m6,isBuffer:pd,isFormData:rS,isArrayBufferView:Zk,isString:Jk,isNumber:v6,isBoolean:Xk,isObject:gd,isPlainObject:Gh,isEmptyObject:Qk,isReadableStream:aS,isRequest:lS,isResponse:cS,isHeaders:uS,isUndefined:ac,isDate:eS,isFile:tS,isBlob:nS,isRegExp:CS,isFunction:Hs,isStream:iS,isURLSearchParams:oS,isTypedArray:bS,isFileList:sS,forEach:md,merge:$2,extend:hS,trim:dS,stripBOM:fS,inherits:pS,toFlatObject:gS,kindOf:Q1,kindOfTest:Yi,endsWith:mS,toArray:vS,forEachEntry:yS,matchAll:wS,isHTMLForm:_S,hasOwnProperty:Mm,hasOwnProp:Mm,reduceDescriptors:w6,freezeMethods:kS,toObjectSet:SS,toCamelCase:xS,noop:AS,toFiniteNumber:LS,findKey:b6,global:Ha,isContextDefined:y6,isSpecCompliantForm:ES,toJSONObject:TS,isAsyncFn:PS,isThenable:NS,setImmediate:_6,asap:IS,isIterable:OS};function Nt(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}Te.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const x6=Nt.prototype,C6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{C6[t]={value:t}});Object.defineProperties(Nt,C6);Object.defineProperty(x6,"isAxiosError",{value:!0});Nt.from=(t,e,n,s,i,r)=>{const o=Object.create(x6);Te.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Nt.call(o,a,l,n,s,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const DS=null;function j2(t){return Te.isPlainObject(t)||Te.isArray(t)}function k6(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function Rm(t,e,n){return t?t.concat(e).map(function(i,r){return i=k6(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function MS(t){return Te.isArray(t)&&!t.some(j2)}const RS=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function tf(t,e,n){if(!Te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Te.isUndefined(y[b])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Te.isDate(m))return m.toISOString();if(Te.isBoolean(m))return m.toString();if(!l&&Te.isBlob(m))throw new Nt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(m)||Te.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,b,y){let w=m;if(m&&!y&&typeof m=="object"){if(Te.endsWith(b,"{}"))b=s?b:b.slice(0,-2),m=JSON.stringify(m);else if(Te.isArray(m)&&MS(m)||(Te.isFileList(m)||Te.endsWith(b,"[]"))&&(w=Te.toArray(m)))return b=k6(b),w.forEach(function(k,S){!(Te.isUndefined(k)||k===null)&&e.append(o===!0?Rm([b],S,r):o===null?b:b+"[]",c(k))}),!1}return j2(m)?!0:(e.append(Rm(y,b,r),c(m)),!1)}const h=[],p=Object.assign(RS,{defaultVisitor:u,convertValue:c,isVisitable:j2});function f(m,b){if(!Te.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(m),Te.forEach(m,function(w,C){(!(Te.isUndefined(w)||w===null)&&i.call(e,w,Te.isString(C)?C.trim():C,b,p))===!0&&f(w,b?b.concat(C):[C])}),h.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return f(t),e}function $m(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Q0(t,e){this._pairs=[],t&&tf(t,this,e)}const S6=Q0.prototype;S6.append=function(e,n){this._pairs.push([e,n])};S6.toString=function(e){const n=e?function(s){return e.call(this,s,$m)}:$m;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function $S(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function A6(t,e,n){if(!e)return t;const s=n&&n.encode||$S;Te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=Te.isURLSearchParams(e)?e.toString():new Q0(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class jm{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(s){s!==null&&e(s)})}}const L6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jS=typeof URLSearchParams<"u"?URLSearchParams:Q0,BS=typeof FormData<"u"?FormData:null,FS=typeof Blob<"u"?Blob:null,US={isBrowser:!0,classes:{URLSearchParams:jS,FormData:BS,Blob:FS},protocols:["http","https","file","blob","url","data"]},eg=typeof window<"u"&&typeof document<"u",B2=typeof navigator=="object"&&navigator||void 0,zS=eg&&(!B2||["ReactNative","NativeScript","NS"].indexOf(B2.product)<0),VS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HS=eg&&window.location.href||"http://localhost",qS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eg,hasStandardBrowserEnv:zS,hasStandardBrowserWebWorkerEnv:VS,navigator:B2,origin:HS},Symbol.toStringTag,{value:"Module"})),Ts={...qS,...US};function WS(t,e){return tf(t,new Ts.classes.URLSearchParams,{visitor:function(n,s,i,r){return Ts.isNode&&Te.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function GS(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KS(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function E6(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&Te.isArray(i)?i.length:o,l?(Te.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!Te.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&Te.isArray(i[o])&&(i[o]=KS(i[o])),!a)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const n={};return Te.forEachEntry(t,(s,i)=>{e(GS(s),i,n,0)}),n}return null}function YS(t,e,n){if(Te.isString(t))try{return(e||JSON.parse)(t),Te.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const vd={transitional:L6,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=Te.isObject(e);if(r&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return i?JSON.stringify(E6(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e)||Te.isReadableStream(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return WS(e,this.formSerializer).toString();if((a=Te.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),YS(e)):e}],transformResponse:[function(e){const n=this.transitional||vd.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Te.isResponse(e)||Te.isReadableStream(e))return e;if(e&&Te.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Nt.from(a,Nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ts.classes.FormData,Blob:Ts.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{vd.headers[t]={}});const ZS=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JS=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&ZS[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Bm=Symbol("internals");function Qc(t){return t&&String(t).trim().toLowerCase()}function Kh(t){return t===!1||t==null?t:Te.isArray(t)?t.map(Kh):String(t)}function XS(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const QS=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vp(t,e,n,s,i){if(Te.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!Te.isString(e)){if(Te.isString(s))return e.indexOf(s)!==-1;if(Te.isRegExp(s))return s.test(e)}}function eA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function tA(t,e){const n=Te.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}let qs=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=Qc(l);if(!u)throw new Error("header name must be a non-empty string");const h=Te.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Kh(a))}const o=(a,l)=>Te.forEach(a,(c,u)=>r(c,u,l));if(Te.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Te.isString(e)&&(e=e.trim())&&!QS(e))o(JS(e),n);else if(Te.isObject(e)&&Te.isIterable(e)){let a={},l,c;for(const u of e){if(!Te.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Te.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&r(n,e,s);return this}get(e,n){if(e=Qc(e),e){const s=Te.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return XS(i);if(Te.isFunction(n))return n.call(this,i,s);if(Te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qc(e),e){const s=Te.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||vp(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=Qc(o),o){const a=Te.findKey(s,o);a&&(!n||vp(s,s[a],a,n))&&(delete s[a],i=!0)}}return Te.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||vp(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return Te.forEach(this,(i,r)=>{const o=Te.findKey(s,r);if(o){n[o]=Kh(i),delete n[r];return}const a=e?eA(r):String(r).trim();a!==r&&delete n[r],n[a]=Kh(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Te.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&Te.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Bm]=this[Bm]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=Qc(o);s[a]||(tA(i,o),s[a]=!0)}return Te.isArray(e)?e.forEach(r):r(e),this}};qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(qs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});Te.freezeMethods(qs);function bp(t,e){const n=this||vd,s=e||n,i=qs.from(s.headers);let r=s.data;return Te.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function T6(t){return!!(t&&t.__CANCEL__)}function bc(t,e,n){Nt.call(this,t??"canceled",Nt.ERR_CANCELED,e,n),this.name="CanceledError"}Te.inherits(bc,Nt,{__CANCEL__:!0});function P6(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sA(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let h=r,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(p*1e3/f):void 0}}function iA(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t(...c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-h)))},()=>i&&o(i)]}const m1=(t,e,n=3)=>{let s=0;const i=sA(50,250);return iA(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Fm=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Um=t=>(...e)=>Te.asap(()=>t(...e)),rA=Ts.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ts.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ts.origin),Ts.navigator&&/(msie|trident)/i.test(Ts.navigator.userAgent)):()=>!0,oA=Ts.hasStandardBrowserEnv?{write(t,e,n,s,i,r,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];Te.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),Te.isString(s)&&a.push(`path=${s}`),Te.isString(i)&&a.push(`domain=${i}`),r===!0&&a.push("secure"),Te.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function aA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function N6(t,e,n){let s=!aA(e);return t&&(s||n==!1)?lA(t,e):e}const zm=t=>t instanceof qs?{...t}:t;function nl(t,e){e=e||{};const n={};function s(c,u,h,p){return Te.isPlainObject(c)&&Te.isPlainObject(u)?Te.merge.call({caseless:p},c,u):Te.isPlainObject(u)?Te.merge({},u):Te.isArray(u)?u.slice():u}function i(c,u,h,p){if(Te.isUndefined(u)){if(!Te.isUndefined(c))return s(void 0,c,h,p)}else return s(c,u,h,p)}function r(c,u){if(!Te.isUndefined(u))return s(void 0,u)}function o(c,u){if(Te.isUndefined(u)){if(!Te.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,h){if(h in e)return s(c,u);if(h in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(zm(c),zm(u),h,!0)};return Te.forEach(Object.keys({...t,...e}),function(u){const h=l[u]||i,p=h(t[u],e[u],u);Te.isUndefined(p)&&h!==a||(n[u]=p)}),n}const I6=t=>{const e=nl({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=qs.from(o),e.url=A6(N6(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Te.isFormData(n)){if(Ts.hasStandardBrowserEnv||Ts.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Te.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&o.set(u,h)})}}if(Ts.hasStandardBrowserEnv&&(s&&Te.isFunction(s)&&(s=s(e)),s||s!==!1&&rA(e.url))){const l=i&&r&&oA.read(r);l&&o.set(i,l)}return e},cA=typeof XMLHttpRequest<"u",uA=cA&&function(t){return new Promise(function(n,s){const i=I6(t);let r=i.data;const o=qs.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,p,f,m;function b(){f&&f(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const k=qs.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),I={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:k,config:t,request:y};P6(function(H){n(H),b()},function(H){s(H),b()},I),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(s(new Nt("Request aborted",Nt.ECONNABORTED,t,y)),y=null)},y.onerror=function(S){const I=S&&S.message?S.message:"Network Error",z=new Nt(I,Nt.ERR_NETWORK,t,y);z.event=S||null,s(z),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||L6;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new Nt(S,I.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&Te.forEach(o.toJSON(),function(S,I){y.setRequestHeader(I,S)}),Te.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([p,m]=m1(c,!0),y.addEventListener("progress",p)),l&&y.upload&&([h,f]=m1(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=k=>{y&&(s(!k||k.type?new bc(null,t,y):k),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const C=nA(i.url);if(C&&Ts.protocols.indexOf(C)===-1){s(new Nt("Unsupported protocol "+C+":",Nt.ERR_BAD_REQUEST,t));return}y.send(r||null)})},dA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof Nt?u:new bc(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new Nt(`timeout ${e} of ms exceeded`,Nt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>Te.asap(a),l}},hA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},fA=async function*(t,e){for await(const n of pA(t))yield*hA(n,e)},pA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Vm=(t,e,n,s)=>{const i=fA(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let p=r+=h;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Hm=64*1024,{isFunction:ch}=Te,gA=(({Request:t,Response:e})=>({Request:t,Response:e}))(Te.global),{ReadableStream:qm,TextEncoder:Wm}=Te.global,Gm=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mA=t=>{t=Te.merge.call({skipUndefined:!0},gA,t);const{fetch:e,Request:n,Response:s}=t,i=e?ch(e):typeof fetch=="function",r=ch(n),o=ch(s);if(!i)return!1;const a=i&&ch(qm),l=i&&(typeof Wm=="function"?(m=>b=>m.encode(b))(new Wm):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=r&&a&&Gm(()=>{let m=!1;const b=new n(Ts.origin,{body:new qm,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!b}),u=o&&a&&Gm(()=>Te.isReadableStream(new s("").body)),h={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(b,y)=>{let w=b&&b[m];if(w)return w.call(b);throw new Nt(`Response type '${m}' is not supported`,Nt.ERR_NOT_SUPPORT,y)})});const p=async m=>{if(m==null)return 0;if(Te.isBlob(m))return m.size;if(Te.isSpecCompliantForm(m))return(await new n(Ts.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(m)||Te.isArrayBuffer(m))return m.byteLength;if(Te.isURLSearchParams(m)&&(m=m+""),Te.isString(m))return(await l(m)).byteLength},f=async(m,b)=>{const y=Te.toFiniteNumber(m.getContentLength());return y??p(b)};return async m=>{let{url:b,method:y,data:w,signal:C,cancelToken:k,timeout:S,onDownloadProgress:I,onUploadProgress:z,responseType:H,headers:U,withCredentials:T="same-origin",fetchOptions:q}=I6(m),L=e||fetch;H=H?(H+"").toLowerCase():"text";let P=dA([C,k&&k.toAbortSignal()],S),ne=null;const V=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let j;try{if(z&&c&&y!=="get"&&y!=="head"&&(j=await f(U,w))!==0){let ae=new n(b,{method:"POST",body:w,duplex:"half"}),A;if(Te.isFormData(w)&&(A=ae.headers.get("content-type"))&&U.setContentType(A),ae.body){const[O,Y]=Fm(j,m1(Um(z)));w=Vm(ae.body,Hm,O,Y)}}Te.isString(T)||(T=T?"include":"omit");const F=r&&"credentials"in n.prototype,D={...q,signal:P,method:y.toUpperCase(),headers:U.normalize().toJSON(),body:w,duplex:"half",credentials:F?T:void 0};ne=r&&new n(b,D);let N=await(r?L(ne,q):L(b,D));const ee=u&&(H==="stream"||H==="response");if(u&&(I||ee&&V)){const ae={};["status","statusText","headers"].forEach(he=>{ae[he]=N[he]});const A=Te.toFiniteNumber(N.headers.get("content-length")),[O,Y]=I&&Fm(A,m1(Um(I),!0))||[];N=new s(Vm(N.body,Hm,O,()=>{Y&&Y(),V&&V()}),ae)}H=H||"text";let fe=await h[Te.findKey(h,H)||"text"](N,m);return!ee&&V&&V(),await new Promise((ae,A)=>{P6(ae,A,{data:fe,headers:qs.from(N.headers),status:N.status,statusText:N.statusText,config:m,request:ne})})}catch(F){throw V&&V(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,m,ne),{cause:F.cause||F}):Nt.from(F,F&&F.code,m,ne)}}},vA=new Map,O6=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:i}=e,r=[s,i,n];let o=r.length,a=o,l,c,u=vA;for(;a--;)l=r[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:mA(e)),u=c;return c};O6();const tg={http:DS,xhr:uA,fetch:{get:O6}};Te.forEach(tg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Km=t=>`- ${t}`,bA=t=>Te.isFunction(t)||t===null||t===!1;function yA(t,e){t=Te.isArray(t)?t:[t];const{length:n}=t;let s,i;const r={};for(let o=0;o<n;o++){s=t[o];let a;if(i=s,!bA(s)&&(i=tg[(a=String(s)).toLowerCase()],i===void 0))throw new Nt(`Unknown adapter '${a}'`);if(i&&(Te.isFunction(i)||(i=i.get(e))))break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Km).join(`
`):" "+Km(o[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const D6={getAdapter:yA,adapters:tg};function yp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bc(null,t)}function Ym(t){return yp(t),t.headers=qs.from(t.headers),t.data=bp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),D6.getAdapter(t.adapter||vd.adapter,t)(t).then(function(s){return yp(t),s.data=bp.call(t,t.transformResponse,s),s.headers=qs.from(s.headers),s},function(s){return T6(s)||(yp(t),s&&s.response&&(s.response.data=bp.call(t,t.transformResponse,s.response),s.response.headers=qs.from(s.response.headers))),Promise.reject(s)})}const M6="1.13.1",nf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nf[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Zm={};nf.transitional=function(e,n,s){function i(r,o){return"[Axios v"+M6+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new Nt(i(o," has been removed"+(n?" in "+n:"")),Nt.ERR_DEPRECATED);return n&&!Zm[o]&&(Zm[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};nf.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function wA(t,e,n){if(typeof t!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new Nt("option "+r+" must be "+l,Nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nt("Unknown option "+r,Nt.ERR_BAD_OPTION)}}const Yh={assertOptions:wA,validators:nf},rr=Yh.validators;let Za=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jm,response:new jm}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nl(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&Yh.assertOptions(s,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1),i!=null&&(Te.isFunction(i)?n.paramsSerializer={serialize:i}:Yh.assertOptions(i,{encode:rr.function,serialize:rr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Yh.assertOptions(n,{baseUrl:rr.spelling("baseURL"),withXsrfToken:rr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&Te.merge(r.common,r[n.method]);r&&Te.forEach(["delete","get","head","post","put","patch","common"],m=>{delete r[m]}),n.headers=qs.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,h=0,p;if(!l){const m=[Ym.bind(this),void 0];for(m.unshift(...a),m.push(...c),p=m.length,u=Promise.resolve(n);h<p;)u=u.then(m[h++],m[h++]);return u}p=a.length;let f=n;for(;h<p;){const m=a[h++],b=a[h++];try{f=m(f)}catch(y){b.call(this,y);break}}try{u=Ym.call(this,f)}catch(m){return Promise.reject(m)}for(h=0,p=c.length;h<p;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=nl(this.defaults,e);const n=N6(e.baseURL,e.url,e.allowAbsoluteUrls);return A6(n,e.params,e.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(e){Za.prototype[e]=function(n,s){return this.request(nl(s||{},{method:e,url:n,data:(s||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(nl(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Za.prototype[e]=n(),Za.prototype[e+"Form"]=n(!0)});let _A=class R6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new bc(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new R6(function(i){e=i}),cancel:e}}};function xA(t){return function(n){return t.apply(null,n)}}function CA(t){return Te.isObject(t)&&t.isAxiosError===!0}const F2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(F2).forEach(([t,e])=>{F2[e]=t});function $6(t){const e=new Za(t),n=p6(Za.prototype.request,e);return Te.extend(n,Za.prototype,e,{allOwnKeys:!0}),Te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return $6(nl(t,i))},n}const Le=$6(vd);Le.Axios=Za;Le.CanceledError=bc;Le.CancelToken=_A;Le.isCancel=T6;Le.VERSION=M6;Le.toFormData=tf;Le.AxiosError=Nt;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=xA;Le.isAxiosError=CA;Le.mergeConfig=nl;Le.AxiosHeaders=qs;Le.formToJSON=t=>E6(Te.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=D6.getAdapter;Le.HttpStatusCode=F2;Le.default=Le;const{Axios:Dee,AxiosError:Mee,CanceledError:Ree,isCancel:$ee,CancelToken:jee,VERSION:Bee,all:Fee,Cancel:Uee,isAxiosError:zee,spread:Vee,toFormData:Hee,AxiosHeaders:qee,HttpStatusCode:Wee,formToJSON:Gee,getAdapter:Kee,mergeConfig:Yee}=Le;/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 *  2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var fr=function(){return fr=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(this,arguments)};var sl;(function(t){var e=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var h=[],p=0;p<this.size;p++)h.push(!1);for(var p=0;p<this.size;p++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();var f=this.addEccAndInterleave(c);if(this.drawCodewords(f),u==-1)for(var m=1e9,p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);var b=this.getPenaltyScore();b<m&&(u=p,m=b),this.applyMask(p)}i(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=t.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=t.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,h,p){if(c===void 0&&(c=1),u===void 0&&(u=40),h===void 0&&(h=-1),p===void 0&&(p=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");var f,m;for(f=c;;f++){var b=o.getNumDataCodewords(f,l)*8,y=r.getTotalBits(a,f);if(y<=b){m=y;break}if(f>=u)throw new RangeError("Data too long")}for(var w=0,C=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];w<C.length;w++){var k=C[w];p&&m<=o.getNumDataCodewords(f,k)*8&&(l=k)}for(var S=[],I=0,z=a;I<z.length;I++){var H=z[I];n(H.mode.modeBits,4,S),n(H.numChars,H.mode.numCharCountBits(f),S);for(var U=0,T=H.getData();U<T.length;U++){var q=T[U];S.push(q)}}i(S.length==m);var L=o.getNumDataCodewords(f,l)*8;i(S.length<=L),n(0,Math.min(4,L-S.length),S),n(0,(8-S.length%8)%8,S),i(S.length%8==0);for(var P=236;S.length<L;P^=253)n(P,8,S);for(var ne=[];ne.length*8<S.length;)ne.push(0);return S.forEach(function(V,j){return ne[j>>>3]|=V<<7-(j&7)}),new o(f,l,ne,h)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var h=(l<<10|c)^21522;i(h>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,s(h,u));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,s(h,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,s(h,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,s(h,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;i(c>>>18==0);for(var l=0;l<18;l++){var u=s(c,l),h=this.size-11+l%3,p=Math.floor(l/3);this.setFunctionModule(h,p,u),this.setFunctionModule(p,h,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var h=Math.max(Math.abs(u),Math.abs(c)),p=a+u,f=l+c;0<=p&&p<this.size&&0<=f&&f<this.size&&this.setFunctionModule(p,f,h!=2&&h!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],h=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],p=Math.floor(o.getNumRawDataModules(l)/8),f=u-p%u,m=Math.floor(p/u),b=[],y=o.reedSolomonComputeDivisor(h),w=0,C=0;w<u;w++){var k=a.slice(C,C+m-h+(w<f?0:1));C+=k.length;var S=o.reedSolomonComputeRemainder(k,y);w<f&&k.push(0),b.push(k.concat(S))}for(var I=[],z=function(H){b.forEach(function(U,T){(H!=m-h||T>=f)&&I.push(U[H])})},w=0;w<b[0].length;w++)z(w);return i(I.length==p),I},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var h=0;h<2;h++){var p=c-h,f=(c+1&2)==0,m=f?this.size-1-u:u;!this.isFunction[m][p]&&l<a.length*8&&(this.modules[m][p]=s(a[l>>>3],7-(l&7)),l++)}}i(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,h=[0,0,0,0,0,0,0],p=0;p<this.size;p++)this.modules[l][p]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,h),c||(a+=this.finderPenaltyCountPatterns(h)*o.PENALTY_N3),c=this.modules[l][p],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,h)*o.PENALTY_N3}for(var p=0;p<this.size;p++){for(var c=!1,f=0,h=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][p]==c?(f++,f==5?a+=o.PENALTY_N1:f>5&&a++):(this.finderPenaltyAddHistory(f,h),c||(a+=this.finderPenaltyCountPatterns(h)*o.PENALTY_N3),c=this.modules[l][p],f=1);a+=this.finderPenaltyTerminateAndCount(c,f,h)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var p=0;p<this.size-1;p++){var m=this.modules[l][p];m==this.modules[l][p+1]&&m==this.modules[l+1][p]&&m==this.modules[l+1][p+1]&&(a+=o.PENALTY_N2)}for(var b=0,y=0,w=this.modules;y<w.length;y++){var C=w[y];b=C.reduce(function(I,z){return I+(z?1:0)},b)}var k=this.size*this.size,S=Math.ceil(Math.abs(b*20-k*10)/k)-1;return i(0<=S&&S<=9),a+=S*o.PENALTY_N4,i(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return i(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var h=0;h<l.length;h++)l[h]=o.reedSolomonMultiply(l[h],u),h+1<l.length&&(l[h]^=l[h+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(m){return 0}),u=function(m){var b=m^c.shift();c.push(0),l.forEach(function(y,w){return c[w]^=o.reedSolomonMultiply(y,b)})},h=0,p=a;h<p.length;h++){var f=p[h];u(f)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return i(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];i(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function n(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function s(o,a){return(o>>>a&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}var r=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var h=u[c];n(h,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);n(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),n(u,11,l)}return c<a.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,l);else if(a<16384)n(2,2,l),n(a,14,l);else if(a<1e6)n(6,3,l),n(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,h=a;u<h.length;u++){var p=h[u],f=p.mode.numCharCountBits(l);if(p.numChars>=1<<f)return 1/0;c+=4+f+p.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=r})(sl||(sl={}));(function(t){(function(e){var n=function(){function s(i,r){this.ordinal=i,this.formatBits=r}return s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),s}();e.Ecc=n})(t.QrCode||(t.QrCode={}))})(sl||(sl={}));(function(t){(function(e){var n=function(){function s(i,r){this.modeBits=i,this.numBitsCharCount=r}return s.prototype.numCharCountBits=function(i){return this.numBitsCharCount[Math.floor((i+7)/17)]},s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),s}();e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(sl||(sl={}));var Vl=sl,ng="L",sg={L:Vl.QrCode.Ecc.LOW,M:Vl.QrCode.Ecc.MEDIUM,Q:Vl.QrCode.Ecc.QUARTILE,H:Vl.QrCode.Ecc.HIGH},kA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function ig(t){return t in sg}function j6(t,e){e===void 0&&(e=0);var n=[];return t.forEach(function(s,i){var r=null;s.forEach(function(o,a){if(!o&&r!==null){n.push("M".concat(r+e," ").concat(i+e,"h").concat(a-r,"v1H").concat(r+e,"z")),r=null;return}if(a===s.length-1){if(!o)return;r===null?n.push("M".concat(a+e,",").concat(i+e," h1v1H").concat(a+e,"z")):n.push("M".concat(r+e,",").concat(i+e," h").concat(a+1-r,"v1H").concat(r+e,"z"));return}o&&r===null&&(r=a)})}),n.join("")}function B6(t,e,n,s){var i=s.width,r=s.height,o=s.x,a=s.y,l=t.length+n*2,c=Math.floor(e*.1),u=l/e,h=(i||c)*u,p=(r||c)*u,f=o==null?t.length/2-h/2:o*u,m=a==null?t.length/2-p/2:a*u,b=null;if(s.excavate){var y=Math.floor(f),w=Math.floor(m),C=Math.ceil(h+f-y),k=Math.ceil(p+m-w);b={x:y,y:w,w:C,h:k}}return{x:f,y:m,h:p,w:h,excavation:b}}function F6(t,e){return t.slice().map(function(n,s){return s<e.y||s>=e.y+e.h?n:n.map(function(i,r){return r<e.x||r>=e.x+e.w?i:!1})})}var rg={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:ng,validator:function(t){return ig(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},SA=fr(fr({},rg),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),AA=ld({name:"QRCodeSvg",props:rg,setup:function(t){var e=le(0),n=le(""),s,i=function(){var o=t.value,a=t.level,l=t.margin,c=l>>>0,u=ig(a)?a:ng,h=Vl.QrCode.encodeText(o,sg[u]).getModules();if(e.value=h.length+c*2,t.imageSettings.src){var p=B6(h,t.size,c,t.imageSettings);s={x:p.x+c,y:p.y+c,width:p.w,height:p.h},p.excavation&&(h=F6(h,p.excavation))}n.value=j6(h,c)},r=function(){if(!t.gradient)return null;var o=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Rs(t.gradientType==="linear"?"linearGradient":"radialGradient",fr({id:"qr-gradient"},o),[Rs("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),Rs("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return i(),V1(i),function(){return Rs("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Rs("defs",{},[r()]),Rs("rect",{width:"100%",height:"100%",fill:t.background}),Rs("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:n.value}),t.imageSettings.src&&Rs("image",fr({href:t.imageSettings.src},s))])}}}),LA=ld({name:"QRCodeCanvas",props:rg,setup:function(t,e){var n=le(null),s=le(null),i=function(){var o=t.value,a=t.level,l=t.size,c=t.margin,u=t.background,h=t.foreground,p=t.gradient,f=t.gradientType,m=t.gradientStartColor,b=t.gradientEndColor,y=c>>>0,w=ig(a)?a:ng,C=n.value;if(C){var k=C.getContext("2d");if(k){var S=Vl.QrCode.encodeText(o,sg[w]).getModules(),I=S.length+y*2,z=s.value,H={x:0,y:0,width:0,height:0},U=t.imageSettings.src&&z!=null&&z.naturalWidth!==0&&z.naturalHeight!==0;if(U){var T=B6(S,t.size,y,t.imageSettings);H={x:T.x+y,y:T.y+y,width:T.w,height:T.h},T.excavation&&(S=F6(S,T.excavation))}var q=window.devicePixelRatio||1,L=l/I*q;if(C.height=C.width=l*q,k.scale(L,L),k.fillStyle=u,k.fillRect(0,0,I,I),p){var P=void 0;f==="linear"?P=k.createLinearGradient(0,0,I,I):P=k.createRadialGradient(I/2,I/2,0,I/2,I/2,I/2),P.addColorStop(0,m),P.addColorStop(1,b),k.fillStyle=P}else k.fillStyle=h;kA?k.fill(new Path2D(j6(S,y))):S.forEach(function(ne,V){ne.forEach(function(j,F){j&&k.fillRect(F+y,V+y,1,1)})}),U&&k.drawImage(z,H.x,H.y,H.width,H.height)}}};It(i),V1(i);var r=e.attrs.style;return function(){return Rs(Ye,[Rs("canvas",fr(fr({},e.attrs),{ref:n,style:fr(fr({},r),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&Rs("img",{ref:s,src:t.imageSettings.src,style:{display:"none"},onLoad:i})])}}}),ll=ld({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,n=t.value,s=t.size,i=t.margin,r=t.level,o=t.background,a=t.foreground,l=t.imageSettings,c=t.gradient,u=t.gradientType,h=t.gradientStartColor,p=t.gradientEndColor;return Rs(e==="svg"?AA:LA,{value:n,size:s,margin:i,level:r,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:h,gradientEndColor:p})},props:SA});const EA={class:"flex flex-col items-center gap-4 mt-12 overflow-y-auto"},TA=["onClick"],PA={class:"bg-white w-full max-w-[250px] h-72 overflow-y-auto"},NA={class:"mb-2 text-sm text-gray-600"},IA={class:"font-medium"},OA={key:0,class:"text-gray-500 text-sm"},DA={key:1,class:"flex flex-col gap-2"},MA=["onClick"],RA={class:"font-semibold text-sm"},$A={key:0,class:"text-xs text-gray-500"},jA={key:2,open:"",class:"modal sm:modal-middle"},BA={class:"modal-box max-w-3xl relative font-poppins"},FA={class:"text-xl font-bold mb-2"},UA={class:"text-sm text-gray-600 mb-2"},zA={key:0},VA=["href"],HA={key:1},qA={key:2,class:"mt-6 text-center border-t pt-4"},WA={class:"text-gray-500 text-xs mt-2"},GA={key:3},KA={key:3,style:{position:"fixed",inset:"0",display:"flex","justify-content":"center","align-items":"center","z-index":"9999"}},YA={class:"modal-box relative font-poppins"},ZA={class:"text-xl font-bold mb-2"},JA={class:"text-sm text-gray-600 mb-2"},XA={key:0},QA={key:1},eL={key:2},tL=["href"],nL={key:3},og={__name:"CalendarSidebar",props:{isOpen:{type:Boolean,required:!0}},emits:["open","close","eventClick"],setup(t,{emit:e}){const n=es({});async function s(){const L=localStorage.getItem("token");if(L)try{(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${L}`}})).data.forEach(ne=>{n[ne.trainingID]={registrationID:ne.registrationID}}),console.log(" Registered trainings loaded:",n)}catch(P){console.error(" Failed to fetch registrations:",P)}}le([]),le([]);const i=le({});It(s);async function r(){try{const L=JSON.parse(localStorage.getItem("user")),P=localStorage.getItem("token");if(!L||!P)return;const{data:ne}=await Le.get("https://pathfinder-development-production.up.railway.app/api/applications",{headers:{Authorization:`Bearer ${P}`}});console.log(" Applications API response:",ne),console.log(" First application sample:",ne[0]);const V=ne.filter(j=>j.interviewSchedule).map(j=>(console.log(" Processing application:",{applicationID:j.applicationID,title:j.title,careerPosition:j.career?.position,hasCareer:!!j.career,allKeys:Object.keys(j)}),{id:j.applicationID,careerID:j.careerID,title:j.title||j.career?.position||"Career Interview",date:new Date(j.interviewSchedule).toISOString().split("T")[0],type:"career",interviewSchedule:j.interviewSchedule,interviewMode:j.interviewMode,interviewLink:j.interviewLink,interviewLocation:j.interviewLocation,organization:j.organizationName||j.career?.organization?.name||j.career?.organization||"Unknown Organization"}));V.forEach(j=>{k.value[j.date]||(k.value[j.date]=[]),k.value[j.date].push(j)}),console.log(" Career events merged:",V)}catch(L){console.error(" Failed to fetch career events:",L)}}const o=Xt(()=>h.value?`https://pathfinder-development-production.up.railway.app/api/attendance?trainingID=${h.value.trainingID}&key=${h.value.attendance_key}`:"");async function a(L){const P=localStorage.getItem("token");if(!P)return console.error(" No token found  user may not be logged in."),null;try{const ne=await Le.get(`https://pathfinder-development-production.up.railway.app/api/careers/${L}`,{headers:{Authorization:`Bearer ${P}`,Accept:"application/json"}});return console.log(" Career details fetched:",ne.data),ne.data}catch(ne){return console.error(" Failed to fetch career details:",ne),null}}async function l(){try{const L=await Le.get("/api/interviews");careerEvents.value=L.data}catch(L){console.error("Error fetching interviews:",L)}}le({});const c=le([]),u=le(new Set),h=le(null),p=le(null);async function f(L){if(console.log("Opening modal for:",L),L.type==="training")h.value=L,p.value=null;else if(L.type==="career"){const P=await a(L.careerID),ne={...L,...P};p.value=ne}else console.warn("Unknown post type:",L)}function m(){p.value=null,h.value=null}function b(L){return L?new Date(L).toLocaleString("en-US",{dateStyle:"long",timeStyle:"short"}):""}function y(L){return L?new Date(L).toLocaleDateString("en-US",{dateStyle:"long"}):""}le(null),le(!1);const w=le(null),C=le(""),k=le({}),S=le([]);function I(L){C.value=U(L),H(C.value)}It(async()=>{await z(),await r(),I(new Date)});async function z(){try{const L=JSON.parse(localStorage.getItem("user")),P=localStorage.getItem("token");if(!L||!P){console.warn(" No user or token found in localStorage");return}const V=(await Le.get(`https://pathfinder-development-production.up.railway.app/api/calendar/${L.applicantID}`,{headers:{Authorization:`Bearer ${P}`}})).data.events||[];console.log(" API Events Fetched:",V),V.forEach(j=>{j.date=new Date(j.date).toISOString().split("T")[0]}),k.value={},V.forEach(j=>{k.value[j.date]||(k.value[j.date]=[]),k.value[j.date].push(j)}),console.log(" Events Map:",k.value)}catch(L){console.error(" Error fetching events:",L)}}function H(L){C.value=L,S.value=k.value[L]||[],console.log(" Events for",L,":",S.value)}It(async()=>{await ci(),await z(),await l();const L=w.value;if(!L)return;const P=new Date().toISOString().split("T")[0];H(P);const ne=()=>{L.querySelectorAll("[data-date]").forEach(V=>{const j=V.getAttribute("data-date");V.classList.remove("event-day","today"),k.value[j]&&V.classList.add("event-day"),j===P&&V.classList.add("today")})};ne(),L.addEventListener("render",ne),L.addEventListener("change",V=>{const j=V.target.value;H(j)})});function U(L){return L?new Date(L).toISOString().split("T")[0]:""}le(null),Xt(()=>trainingsWithOrg.value.filter(L=>u.value.has(L.trainingID)).map(L=>{const P=qrActiveTrainingId.value===L.trainingID;return{...L,qrKey:L.attendance_key,qrExpires:L.end_Time,isActiveQR:P,qrCountdown:P?qrCountdown.value:null}}));function T(){Object.values(qrIntervals).forEach(clearInterval),qrIntervals={},es({value:null,expiresAt:null,countdown:"00:00",interval:null})}It(async()=>{await fetchOrganizations(),console.log(" Organizations loaded:",i.value),await q(),console.log(" Trainings loaded:",c.value),await s(),await fetchBookmarks(),T(),buildEvents(),setupCalendarDOM(),setInterval(()=>q(),3e4)});async function q(){try{const L=await Le.get("https://pathfinder-development-production.up.railway.app/api/trainings");c.value=L.data}catch(L){console.error("Error fetching trainings:",L),addToast("FAILED TO LOAD TRAININGS","error")}}return It(()=>{q()}),mr([c,u],async()=>{buildEvents(),await ci(),setupCalendarDOM()}),(L,P)=>{const ne=to("calendar-month"),V=to("calendar-date");return M(),B("div",null,[t.isOpen?(M(),B("div",{key:0,class:"fixed inset-0 bg-black/40 z-30",onClick:P[0]||(P[0]=j=>L.$emit("close"))})):Ce("",!0),d("aside",{class:ft(["bg-white shadow-lg rounded-l-lg p-4 transition-transform duration-300 fixed top-0 right-0 h-full z-40 w-80 flex flex-col",t.isOpen?"translate-x-0":"translate-x-full"])},[d("button",{class:"absolute top-4 left-4 text-gray-600 hover:text-gray-900",onClick:P[1]||(P[1]=j=>L.$emit("close"))},"  "),d("div",EA,[wt(V,{ref_key:"calendarRef",ref:w,"first-day-of-week":"0",class:"cally bg-base-100 border border-base-300 shadow rounded-box p-3 flex-shrink-0"},{default:Wn(()=>[wt(ne,null,{day:Wn(({date:j})=>[d("div",{class:ft(["w-8 h-8 flex items-center justify-center rounded-full cursor-pointer",{"border-2 border-blue-500 bg-blue-50":U(j)===C.value,"bg-blue-100 text-blue-700 font-semibold":k.value[U(j)],"bg-gray-200 text-gray-600":!k.value[U(j)]}]),onClick:F=>I(j)},Z(y(j)),11,TA)]),_:1})]),_:1},512),d("div",PA,[P[4]||(P[4]=d("h1",{class:"text-lg font-semibold mb-1"},"Upcoming Events",-1)),d("h2",NA,[P[3]||(P[3]=Re(" on ")),d("span",IA,Z(C.value||"Select a date"),1)]),S.value.length===0?(M(),B("div",OA," No events scheduled ")):(M(),B("div",DA,[(M(!0),B(Ye,null,ct(S.value,(j,F)=>(M(),B("div",{key:F,class:"bg-gray-100 p-2 rounded-lg shadow-sm cursor-pointer hover:bg-gray-200 break-words flex justify-between items-center",onClick:()=>{console.log("Clicked event:",j),f(j)}},[d("div",null,[d("h3",RA,Z(j.title??(j.type==="career"?"Career Event":"Training Event")),1),j.type==="career"&&j.date?(M(),B("p",$A,Z(j.organization??""),1)):Ce("",!0)]),d("span",{class:ft(["text-[10px] text-white px-2 py-1 rounded-full",j.type==="training"?"bg-blue-500":"bg-green-500"])},Z(j.type==="training"?"Training":"Career"),3)],8,MA))),128))]))])])],2),t.isOpen?Ce("",!0):(M(),B("button",{key:1,class:"fixed bottom-6 right-6 bg-dark-slate text-white p-3 rounded-full shadow-lg z-50",onClick:P[2]||(P[2]=j=>L.$emit("open"))},[w_(L.$slots,"button",{},()=>[P[5]||(P[5]=d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[d("path",{d:"M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H8.74999V2C8.74999 1.59 8.40999 1.25 7.99999 1.25C7.58999 1.25 7.24999 1.59 7.24999 2V3.56C4.54999 3.81 3.23999 5.42 3.03999 7.81C3.01999 8.1 3.25999 8.34 3.53999 8.34H20.46C20.75 8.34 20.99 8.09 20.96 7.81C20.76 5.42 19.45 3.81 16.75 3.56Z",fill:"white"}),d("path",{d:"M20 9.84003H4C3.45 9.84003 3 10.29 3 10.84V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V10.84C21 10.29 20.55 9.84003 20 9.84003Z",fill:"white"})],-1))])])),h.value?(M(),B("dialog",jA,[d("div",BA,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:m},"  "),d("h2",FA,Z(h.value.title),1),d("p",UA," Organization: "+Z(h.value.organization),1),d("p",null,[P[6]||(P[6]=d("strong",null,"Mode:",-1)),Re(" "+Z(h.value.mode),1)]),d("p",null,[P[7]||(P[7]=d("strong",null,"Description: ",-1)),Re(Z(h.value.description),1)]),h.value.Mode?.toLowerCase()==="online"?(M(),B("p",zA,[P[8]||(P[8]=d("strong",null,"Link:",-1)),d("a",{href:h.value.trainingLink,target:"_blank",class:"text-blue-500 underline"},Z(h.value.trainingLink),9,VA)])):h.value.Mode?.toLowerCase()==="on-site"?(M(),B("p",HA,[P[9]||(P[9]=d("strong",null,"Location:",-1)),Re(" "+Z(h.value.location),1)])):Ce("",!0),d("p",null,[P[10]||(P[10]=d("strong",null,"Schedule:",-1)),Re(" "+Z(y(h.value.date))+" at "+Z(h.value.time),1)]),h.value.attendance_key?(M(),B("div",qA,[P[11]||(P[11]=d("p",{class:"text-sm font-semibold mb-2"}," Scan this QR Code for Attendance ",-1)),wt(ll,{value:o.value,size:200,level:"H",class:"mx-auto"},null,8,["value"]),d("p",WA," Expires at: "+Z(b(h.value.end_time)),1)])):(M(),B("div",GA,P[12]||(P[12]=[d("div",{class:"divider"},null,-1),d("p",{class:"text-sm text-gray-500 text-center"}," QR Code not available yet or has expired. ",-1)])))])])):Ce("",!0),p.value?(M(),B("div",KA,[d("div",YA,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:m},"  "),d("h2",ZA,Z(p.value.title),1),d("p",JA," Organization: "+Z(p.value.organization||"Unknown Organization"),1),d("p",null,[P[13]||(P[13]=d("strong",null,"Details:",-1)),Re(" "+Z(p.value?.detailsAndInstructions||"N/A"),1)]),d("p",null,[P[14]||(P[14]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(p.value?.qualifications||"N/A"),1)]),d("p",null,[P[15]||(P[15]=d("strong",null,"Requirements:",-1)),Re(" "+Z(p.value.requirements||"N/A"),1)]),d("p",null,[P[16]||(P[16]=d("strong",null,"Application Address:",-1)),Re(" "+Z(p.value.applicationLetterAddress||"N/A"),1)]),d("p",null,[P[17]||(P[17]=d("strong",null,"Deadline of Submission:",-1)),Re(" "+Z(y(p.value.deadlineOfSubmission)||"N/A"),1)]),P[22]||(P[22]=d("div",{class:"divider"},null,-1)),p.value.interviewSchedule?(M(),B("p",XA,[P[18]||(P[18]=d("strong",null,"Interview Schedule:",-1)),Re(" "+Z(b(p.value.interviewSchedule)),1)])):Ce("",!0),p.value.interviewMode?(M(),B("p",QA,[P[19]||(P[19]=d("strong",null,"Interview Mode:",-1)),Re(" "+Z(p.value.interviewMode),1)])):Ce("",!0),p.value.interviewMode?.toLowerCase()==="online"&&p.value.interviewLink?(M(),B("p",eL,[P[20]||(P[20]=d("strong",null,"Interview Link: ",-1)),d("a",{href:p.value.interviewLink,target:"_blank"},Z(p.value.interviewLink),9,tL)])):Ce("",!0),p.value.interviewMode?.toLowerCase()==="on-site"&&p.value.interviewLocation?(M(),B("p",nL,[P[21]||(P[21]=d("strong",null,"Location:",-1)),Re(" "+Z(p.value.interviewLocation),1)])):Ce("",!0)])])):Ce("",!0)])}}},sL={class:"font-poppins"},iL={class:"relative font-poppins min-h-screen flex"},rL={class:"flex-1 bg-white m-3 px-4 rounded-lg flex flex-col min-h-0 overflow-hidden"},oL={class:"sticky top-0 z-10 bg-white pt-4 px-4 pb-2 border-b shadow-sm"},aL={class:"mt-4 mb-4"},lL=["value"],cL={class:"flex-1 overflow-y-auto space-y-4 pb-4 pt-4"},uL={key:0,class:"text-center text-gray-500 py-8"},dL={key:1,class:"text-center text-gray-500 py-8"},hL=["onClick"],fL={class:"flex items-center justify-between"},pL={class:"flex-1"},gL={class:"font-semibold text-lg"},mL={class:"text-gray-600 text-sm"},vL={key:0,class:"ml-2 px-2 py-1 text-xs bg-blue-500 text-white rounded-full"},bL={key:0,open:"",class:"modal sm:modal-middle"},yL={class:"modal-box max-w-3xl relative font-poppins"},wL={class:"text-xl font-bold mb-2"},_L={class:"text-sm text-gray-600 mb-2"},xL={class:"my-4 flex justify-end gap-2"},CL={class:"bg-white w-full max-w-[250px] h-72 overflow-y-auto"},kL={class:"mb-2"},SL={key:0,class:"text-gray-700"},AL={key:1,class:"flex flex-col gap-2"},LL=["onClick"],EL={class:"font-semibold text-sm"},TL={class:"text-xs text-gray-600"},PL={key:1,open:"",class:"modal sm:modal-middle"},NL={class:"modal-box max-w-3xl relative font-poppins bg-gray-800 text-white"},IL={class:"text-xl font-bold mb-2"},OL={class:"text-sm text-gray-400 mb-2"},DL={class:"my-4 flex justify-end gap-2"},ML={class:"space-y-2 text-sm"},RL={class:"mt-6"},$L={key:0,class:"text-gray-400 text-sm"},jL={key:1,class:"flex overflow-x-auto space-x-3 pb-2 snap-x snap-mandatory",style:{"scrollbar-width":"thin"}},BL=["onClick"],FL={class:"font-semibold text-sm leading-snug mb-1"},UL={class:"text-[11px] text-gray-600 truncate"},zL={key:2,open:"",class:"modal sm:modal-middle"},VL={class:"modal-box max-w-3xl relative font-poppins bg-gray-800 text-white"},HL={class:"text-xl font-bold mb-2"},qL={class:"text-sm text-gray-400 mb-2"},WL={class:"my-4 flex justify-end gap-2"},GL={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},KL={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},YL={class:"space-y-2 text-sm"},ZL={key:0},JL={key:1},XL={key:3,open:"",class:"modal sm:modal-middle"},QL={class:"modal-box max-w-lg relative font-poppins"},eE={class:"text-xl font-bold mb-4"},tE={class:"mb-4"},nE={class:"toast toast-end toast-top z-50"},sE={__name:"Homepage",setup(t){const e=le(!1),n=le(!1),s=es({}),i=le({}),r=le({}),o=le(null),a=le([]),l=le([]),c=le(null),u=le(!1),h=le(!1),p=le(null),f=le(null),m=le([]),b=le(new Set),y=le(new Set),w=le([]);le({});const C=le(""),k=le([]);le(null),le(null);const S=le(null),I=le(!1);le({});function z(J,X="info"){const se=Date.now();w.value.push({id:se,message:J,type:X}),setTimeout(()=>{w.value=w.value.filter(me=>me.id!==se)},3e3)}async function H(){try{const J=await Le.get("https://pathfinder-development-production.up.railway.app/api/careers");l.value=Array.isArray(J.data)?J.data:[]}catch(J){console.error(J),z("Failed to fetch careers","error")}}async function U(){try{const J=localStorage.getItem("token");if(!J)return;const X=await Le.get("https://pathfinder-development-production.up.railway.app/api/applications",{headers:{Authorization:`Bearer ${J}`}});b.value=new Set(X.data.map(se=>se.careerID)),X.data.forEach(se=>i.value[se.careerID]=!0)}catch(J){console.error(J)}}async function T(){try{const J=localStorage.getItem("token");if(!J)return;const X=await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${J}`}});y.value=new Set(X.data.map(se=>se.trainingID)),X.data.forEach(se=>s[se.trainingID]=!0)}catch(J){console.error(J)}}function q(J){const X=J.careerID;i.value[X]=!1,b.value.delete(X)}async function L(J){const X=localStorage.getItem("token");if(!X){z("PLEASE LOG IN FIRST","accent");return}const se=J.careerID,me=r.value[se];try{me?(await Le.delete(`https://pathfinder-development-production.up.railway.app/api/career-bookmarks/${se}`,{headers:{Authorization:`Bearer ${X}`}}),r.value[se]=!1,z("Bookmark removed","info")):(await Le.post("https://pathfinder-development-production.up.railway.app/api/career-bookmarks",{careerID:se},{headers:{Authorization:`Bearer ${X}`}}),r.value[se]=!0,z("Bookmarked!","success"))}catch(Ee){Ee.response?.status===409?z("Already bookmarked","accent"):z("Failed to bookmark","error")}}async function P(J){if(J)try{const X=localStorage.getItem("token");if(!X){z("PLEASE LOG IN FIRST","accent");return}if((await Le.post("https://pathfinder-development-production.up.railway.app/api/registrations",{trainingID:J.trainingID},{headers:{Authorization:`Bearer ${X}`}})).data?.success===!1){z("FAILED TO REGISTER","accent");return}z("REGISTRATION SUCCESSFUL!!!","success"),y.value.add(J.trainingID),s.value[J.trainingID]=!0}catch(X){X.response?.status===409?(z("YOU ALREADY REGISTERED FOR THIS TRAINING","accent"),y.value.add(J.trainingID),s.value[J.trainingID]=!0):X.response?.status===401?z("UNAUTHORIZED. PLEASE LOG IN AGAIN","accent"):(console.error("Registration error:",X.response||X),z("FAILED TO REGISTER","accent"))}}async function ne(J){if(J)try{const X=localStorage.getItem("token");if(!X){z("PLEASE LOG IN FIRST","accent");return}const me=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${X}`}})).data.find(Ee=>Ee.trainingID===J.trainingID);if(!me){z("You are not registered for this training","accent");return}await Le.delete(`https://pathfinder-development-production.up.railway.app/api/registrations/${me.id}`,{headers:{Authorization:`Bearer ${X}`}}),y.value.delete(J.trainingID),s.value[J.trainingID]=!1,z("Unregistered successfully","info")}catch(X){X.response?.status===404?z("Registration not found","accent"):X.response?.status===401?z("UNAUTHORIZED. PLEASE LOG IN AGAIN","accent"):(console.error("Error unregistering:",X.response||X),z("Failed to unregister","error"))}}async function V(J){try{console.log("Career Object:",J);const X=parseInt(J.careerID,10);console.log("Parsed Career ID:",X);const se=await Le.get(`https://pathfinder-development-production.up.railway.app/api/careers/${X}/details`);o.value=se.data.career,a.value=se.data.recommended_trainings||[],u.value=!0}catch(X){console.error("Error loading career details:",X),alert("Failed to load career details.")}}function j(){u.value=!1,o.value=null,a.value=[]}function F(J){p.value=J,h.value=!0}function D(){h.value=!1,p.value=null}function N(J){f.value=J,I.value=!0}function ee(){I.value=!1,S.value=null,f.value=null}function fe(J){S.value=J.target.files[0]}async function ae(){if(!c.value){m.value=[];return}try{const J=await Le.get(`https://pathfinder-development-production.up.railway.app/api/careers/recommend/${c.value}`);m.value=Array.isArray(J.data)?J.data:[]}catch(J){console.error("Error fetching recommended careers:",J),m.value=[],z("Failed to load recommended careers","error")}}async function A(J){const X=localStorage.getItem("token");if(!X)return z("Please log in first","accent");const se=J.trainingID,me=r.value[se];try{me?(await Le.delete(`https://pathfinder-development-production.up.railway.app/api/bookmarks/${se}`,{headers:{Authorization:`Bearer ${X}`}}),r.value[se]=!1,z("Bookmark removed","info")):(await Le.post("https://pathfinder-development-production.up.railway.app/api/bookmarks",{trainingID:se},{headers:{Authorization:`Bearer ${X}`}}),r.value[se]=!0,z("Bookmarked!","success"))}catch{z("Failed to toggle bookmark","error")}}const O=J=>!!J.trainingID,Y=J=>O(J)?y.value.has(J.trainingID):b.value.has(J.careerID);function he(J){return J?new Date(J).toLocaleString("en-US",{dateStyle:"long",timeStyle:"short"}):""}function ge(J){return J?new Date(J).toLocaleDateString("en-US",{dateStyle:"long"}):""}return It(async()=>{await H(),await U(),await T()}),(J,X)=>(M(),B("div",sL,[d("div",iL,[d("main",rL,[d("div",oL,[X[14]||(X[14]=d("h2",{class:"text-lg font-bold"},"Career-Training",-1)),X[15]||(X[15]=d("h2",{class:"text-2xl font-bold mb-2"},"Matching Engine",-1)),d("div",aL,[X[13]||(X[13]=d("label",{for:"career-select",class:"block text-sm font-medium text-gray-700 mb-2"}," Select Your Target Career ",-1)),Ue(d("select",{id:"career-select","onUpdate:modelValue":X[0]||(X[0]=se=>c.value=se),onChange:ae,class:"block w-full px-4 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-gray-100"},[X[12]||(X[12]=d("option",{value:null,disabled:""},"Select a target career",-1)),(M(!0),B(Ye,null,ct(l.value,se=>(M(),B("option",{key:se.careerID,value:se.careerID},Z(se.position),9,lL))),128))],544),[[ud,c.value]])])]),d("div",cL,[m.value.length===0&&c.value?(M(),B("div",uL," No recommended careers found. ")):m.value.length===0?(M(),B("div",dL," Please select a target career to see recommendations. ")):Ce("",!0),(M(!0),B(Ye,null,ct(m.value,se=>(M(),B("div",{key:se.careerID,class:ft(["p-4 bg-blue-gray rounded-lg relative cursor-pointer hover:bg-gray-300 transition",{"ring-2 ring-blue-500":se.careerID===c.value}]),onClick:me=>V(se)},[d("div",fL,[d("div",pL,[d("h3",gL,Z(se.position),1),d("p",mL,Z(se.organization||"Unknown Organization"),1)]),se.careerID===c.value?(M(),B("span",vL," Target ")):Ce("",!0)])],10,hL))),128))])])]),wt(og,{isOpen:e.value,onOpen:X[1]||(X[1]=se=>e.value=!0),onClose:X[2]||(X[2]=se=>e.value=!1),onEventClick:J.openModalCalendar},null,8,["isOpen","onEventClick"]),p.value?(M(),B("dialog",bL,[d("div",yL,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:D},"  "),d("h2",wL,Z(p.value.title),1),d("p",_L," Organization: "+Z(p.value.organization),1),d("div",xL,[d("button",{class:"btn btn-outline btn-sm",onClick:X[3]||(X[3]=se=>J.toggleBookmark(p.value))},Z(r.value[p.value.trainingID]?"Bookmarked":"Bookmark"),1),d("div",CL,[X[17]||(X[17]=d("h1",{class:"text-lg font-semibold"},"Upcoming Events",-1)),d("h2",kL,[X[16]||(X[16]=Re(" on ")),d("span",null,Z(C.value||"Select a date"),1)]),k.value.length===0?(M(),B("div",SL," No events scheduled ")):(M(),B("div",AL,[(M(!0),B(Ye,null,ct(k.value,(se,me)=>(M(),B("div",{key:me,onClick:Ee=>J.openModal(se),class:"bg-gray-100 p-2 rounded-lg shadow-sm cursor-pointer hover:bg-gray-200 break-words flex justify-between items-center"},[d("div",null,[d("h3",EL,Z(O(se)?se.title:se.position),1),d("p",TL,Z(se.organization||"Unknown"),1)]),Y(se)?(M(),B("span",{key:0,class:ft(["text-[10px] text-white px-2 py-1 rounded-full",O(se)?"bg-blue-500":"bg-green-500"])},Z(O(se)?"Registered":"Applied"),3)):Ce("",!0)],8,LL))),128))]))])]),d("p",null,[X[18]||(X[18]=d("strong",null,"Mode:",-1)),Re(" "+Z(p.value.Mode),1)]),d("p",null,[X[19]||(X[19]=d("strong",null,"Description: ",-1)),Re(Z(p.value.description),1)]),n.value?Ce("",!0):(M(),B("button",{key:0,class:"fixed bottom-6 right-6 bg-dark-slate text-white p-3 rounded-full shadow-lg z-50",onClick:X[4]||(X[4]=se=>n.value=!0)},X[20]||(X[20]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H8.74999V2C8.74999 1.59 8.40999 1.25 7.99999 1.25C7.58999 1.25 7.24999 1.59 7.24999 2V3.56C4.54999 3.81 3.23999 5.42 3.03999 7.81C3.01999 8.1 3.25999 8.34 3.53999 8.34H20.46C20.75 8.34 20.99 8.09 20.96 7.81C20.76 5.42 19.45 3.81 16.75 3.56Z",fill:"white"}),d("path",{d:"M20 9.84003H4C3.45 9.84003 3 10.29 3 10.84V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V10.84C21 10.29 20.55 9.84003 20 9.84003ZM9.21 18.21C9.16 18.25 9.11 18.3 9.06 18.33C9 18.37 8.94 18.4 8.88 18.42C8.82 18.45 8.76 18.47 8.7 18.48C8.63 18.49 8.57 18.5 8.5 18.5C8.37 18.5 8.24 18.47 8.12 18.42C7.99 18.37 7.89 18.3 7.79 18.21C7.61 18.02 7.5 17.76 7.5 17.5C7.5 17.24 7.61 16.98 7.79 16.79C7.89 16.7 7.99 16.63 8.12 16.58C8.3 16.5 8.5 16.48 8.7 16.52C8.76 16.53 8.82 16.55 8.88 16.58C8.94 16.6 9 16.63 9.06 16.67C9.11 16.71 9.16 16.75 9.21 16.79C9.39 16.98 9.5 17.24 9.5 17.5C9.5 17.76 9.39 18.02 9.21 18.21ZM9.21 14.71C9.02 14.89 8.76 15 8.5 15C8.24 15 7.98 14.89 7.79 14.71C7.61 14.52 7.5 14.26 7.5 14C7.5 13.74 7.61 13.48 7.79 13.29C8.07 13.01 8.51 12.92 8.88 13.08C9.01 13.13 9.12 13.2 9.21 13.29C9.39 13.48 9.5 13.74 9.5 14C9.5 14.26 9.39 14.52 9.21 14.71ZM12.71 18.21C12.52 18.39 12.26 18.5 12 18.5C11.74 18.5 11.48 18.39 11.29 18.21C11.11 18.02 11 17.76 11 17.5C11 17.24 11.11 16.98 11.29 16.79C11.66 16.42 12.34 16.42 12.71 16.79C12.89 16.98 13 17.24 13 17.5C13 17.76 12.89 18.02 12.71 18.21ZM12.71 14.71C12.66 14.75 12.61 14.79 12.56 14.83C12.5 14.87 12.44 14.9 12.38 14.92C12.32 14.95 12.26 14.97 12.2 14.98C12.13 14.99 12.07 15 12 15C11.74 15 11.48 14.89 11.29 14.71C11.11 14.52 11 14.26 11 14C11 13.74 11.11 13.48 11.29 13.29C11.38 13.2 11.49 13.13 11.62 13.08C11.99 12.92 12.43 13.01 12.71 13.29C12.89 13.48 13 13.74 13 14C13 14.26 12.89 14.52 12.71 14.71ZM16.21 18.21C16.02 18.39 15.76 18.5 15.5 18.5C15.24 18.5 14.98 18.39 14.79 18.21C14.61 18.02 14.5 17.76 14.5 17.5C14.5 17.24 14.61 16.98 14.79 16.79C15.16 16.42 15.84 16.42 16.21 16.79C16.39 16.98 16.5 17.24 16.5 17.5C16.5 17.76 16.39 18.02 16.21 18.21ZM16.21 14.71C16.16 14.75 16.11 14.79 16.06 14.83C16 14.87 15.94 14.9 15.88 14.92C15.82 14.95 15.76 14.97 15.7 14.98C15.63 14.99 15.56 15 15.5 15C15.24 15 14.98 14.89 14.79 14.71C14.61 14.52 14.5 14.26 14.5 14C14.5 13.74 14.61 13.48 14.79 13.29C14.89 13.2 14.99 13.13 15.12 13.08C15.3 13 15.5 12.98 15.7 13.02C15.76 13.03 15.82 13.05 15.88 13.08C15.94 13.1 16 13.13 16.06 13.17C16.11 13.21 16.16 13.25 16.21 13.29C16.39 13.48 16.5 13.74 16.5 14C16.5 14.26 16.39 14.52 16.21 14.71Z",fill:"white"})],-1)])))])])):Ce("",!0),u.value&&o.value?(M(),B("dialog",PL,[d("div",NL,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2 text-white",onClick:j},"  "),d("div",null,[d("h2",IL,Z(o.value.position),1),d("p",OL," Organization: "+Z(o.value.organization),1),d("div",DL,[d("button",{class:"btn btn-outline btn-sm border-white text-white hover:bg-white hover:text-gray-800",onClick:X[5]||(X[5]=se=>L(o.value))},Z(r.value[o.value.careerID]?"BOOKMARKED":"BOOKMARK"),1),b.value.has(o.value.careerID)?(M(),B("button",{key:1,class:"btn btn-sm bg-gray-500 text-white",onClick:X[7]||(X[7]=se=>q(o.value))}," Cancel Application ")):(M(),B("button",{key:0,class:"btn btn-sm bg-blue-600 text-white hover:bg-blue-700",onClick:X[6]||(X[6]=se=>N(o.value))}," APPLY "))]),d("div",ML,[d("p",null,[X[21]||(X[21]=d("strong",null,"Details:",-1)),Re(" "+Z(o.value.detailsAndInstructions),1)]),d("p",null,[X[22]||(X[22]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(o.value.qualifications),1)]),d("p",null,[X[23]||(X[23]=d("strong",null,"Requirements:",-1)),Re(" "+Z(o.value.requirements),1)]),d("p",null,[X[24]||(X[24]=d("strong",null,"Application Address:",-1)),Re(" "+Z(o.value.applicationLetterAddress),1)]),d("p",null,[X[25]||(X[25]=d("strong",null,"Deadline:",-1)),Re(" "+Z(ge(o.value.deadlineOfSubmission)),1)])]),d("div",RL,[X[26]||(X[26]=d("h3",{class:"text-base font-semibold mb-3"},"Recommended Trainings",-1)),a.value.length===0?(M(),B("div",$L," No recommended trainings available. ")):(M(),B("div",jL,[(M(!0),B(Ye,null,ct(a.value,se=>(M(),B("div",{key:se.trainingID,class:"snap-start w-[180px] flex-shrink-0 p-3 bg-white text-gray-800 rounded-lg cursor-pointer hover:bg-gray-200 transition shadow-sm",onClick:vt(me=>F(se),["stop"])},[d("h4",FL,Z(se.title),1),d("p",UL,Z(se.organizationName||se.provider||se.name||"Unknown"),1)],8,BL))),128))]))])])])])):Ce("",!0),h.value&&p.value?(M(),B("dialog",zL,[d("div",VL,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2 text-white",onClick:D},"  "),d("div",null,[d("h2",HL,Z(p.value.title),1),d("p",qL," Organization: "+Z(p.value.organizationName||p.value.provider||p.value.name||"Unknown"),1),d("div",WL,[d("button",{class:"btn btn-outline btn-sm border-white text-white hover:bg-white hover:text-gray-800 flex items-center gap-2",onClick:X[8]||(X[8]=se=>A(p.value))},[r.value[p.value.trainingID]?(M(),B("svg",KL,X[28]||(X[28]=[d("path",{d:"M12.89 5.87988H5.11C3.4 5.87988 2 7.27988 2 8.98988V20.3499C2 21.7999 3.04 22.4199 4.31 21.7099L8.24 19.5199C8.66 19.2899 9.34 19.2899 9.75 19.5199L13.68 21.7099C14.96 22.4099 16 21.7999 16 20.3499V8.98988C16 7.27988 14.6 5.87988 12.89 5.87988Z",fill:"currentColor"},null,-1)]))):(M(),B("svg",GL,X[27]||(X[27]=[d("path",{d:"M12.89 5.87988H5.10999C3.39999 5.87988 2 7.27987 2 8.98987V20.3499C2 21.7999 3.04 22.4199 4.31 21.7099L8.23999 19.5199C8.65999 19.2899 9.34 19.2899 9.75 19.5199L13.68 21.7099C14.95 22.4199 15.99 21.7999 15.99 20.3499V8.98987C16 7.27987 14.6 5.87988 12.89 5.87988Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]),y.value.has(p.value.trainingID)?(M(),B("button",{key:1,class:"btn btn-sm bg-gray-500 text-white",onClick:X[10]||(X[10]=se=>ne(p.value))}," Unregister ")):(M(),B("button",{key:0,class:"btn btn-sm bg-blue-600 text-white hover:bg-blue-700",onClick:X[9]||(X[9]=se=>P(p.value))}," REGISTER "))]),X[34]||(X[34]=d("div",{class:"divider my-4"},null,-1)),d("div",YL,[d("p",null,[X[29]||(X[29]=d("strong",null,"Mode:",-1)),Re(" "+Z(p.value.mode||"Not specified"),1)]),d("p",null,[X[30]||(X[30]=d("strong",null,"Schedule:",-1)),Re(" "+Z(he(p.value.schedule)),1)]),p.value.location?(M(),B("p",ZL,[X[31]||(X[31]=d("strong",null,"Location:",-1)),Re(" "+Z(p.value.location),1)])):Ce("",!0),p.value.trainingLink?(M(),B("p",JL,[X[32]||(X[32]=d("strong",null,"Training Link:",-1)),Re(" "+Z(p.value.trainingLink),1)])):Ce("",!0),d("p",null,[X[33]||(X[33]=d("strong",null,"Description:",-1)),Re(" "+Z(p.value.description),1)])])])])])):Ce("",!0),I.value?(M(),B("dialog",XL,[d("div",QL,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:ee},"  "),d("h2",eE," Apply for "+Z(f.value?.position),1),d("form",{onSubmit:X[11]||(X[11]=vt((...se)=>J.submitApplication&&J.submitApplication(...se),["prevent"]))},[d("div",tE,[X[35]||(X[35]=d("label",{class:"block text-sm font-medium mb-1"},"Upload PDF Requirements",-1)),d("input",{type:"file",accept:"application/pdf",onChange:fe,required:"",class:"file-input file-input-bordered w-full"},null,32)]),d("div",{class:"flex justify-end gap-2"},[d("button",{type:"button",class:"btn btn-outline btn-sm",onClick:ee}," Cancel "),X[36]||(X[36]=d("button",{type:"submit",class:"btn bg-customButton hover:bg-dark-slate text-white btn-sm"}," Submit ",-1))])],32)])])):Ce("",!0),d("div",nE,[(M(!0),B(Ye,null,ct(w.value,se=>(M(),B("div",{key:se.id,class:ft(["alert",{"alert-info":se.type==="info","alert-success":se.type==="success","alert-error":se.type==="error","alert-warning":se.type==="accent"}])},Z(se.message),3))),128))])]))}},iE={class:"bg-gray-100 font-poppins"},rE={class:"lg:hidden block font-poppins"},oE={class:"text-black p-6"},aE={class:"flex flex-col items-center mt-4"},lE={class:"text-xl font-semibold mb-2"},cE={class:"w-full flex items-center justify-center gap-6 mt-2 relative"},uE={class:"relative"},dE={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},hE={class:"relative"},fE={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},pE={class:"bg-white p-4 rounded-lg"},gE={class:"space-y-4"},mE=["onClick"],vE={class:"text-sm"},bE={class:"text-sm"},yE={class:"font-semibold"},wE={class:"text-sm"},_E={class:"text-sm"},xE={class:"font-semibold"},CE=["disabled","onClick"],kE=["disabled"],SE={class:"min-h-screen p-3 font-poppins hidden lg:flex"},AE={class:"w-full lg:w-1/4 bg-white rounded-lg shadow p-6 flex flex-col items-center"},LE={class:"text-xl font-semibold mb-6"},EE={class:"w-full flex items-center justify-center gap-6 mb-6 relative"},TE={class:"relative"},PE={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},NE={class:"relative"},IE={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},OE={class:"w-full flex flex-col gap-3"},DE={class:"w-full lg:w-3/4 lg:pl-6 mt-6 lg:mt-0 flex flex-col gap-6"},ME={class:"bg-white rounded-lg shadow p-6 flex-1"},RE={class:"overflow-x-auto"},$E={class:"min-w-full divide-y divide-gray-200"},jE={class:"bg-white divide-y divide-gray-200"},BE=["onClick"],FE={class:"px-6 py-4 text-sm font-semibold text-gray-900"},UE={class:"px-6 py-4 text-sm text-gray-700"},zE={class:"px-6 py-4 whitespace-nowrap text-sm"},VE=["disabled","onClick"],HE=["disabled"],qE={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},WE={class:"modal-box relative font-poppins"},GE={key:0},KE={class:"text-xl font-bold mb-2"},YE={class:"text-sm text-gray-600 mb-2"},ZE={key:0,class:"text-center text-gray-500 text-sm mb-2"},JE={key:1},XE={key:0},QE={key:1},eT={key:2},tT=["href"],nT={key:3},sT={class:"modal-box max-w-3xl relative font-poppins"},iT={key:0},rT={class:"text-xl font-bold mb-2"},oT={class:"text-sm text-gray-600 mb-2"},aT={key:0},lT={key:1},cT=["href"],uT={key:2,class:"mt-6 text-center border-t pt-4"},dT={class:"text-gray-500 text-xs mt-2"},hT={key:3},fT={key:0,class:"modal",open:""},pT={class:"modal-box w-11/12 max-w-5xl relative"},gT=["src"],mT={key:1,class:"text-center text-gray-500"},vT={__name:"Profilepage",setup(t){const e=js(),n=le("Guest"),s=le([]),i=le(0),r=le(0),o=le(null),a=le(null),l=le(null),c=le(null);async function u(U){if(console.log(" Activity clicked:",U),U.type==="career")try{const T=localStorage.getItem("token");if(!T)return console.error(" No token found.");const L=(await Le.get("https://pathfinder-development-production.up.railway.app/api/applications",{headers:{Authorization:`Bearer ${T}`}})).data.find(P=>P.applicationID===U.applicationID);L?(console.log(" Application + interview found:",L),l.value=L):(console.log(" No application found, using activity data only."),l.value=U),await ci(),o.value&&o.value.showModal()}catch(T){console.error(" Error fetching application:",T)}else U.type==="training"?await h(U):console.warn(" Unknown activity type:",U)}async function h(U){try{const T=localStorage.getItem("token");if(!T)return console.error(" No token found.");const q=U.id||U.trainingID,L=await Le.get(`https://pathfinder-development-production.up.railway.app/api/trainings/${q}`,{headers:{Authorization:`Bearer ${T}`}});c.value=L.data,await ci(),a.value&&a.value.showModal()}catch(T){console.error(" Error opening training modal:",T)}}const p=Xt(()=>c.value?`https://pathfinder-development-production.up.railway.app/api/attendance?trainingID=${c.value.trainingID}&key=${c.value.attendance_key}`:"");function f(){o.value&&o.value.open&&o.value.close()}function m(){a.value&&a.value.open&&a.value.close()}const b=es({});let y=null;function w(U){if(!U)return"N/A";const T=new Date(U);return isNaN(T)?U:T.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}function C(){localStorage.removeItem("user"),localStorage.removeItem("token"),e.push({name:"Login"})}async function k(){const U=localStorage.getItem("user");if(!U)return;const T=JSON.parse(U);n.value=`${T.firstName||""} ${T.lastName||""}`.trim()||"Guest";try{const q=await Le.get(`https://pathfinder-development-production.up.railway.app/api/my-activities/${T.applicantID}`);s.value=q.data.activities||[],console.log("Raw activities data:",s.value),i.value=s.value.filter(L=>["upcoming","registered"].includes(L.status?.toLowerCase())).length,r.value=s.value.filter(L=>L.status?.toLowerCase()==="completed").length,S(),console.log("Activities fetched:",s.value)}catch(q){console.error("Error fetching activities:",q)}}const S=()=>{y&&clearInterval(y),y=setInterval(()=>{const U=new Date().getTime();let T=0,q=0;s.value.forEach(L=>{if(L.end_time){const j=new Date(L.end_time).getTime()-U;if(j>0){const F=Math.floor(j/1e3/60),D=Math.floor(j/1e3%60);b[L.id]=`${F}m ${D}s`}else b[L.id]="Expired"}const P=(L.status||"").toLowerCase(),ne=L.end_time?U>new Date(L.end_time).getTime():!1;P==="completed"||ne?q++:["upcoming","registered","scheduled"].includes(P)&&T++}),i.value=T,r.value=q},1e3)},I=le(!1),z=le(""),H=(U,T)=>{if(T?.stopPropagation(),!U.requirement_directory)return;const q=U.applicationID;z.value=`undefined/api/applications/${q}/requirement`,I.value=!0};return It(k),(U,T)=>(M(),B("div",iE,[d("div",rE,[d("div",oE,[d("div",aE,[T[7]||(T[7]=d("div",{class:"avatar w-24 h-24 rounded-full bg-white mb-4"},[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar",class:"w-full h-full object-cover rounded-full"})],-1)),d("h2",lE,Z(n.value),1),d("div",cE,[d("div",uE,[T[5]||(T[5]=d("div",{class:"flex items-center justify-center bg-white shadow-sm rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Upcoming")],-1)),d("span",dE,Z(i.value),1)]),d("div",hE,[T[6]||(T[6]=d("div",{class:"flex items-center justify-center bg-white shadow-sm rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Completed")],-1)),d("span",fE,Z(r.value),1)])])])]),d("div",pE,[T[10]||(T[10]=d("h3",{class:"text-lg font-semibold mb-2"},"My Activity",-1)),d("ul",gE,[(M(!0),B(Ye,null,ct(s.value,q=>(M(),B("li",{key:q.registrationID||q.applicationID,class:"relative p-2 shadow-sm bg-blue-gray rounded-lg hover:bg-gray-300 transition cursor-pointer"},[d("div",null,[d("div",{class:"flex flex-col gap-2 p-4 rounded cursor-pointer",onClick:L=>u(q)},[d("div",vE,[T[8]||(T[8]=d("span",{class:"font-semibold"},"Title:",-1)),Re(" "+Z(q.title),1)]),d("div",bE,[d("span",yE,Z(q.type==="training"?"Schedule:":"Deadline:"),1),Re(" "+Z(q.schedule?w(q.schedule):w(q.deadlineOfSubmission)||""),1)]),d("div",wE,[T[9]||(T[9]=d("span",{class:"font-semibold"},"Status: ",-1)),d("span",{class:ft({"text-green-600":["Applied","Registered","Completed"].includes(q.status),"text-yellow-600":q.status==="Ongoing","text-red-600":q.status==="Cancelled"})},Z(q.status||"N/A"),3)]),d("div",_E,[d("span",xE,Z(q.type==="career"?"Requirement:":"Certificate:"),1),q.type==="career"?(M(),B("button",{key:0,disabled:!q.requirement_directory,class:ft(["px-3 py-1 rounded text-white",q.requirement_directory?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"]),onClick:vt(L=>H(q,L),["stop"])}," View Requirement ",10,CE)):(M(),B("button",{key:1,class:ft(["ml-2 px-3 py-1 rounded text-white text-sm",q.certificate?"bg-green-500 hover:bg-green-600":"bg-gray-300 cursor-not-allowed"]),disabled:!q.certificate},Z(q.certificate?"View Certificate":"Pending"),11,kE))])],8,mE)])]))),128))])])]),d("div",SE,[d("div",AE,[T[19]||(T[19]=d("div",{class:"w-24 h-24 rounded-full bg-white mb-4"},[d("div",{class:"avatar w-24 h-24 rounded-full bg-white mb-4"},[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar",class:"w-full h-full object-cover rounded-full"})])],-1)),d("h2",LE,Z(n.value),1),d("div",EE,[d("div",TE,[T[11]||(T[11]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Upcoming")],-1)),d("span",PE,Z(i.value),1)]),d("div",NE,[T[12]||(T[12]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Completed")],-1)),d("span",IE,Z(r.value),1)])]),d("div",OE,[d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:T[0]||(T[0]=q=>U.$router.push({name:"ResumeEditorpage"}))},T[13]||(T[13]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M19.8333 3.21521V9.06681C19.8333 9.86022 19.8333 10.2569 19.9877 10.56C20.1235 10.8265 20.3402 11.0432 20.6068 11.1791C20.9098 11.3335 21.3066 11.3335 22.1 11.3335H27.9516M22.6666 18.4167H11.3333M22.6666 24.0834H11.3333M14.1666 12.75H11.3333M19.8333 2.83337H12.4666C10.0864 2.83337 8.89629 2.83337 7.98717 3.2966C7.18748 3.70406 6.53731 4.35423 6.12985 5.15391C5.66663 6.06304 5.66663 7.25315 5.66663 9.63337V24.3667C5.66663 26.7469 5.66663 27.937 6.12985 28.8462C6.53731 29.6459 7.18748 30.296 7.98717 30.7035C8.89629 31.1667 10.0864 31.1667 12.4666 31.1667H21.5333C23.9135 31.1667 25.1036 31.1667 26.0128 30.7035C26.8124 30.296 27.4626 29.6459 27.8701 28.8462C28.3333 27.937 28.3333 26.7469 28.3333 24.3667V11.3334L19.8333 2.83337Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Resume",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:T[1]||(T[1]=q=>U.$router.push({name:"Certificatespage"}))},T[14]||(T[14]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M9.47917 29.1666H7.29167C5.68084 29.1666 4.375 27.8608 4.375 26.25V5.83329C4.375 4.22246 5.68084 2.91663 7.29167 2.91663H27.7083C29.3192 2.91663 30.625 4.22246 30.625 5.83329V26.25C30.625 27.8608 29.3192 29.1666 27.7083 29.1666H25.5208M17.5 27.7083C19.9162 27.7083 21.875 25.7495 21.875 23.3333C21.875 20.917 19.9162 18.9583 17.5 18.9583C15.0838 18.9583 13.125 20.917 13.125 23.3333C13.125 25.7495 15.0838 27.7083 17.5 27.7083ZM17.5 27.7083L17.5313 27.708L12.8751 32.3641L8.75036 28.2393L13.1537 23.836M17.5 27.7083L22.1562 32.3641L26.281 28.2393L21.8777 23.836M13.125 8.74996H21.875M10.2083 13.8541H24.7917",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Certificates",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:T[2]||(T[2]=q=>U.$router.push({name:"Bookmarkpage"}))},T[15]||(T[15]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M7.75 3.75V30L17.4375 20.625L27.125 30V3.75H7.75ZM23.25 0H3.875V26.25L5.8125 24.375V1.875H23.25V0Z",fill:"white"})],-1),d("span",null,"Bookmark",-1)])),T[18]||(T[18]=d("div",{class:"divider"},null,-1)),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:T[3]||(T[3]=q=>U.$router.push({name:"UpdateDeletepage"}))},T[16]||(T[16]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"white"})],-1),d("span",null,"Account Setting",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:C},T[17]||(T[17]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z",fill:"white"}),d("path",{d:"M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z",fill:"white"}),d("path",{d:"M5.84994 16.1C5.65994 16.1 5.46994 16.03 5.31994 15.88L1.96994 12.53C1.67994 12.24 1.67994 11.76 1.96994 11.47L5.31994 8.12003C5.60994 7.83003 6.08994 7.83003 6.37994 8.12003C6.66994 8.41003 6.66994 8.89003 6.37994 9.18003L3.55994 12L6.37994 14.82C6.66994 15.11 6.66994 15.59 6.37994 15.88C6.23994 16.03 6.03994 16.1 5.84994 16.1Z",fill:"white"})],-1),d("span",null,"Logout",-1)]))])]),d("div",DE,[d("div",ME,[T[21]||(T[21]=d("h3",{class:"text-2xl font-semibold mb-4"},"My Activity",-1)),d("div",RE,[d("table",$E,[T[20]||(T[20]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-gray-700 uppercase tracking-wider"}," Title "),d("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-gray-700 uppercase tracking-wider"}," Date/Time "),d("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-gray-700 uppercase tracking-wider"}," Status "),d("th",{scope:"col",class:"px-6 py-3 text-left text-sm font-medium text-gray-700 uppercase tracking-wider"}," Requirement/Certificate ")])],-1)),d("tbody",jE,[(M(!0),B(Ye,null,ct(s.value,q=>(M(),B("tr",{key:q.title,class:"hover:bg-gray-100",onClick:L=>u(q)},[d("td",FE,Z(q.title),1),d("td",UE,Z(q.schedule?w(q.schedule):w(q.deadlineOfSubmission)||""),1),d("td",{class:ft(["px-6 py-4 text-sm font-medium",{"text-green-600":q.status==="Registered"||q.status==="Applied","text-yellow-600":q.status==="Scheduled","text-red-600":q.status==="Cancelled"}])},Z(q.status),3),d("td",zE,[q.type==="career"?(M(),B("button",{key:0,disabled:!q.requirement_directory,class:ft(["px-3 py-1 rounded text-white",q.requirement_directory?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"]),onClick:vt(L=>H(q,L),["stop"])}," View Requirement ",10,VE)):(M(),B("button",{key:1,disabled:!q.certificate,class:ft(["px-3 py-1 rounded text-white",q.certificate?"bg-green-500 hover:bg-green-600":"bg-gray-300 cursor-not-allowed"])},Z(q.certificate?"View Certificate":"Certificate Pending"),11,HE))])],8,BE))),128))])])])])])]),d("dialog",{ref_key:"careerModal",ref:o,class:"modal sm:modal-middle z-50"},[l.value?(M(),B("div",qE,[d("div",WE,[d("button",{onClick:f,class:"btn btn-sm btn-circle absolute right-2 top-2"},"  "),l.value?(M(),B("div",GE,[d("h2",KE,Z(l.value.title||l.value.career?.position),1),d("p",YE," Organization: "+Z(l.value.organizationName||l.value.organization),1),d("p",null,[T[22]||(T[22]=d("strong",null,"Details:",-1)),Re(" "+Z(l.value.detailsAndInstructions||l.value.career?.detailsAndInstructions),1)]),d("p",null,[T[23]||(T[23]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(l.value.qualifications||l.value.career?.qualifications),1)]),d("p",null,[T[24]||(T[24]=d("strong",null,"Requirements: ",-1)),Re(" "+Z(l.value.requirements),1)]),d("p",null,[T[25]||(T[25]=d("strong",null,"Application Address:",-1)),Re(" "+Z(l.value.applicationLetterAddress||l.value.career?.applicationLetterAddress),1)]),d("p",null,[T[26]||(T[26]=d("strong",null,"Deadline:",-1)),Re(" "+Z(w(l.value.deadlineOfSubmission||l.value.career?.deadlineOfSubmission)),1)]),T[31]||(T[31]=d("div",{class:"divider"},null,-1)),l.value.interviewSchedule?Ce("",!0):(M(),B("p",ZE," Application is still being processed. ")),l.value.interviewSchedule||l.value.interviewMode||l.value.interviewLink||l.value.interviewLocation?(M(),B("div",JE,[l.value.interviewSchedule?(M(),B("p",XE,[T[27]||(T[27]=d("strong",null,"Interview Schedule:",-1)),Re(" "+Z(w(l.value.interviewSchedule)),1)])):Ce("",!0),l.value.interviewMode?(M(),B("p",QE,[T[28]||(T[28]=d("strong",null,"Mode:",-1)),Re(" "+Z(l.value.interviewMode),1)])):Ce("",!0),l.value.interviewLink?(M(),B("p",eT,[T[29]||(T[29]=d("strong",null,"Link:",-1)),d("a",{href:l.value.interviewLink,target:"_blank"},Z(l.value.interviewLink),9,tT)])):Ce("",!0),l.value.interviewLocation?(M(),B("p",nT,[T[30]||(T[30]=d("strong",null,"Location:",-1)),Re(" "+Z(l.value.interviewLocation),1)])):Ce("",!0)])):Ce("",!0)])):Ce("",!0)])])):Ce("",!0)],512),d("dialog",{ref_key:"trainingModal",ref:a,class:"modal sm:modal-middle z-50"},[d("div",sT,[d("button",{onClick:m,class:"btn btn-sm btn-circle absolute right-2 top-2"},"  "),c.value?(M(),B("div",iT,[d("h2",rT,Z(c.value.title),1),d("p",oT," Organization: "+Z(c.value.organization?.name),1),d("p",null,[T[32]||(T[32]=d("strong",null,"Mode:",-1)),Re(" "+Z(c.value.mode),1)]),d("p",null,[T[33]||(T[33]=d("strong",null,"Details:",-1)),Re(" "+Z(c.value.description),1)]),c.value.location?(M(),B("p",aT,[T[34]||(T[34]=d("strong",null,"Location:",-1)),Re(" "+Z(c.value.location),1)])):Ce("",!0),c.value.trainingLink?(M(),B("p",lT,[T[35]||(T[35]=d("strong",null,"Link:",-1)),d("a",{href:c.value.trainingLink,target:"_blank",class:"text-blue-500 underline"},Z(c.value.trainingLink),9,cT)])):Ce("",!0),d("p",null,[T[36]||(T[36]=d("strong",null,"Schedule:",-1)),Re(" "+Z(w(c.value.schedule)),1)]),c.value.attendance_key?(M(),B("div",uT,[T[37]||(T[37]=d("p",{class:"text-sm font-semibold mb-2"}," Scan this QR Code for Attendance ",-1)),wt(ll,{value:p.value,size:200,level:"H",class:"mx-auto"},null,8,["value"]),d("p",dT," Expires at: "+Z(w(c.value.end_time)),1)])):(M(),B("div",hT,T[38]||(T[38]=[d("div",{class:"divider"},null,-1),d("p",{class:"text-sm text-gray-500 text-center"}," QR Code not available yet or has expired. ",-1)])))])):Ce("",!0)])],512),I.value?(M(),B("dialog",fT,[d("div",pT,[d("button",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:T[4]||(T[4]=q=>I.value=!1)},"  "),T[39]||(T[39]=d("h3",{class:"font-bold text-lg mb-4"},"Uploaded Requirement",-1)),z.value?(M(),B("iframe",{key:0,src:z.value,class:"w-full h-[80vh] rounded-lg",frameborder:"0"},null,8,gT)):(M(),B("p",mT,"No requirement found."))])])):Ce("",!0)]))}},Pi=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},bT={class:"min-h-screen w-full bg-white overflow-y-auto flex justify-center"},yT={class:"font-poppins w-full md:w-3/4 lg:w-2/3 xl:w-1/2 p-6"},wT={class:"pt-4 pb-2"},_T={class:"form-control mb-4"},xT={class:"form-control mb-4"},CT={class:"form-control mb-4"},kT={class:"form-control mb-4"},ST={class:"form-control mb-4"},AT={class:"form-control mb-4"},LT={class:"form-control mb-4 relative"},ET=["type"],TT={key:0},PT={key:1},NT={class:"form-control mb-4"},IT={class:"relative"},OT=["type"],DT={key:0},MT={key:1},RT={key:0,class:"text-red-500 text-sm mt-1"},$T={class:"relative mb-4"},jT={class:"relative"},BT=["value"],FT={class:"flex items-center space-x-2 cursor-pointer mb-2"},UT={key:0,class:"fixed inset-0 flex items-center justify-center z-50",style:{"background-color":"rgba(255, 255, 255, 0.3)"}},zT={class:"bg-white p-6 rounded-lg w-96 relative"},VT={key:0,class:"fixed inset-0 flex items-center justify-center z-50",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},HT={__name:"A_RegistrationForm",setup(t){const e=js(),n=le({firstName:"",middleName:"",lastName:"",address:"",emailAddress:"",phoneNumber:"",password:"",confirmPassword:"",message:"password does not match"}),s=le(!1),i=le(!1),r=le(!1),o=le([]);It(async()=>{try{const h=await Le.get("https://pathfinder-development-production.up.railway.app/api/careers");o.value=h.data}catch(h){console.error("Error fetching careers:",h)}});const a=async()=>{if(!s.value){alert("You must accept the terms and conditions.");return}if(!n.value.careerID){alert("Please select a target career.");return}if(n.value.password!==n.value.confirmPassword){alert("Passwords do not match.");return}try{await Le.post("https://pathfinder-development-production.up.railway.app/api/applicants",{...n.value,careerID:Number(n.value.careerID)}),r.value=!0}catch(h){if(h.response&&h.response.data.errors){const p=h.response.data.errors;alert(Object.values(p).flat().join(`
`))}else alert("Registration failed. Please try again.")}},l=()=>{r.value=!1,e.push("Login")},c=le(!1),u=le(!1);return(h,p)=>(M(),B("div",bT,[d("div",yT,[d("div",wT,[d("button",{class:"btn btn-ghost btn-xs sm:btn-sm md:btn-md lg:btn-lg xl:btn-xl text-dark-slate",onClick:p[0]||(p[0]=f=>h.$router.push("Login"))},p[16]||(p[16]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 18l-6-6 6-6"})],-1)]))]),p[32]||(p[32]=d("h2",{class:"text-3xl font-semibold text-left mb-6 text-dark-slate pl-3"}," Create Account ",-1)),d("form",{onSubmit:vt(a,["prevent"])},[d("div",_T,[Ue(d("input",{class:"input w-full bg-gray-100",type:"text",required:"",placeholder:"First Name","onUpdate:modelValue":p[1]||(p[1]=f=>n.value.firstName=f)},null,512),[[We,n.value.firstName]])]),d("div",xT,[Ue(d("input",{class:"input w-full bg-gray-100",type:"text",placeholder:"Middle Name","onUpdate:modelValue":p[2]||(p[2]=f=>n.value.middleName=f)},null,512),[[We,n.value.middleName]])]),d("div",CT,[Ue(d("input",{class:"input w-full bg-gray-100",type:"text",required:"",placeholder:"Last Name","onUpdate:modelValue":p[3]||(p[3]=f=>n.value.lastName=f)},null,512),[[We,n.value.lastName]])]),d("div",kT,[Ue(d("input",{class:"input w-full bg-gray-100",type:"text",required:"",placeholder:"Address","onUpdate:modelValue":p[4]||(p[4]=f=>n.value.address=f)},null,512),[[We,n.value.address]])]),d("div",ST,[Ue(d("input",{class:"input validator w-full bg-gray-100",type:"email",required:"",placeholder:"Email","onUpdate:modelValue":p[5]||(p[5]=f=>n.value.emailAddress=f)},null,512),[[We,n.value.emailAddress]]),p[17]||(p[17]=d("p",{class:"validator-hint hidden"},"Invalid Email",-1))]),d("div",AT,[Ue(d("input",{type:"tel",class:"input validator tabular-nums w-full bg-gray-100",required:"",placeholder:"Phone Number",minlength:"11",maxlength:"11",pattern:"[0-9]*",title:"Must be 11 digits","onUpdate:modelValue":p[6]||(p[6]=f=>n.value.phoneNumber=f)},null,512),[[We,n.value.phoneNumber]]),p[18]||(p[18]=d("p",{class:"hidden validator-hint"},"Must be 11 digits",-1))]),d("div",LT,[Ue(d("input",{type:c.value?"text":"password",class:"input validator w-full pr-10 bg-gray-100",required:"",placeholder:"Password","onUpdate:modelValue":p[7]||(p[7]=f=>n.value.password=f),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least 8 characters, including a number, a lowercase and an uppercase letter"},null,8,ET),[[Vu,n.value.password]]),d("button",{type:"button",class:"absolute right-2 top-1/3 -translate-y-1/2 text-gray-500","aria-label":"Toggle confirm password visibility",onClick:p[8]||(p[8]=f=>c.value=!c.value)},[c.value?(M(),B("span",TT,p[19]||(p[19]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.5799 11.9999C15.5799 13.9799 13.9799 15.5799 11.9999 15.5799C10.0199 15.5799 8.41992 13.9799 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C13.9799 8.41992 15.5799 10.0199 15.5799 11.9999Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d("path",{d:"M12.0001 20.27C15.5301 20.27 18.8201 18.19 21.1101 14.59C22.0101 13.18 22.0101 10.81 21.1101 9.39997C18.8201 5.79997 15.5301 3.71997 12.0001 3.71997C8.47009 3.71997 5.18009 5.79997 2.89009 9.39997C1.99009 10.81 1.99009 13.18 2.89009 14.59C5.18009 18.19 8.47009 20.27 12.0001 20.27Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(M(),B("span",PT,p[20]||(p[20]=[Ws('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-decab38f><path d="M14.5299 9.46992L9.46992 14.5299C8.81992 13.8799 8.41992 12.9899 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C12.9899 8.41992 13.8799 8.81992 14.5299 9.46992Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M17.8201 5.76998C16.0701 4.44998 14.0701 3.72998 12.0001 3.72998C8.47009 3.72998 5.18009 5.80998 2.89009 9.40998C1.99009 10.82 1.99009 13.19 2.89009 14.6C3.68009 15.84 4.60009 16.91 5.60009 17.77" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M8.41992 19.5299C9.55992 20.0099 10.7699 20.2699 11.9999 20.2699C15.5299 20.2699 18.8199 18.1899 21.1099 14.5899C22.0099 13.1799 22.0099 10.8099 21.1099 9.39993C20.7799 8.87993 20.4199 8.38993 20.0499 7.92993" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M15.5099 12.7C15.2499 14.11 14.0999 15.26 12.6899 15.52" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M9.47 14.53L2 22" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M22 2L14.53 9.47" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path></svg>',1)])))]),p[21]||(p[21]=d("p",{class:"validator-hint text-gray-500 text-sm mt-1"},[d("i",null," *Must be at least 8 characters, and include a number, a lowercase letter, and an uppercase letter. ")],-1))]),d("div",NT,[d("div",IT,[Ue(d("input",{type:u.value?"text":"password",class:"input w-full pr-10 focus:outline-none focus:border-transparent bg-gray-100",required:"",placeholder:"Confirm Password",minlength:"8","onUpdate:modelValue":p[9]||(p[9]=f=>n.value.confirmPassword=f)},null,8,OT),[[Vu,n.value.confirmPassword]]),d("button",{type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",onClick:p[10]||(p[10]=f=>u.value=!u.value),"aria-label":"Toggle confirm password visibility"},[u.value?(M(),B("span",DT,p[22]||(p[22]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.5799 11.9999C15.5799 13.9799 13.9799 15.5799 11.9999 15.5799C10.0199 15.5799 8.41992 13.9799 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C13.9799 8.41992 15.5799 10.0199 15.5799 11.9999Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d("path",{d:"M12.0001 20.27C15.5301 20.27 18.8201 18.19 21.1101 14.59C22.0101 13.18 22.0101 10.81 21.1101 9.39997C18.8201 5.79997 15.5301 3.71997 12.0001 3.71997C8.47009 3.71997 5.18009 5.79997 2.89009 9.39997C1.99009 10.81 1.99009 13.18 2.89009 14.59C5.18009 18.19 8.47009 20.27 12.0001 20.27Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(M(),B("span",MT,p[23]||(p[23]=[Ws('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-decab38f><path d="M14.5299 9.46992L9.46992 14.5299C8.81992 13.8799 8.41992 12.9899 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C12.9899 8.41992 13.8799 8.81992 14.5299 9.46992Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M17.8201 5.76998C16.0701 4.44998 14.0701 3.72998 12.0001 3.72998C8.47009 3.72998 5.18009 5.80998 2.89009 9.40998C1.99009 10.82 1.99009 13.19 2.89009 14.6C3.68009 15.84 4.60009 16.91 5.60009 17.77" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M8.41992 19.5299C9.55992 20.0099 10.7699 20.2699 11.9999 20.2699C15.5299 20.2699 18.8199 18.1899 21.1099 14.5899C22.0099 13.1799 22.0099 10.8099 21.1099 9.39993C20.7799 8.87993 20.4199 8.38993 20.0499 7.92993" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M15.5099 12.7C15.2499 14.11 14.0999 15.26 12.6899 15.52" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M9.47 14.53L2 22" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path><path d="M22 2L14.53 9.47" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-decab38f></path></svg>',1)])))])]),n.value.confirmPassword&&n.value.password!==n.value.confirmPassword?(M(),B("p",RT," Passwords do not match. ")):Ce("",!0)]),p[30]||(p[30]=d("div",{class:"divider"},null,-1)),d("div",$T,[p[25]||(p[25]=d("label",{class:"block font-semibold text-gray-500"}," To help us personalize recommendations for you, ",-1)),p[26]||(p[26]=d("p",{class:"text-gray-500 mb-2"},"please select your target career below.",-1)),d("div",jT,[Ue(d("select",{"onUpdate:modelValue":p[11]||(p[11]=f=>n.value.careerID=f),onFocus:p[12]||(p[12]=f=>h.showDropdown=!0),class:"w-full bg-gray-100 text-gray-800 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},[p[24]||(p[24]=d("option",{disabled:"",value:""},"Select your target career",-1)),(M(!0),B(Ye,null,ct(o.value,f=>(M(),B("option",{key:f.careerID,value:f.careerID},Z(f.position),9,BT))),128))],544),[[ud,n.value.careerID,void 0,{number:!0}]])])]),d("div",null,[d("label",FT,[Ue(d("input",{type:"checkbox",class:"checkbox validator",required:"","onUpdate:modelValue":p[13]||(p[13]=f=>s.value=f)},null,512),[[Uu,s.value]]),d("span",null,[d("a",{href:"#",class:"text-blue-500 underline",onClick:p[14]||(p[14]=vt(f=>i.value=!0,["prevent"]))}," Accept all terms and conditions. ")])]),i.value?(M(),B("div",UT,[d("div",zT,[p[27]||(p[27]=d("h2",{class:"text-lg font-bold mb-4"},"Terms and Conditions",-1)),p[28]||(p[28]=d("p",{class:"text-sm mb-4"}," By using this system and submitting your personal information, you acknowledge and agree that: ",-1)),p[29]||(p[29]=d("p",{class:"text-sm mb-4"},[Re(" You voluntarily consent to the collection, processing, and storage of your personal data by the system. Your personal data will be handled in accordance with the Data Privacy Act of 2012 (Republic Act No. 10173), ensuring its confidentiality, integrity, and security. Your personal data will be used solely for legitimate purposes related to the services provided by this system. You have the right to access, correct, or request deletion of your personal data as provided under the law. "),d("br"),d("br"),Re(" By checking the box and proceeding, you indicate your understanding and acceptance of these terms. ")],-1)),d("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:p[15]||(p[15]=f=>h.showModal=!1)},"  ")])])):Ce("",!0)]),p[31]||(p[31]=d("div",{class:"card-actions justify-end pt-4 pb-20"},[d("button",{type:"submit",class:"btn w-2/4 bg-customButton hover:bg-dark-slate text-white"}," Register ")],-1))],32)]),r.value?(M(),B("div",VT,[d("div",{class:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full text-center relative"},[p[33]||(p[33]=d("h2",{class:"text-lg font-bold text-green-600 mb-4"}," Registration Successful ",-1)),p[34]||(p[34]=d("p",{class:"text-sm mb-6"},"Your account has been created successfully.",-1)),d("button",{class:"btn btn-primary w-3/4 bg-dark-slate text-white",onClick:l}," OK ")])])):Ce("",!0)]))}},qT=Pi(HT,[["__scopeId","data-v-decab38f"]]),Ui=Le.create({baseURL:"https://pathfinder-development-production.up.railway.app/api"});Ui.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const WT={class:"font-poppins pb-20 min-h-screen flex items-center justify-center p-4"},GT={class:"pt-10 pb-2"},KT={class:"form-control mb-4"},YT={class:"form-control mb-4"},ZT={class:"form-control mb-4"},JT={class:"form-control mb-4"},XT={class:"form-control mb-4"},QT={class:"form-control mb-4 relative"},eP=["type"],tP={key:0},nP={key:1},sP={class:"form-control mb-4"},iP={class:"relative"},rP=["type"],oP={key:0},aP={key:1},lP={key:0,class:"text-red-500 text-sm mt-1"},cP={class:"flex items-center space-x-2 cursor-pointer mb-2"},uP={key:0,class:"fixed inset-0 flex items-center justify-center z-50",style:{"background-color":"rgba(255, 255, 255, 0.3)"}},dP={class:"bg-white p-6 rounded-lg w-96 relative"},hP={key:0,class:"fixed inset-0 flex items-center justify-center z-50",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},fP={__name:"O_RegistrationForm",setup(t){const e=js(),n=le({name:"",location:"",websiteURL:"",emailAddress:"",phoneNumber:"",password:"",confirmPassword:""}),s=le(!1),i=le(!1),r=le(!1),o=async()=>{if(s.value&&n.value.password===n.value.confirmPassword)try{const{confirmPassword:u,...h}=n.value;await Le.post("https://pathfinder-development-production.up.railway.app/api/organization",h),r.value=!0,n.value={name:"",location:"",websiteURL:"",emailAddress:"",phoneNumber:"",password:"",confirmPassword:""},s.value=!1}catch(u){console.error(u.response?.data||u.message)}},a=()=>{r.value=!1,e.push("Login")},l=le(!1),c=le(!1);return(u,h)=>(M(),B("div",WT,[d("div",null,[d("div",null,[d("div",GT,[d("button",{class:"btn btn-ghost btn-xs sm:btn-sm md:btn-md lg:btn-lg xl:btn-xl text-dark-slate",onClick:h[0]||(h[0]=p=>u.$router.push("Login"))},h[13]||(h[13]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 18l-6-6 6-6"})],-1)]))]),h[14]||(h[14]=d("h2",{class:"text-3xl font-semibold text-left mb-6 text-dark-slate pl-3"}," Create Account ",-1))]),d("form",{onSubmit:vt(o,["prevent"])},[d("div",KT,[Ue(d("input",{class:"input w-full bg-gray-100",type:"text",required:"",placeholder:"Organization Name",name:"name","onUpdate:modelValue":h[1]||(h[1]=p=>n.value.name=p)},null,512),[[We,n.value.name]])]),d("div",YT,[Ue(d("input",{class:"input w-full bg-gray-100",type:"text",required:"",placeholder:"Location",name:"location","onUpdate:modelValue":h[2]||(h[2]=p=>n.value.location=p)},null,512),[[We,n.value.location]])]),d("div",ZT,[Ue(d("input",{class:"input w-full bg-gray-100",type:"url",placeholder:"Website URL",name:"websiteURL","onUpdate:modelValue":h[3]||(h[3]=p=>n.value.websiteURL=p)},null,512),[[We,n.value.websiteURL]])]),d("div",JT,[Ue(d("input",{class:"input validator w-full bg-gray-100",type:"email",required:"",placeholder:"Email",name:"emailAddress","onUpdate:modelValue":h[4]||(h[4]=p=>n.value.emailAddress=p)},null,512),[[We,n.value.emailAddress]]),h[15]||(h[15]=d("p",{class:"validator-hint hidden"},"Invalid Email",-1))]),d("div",XT,[Ue(d("input",{type:"tel",class:"input validator tabular-nums w-full bg-gray-100",required:"",placeholder:"Phone Number",minlength:"11",maxlength:"11",pattern:"[0-9]*",title:"Must be 11 digits","onUpdate:modelValue":h[5]||(h[5]=p=>n.value.phoneNumber=p)},null,512),[[We,n.value.phoneNumber]]),h[16]||(h[16]=d("p",{class:"hidden validator-hint"},"Must be 11 digits",-1))]),d("div",QT,[Ue(d("input",{type:l.value?"text":"password",class:"input validator w-full pr-10 bg-gray-100",required:"",placeholder:"Password","onUpdate:modelValue":h[6]||(h[6]=p=>n.value.password=p),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least 8 characters, including a number, a lowercase and an uppercase letter"},null,8,eP),[[Vu,n.value.password]]),d("button",{type:"button",class:"absolute right-2 top-1/3 -translate-y-1/2 text-gray-500","aria-label":"Toggle confirm password visibility",onClick:h[7]||(h[7]=p=>l.value=!l.value)},[l.value?(M(),B("span",tP,h[17]||(h[17]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.5799 11.9999C15.5799 13.9799 13.9799 15.5799 11.9999 15.5799C10.0199 15.5799 8.41992 13.9799 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C13.9799 8.41992 15.5799 10.0199 15.5799 11.9999Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d("path",{d:"M12.0001 20.27C15.5301 20.27 18.8201 18.19 21.1101 14.59C22.0101 13.18 22.0101 10.81 21.1101 9.39997C18.8201 5.79997 15.5301 3.71997 12.0001 3.71997C8.47009 3.71997 5.18009 5.79997 2.89009 9.39997C1.99009 10.81 1.99009 13.18 2.89009 14.59C5.18009 18.19 8.47009 20.27 12.0001 20.27Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(M(),B("span",nP,h[18]||(h[18]=[Ws('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-e0c3c7cc><path d="M14.5299 9.46992L9.46992 14.5299C8.81992 13.8799 8.41992 12.9899 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C12.9899 8.41992 13.8799 8.81992 14.5299 9.46992Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M17.8201 5.76998C16.0701 4.44998 14.0701 3.72998 12.0001 3.72998C8.47009 3.72998 5.18009 5.80998 2.89009 9.40998C1.99009 10.82 1.99009 13.19 2.89009 14.6C3.68009 15.84 4.60009 16.91 5.60009 17.77" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M8.41992 19.5299C9.55992 20.0099 10.7699 20.2699 11.9999 20.2699C15.5299 20.2699 18.8199 18.1899 21.1099 14.5899C22.0099 13.1799 22.0099 10.8099 21.1099 9.39993C20.7799 8.87993 20.4199 8.38993 20.0499 7.92993" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M15.5099 12.7C15.2499 14.11 14.0999 15.26 12.6899 15.52" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M9.47 14.53L2 22" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M22 2L14.53 9.47" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path></svg>',1)])))]),h[19]||(h[19]=d("p",{class:"validator-hint text-gray-500 text-sm mt-1"},[d("i",null," *Must be at least 8 characters, and include a number, a lowercase letter, and an uppercase letter. ")],-1))]),d("div",sP,[d("div",iP,[Ue(d("input",{type:c.value?"text":"password",class:"input w-full pr-10 focus:outline-none focus:border-transparent bg-gray-100",required:"",placeholder:"Confirm Password",minlength:"8","onUpdate:modelValue":h[8]||(h[8]=p=>n.value.confirmPassword=p)},null,8,rP),[[Vu,n.value.confirmPassword]]),d("button",{type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",onClick:h[9]||(h[9]=p=>c.value=!c.value),"aria-label":"Toggle confirm password visibility"},[c.value?(M(),B("span",oP,h[20]||(h[20]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.5799 11.9999C15.5799 13.9799 13.9799 15.5799 11.9999 15.5799C10.0199 15.5799 8.41992 13.9799 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C13.9799 8.41992 15.5799 10.0199 15.5799 11.9999Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d("path",{d:"M12.0001 20.27C15.5301 20.27 18.8201 18.19 21.1101 14.59C22.0101 13.18 22.0101 10.81 21.1101 9.39997C18.8201 5.79997 15.5301 3.71997 12.0001 3.71997C8.47009 3.71997 5.18009 5.79997 2.89009 9.39997C1.99009 10.81 1.99009 13.18 2.89009 14.59C5.18009 18.19 8.47009 20.27 12.0001 20.27Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(M(),B("span",aP,h[21]||(h[21]=[Ws('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-e0c3c7cc><path d="M14.5299 9.46992L9.46992 14.5299C8.81992 13.8799 8.41992 12.9899 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C12.9899 8.41992 13.8799 8.81992 14.5299 9.46992Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M17.8201 5.76998C16.0701 4.44998 14.0701 3.72998 12.0001 3.72998C8.47009 3.72998 5.18009 5.80998 2.89009 9.40998C1.99009 10.82 1.99009 13.19 2.89009 14.6C3.68009 15.84 4.60009 16.91 5.60009 17.77" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M8.41992 19.5299C9.55992 20.0099 10.7699 20.2699 11.9999 20.2699C15.5299 20.2699 18.8199 18.1899 21.1099 14.5899C22.0099 13.1799 22.0099 10.8099 21.1099 9.39993C20.7799 8.87993 20.4199 8.38993 20.0499 7.92993" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M15.5099 12.7C15.2499 14.11 14.0999 15.26 12.6899 15.52" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M9.47 14.53L2 22" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path><path d="M22 2L14.53 9.47" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-e0c3c7cc></path></svg>',1)])))])]),n.value.confirmPassword&&n.value.password!==n.value.confirmPassword?(M(),B("p",lP," Passwords do not match. ")):Ce("",!0)]),d("div",null,[d("label",cP,[Ue(d("input",{type:"checkbox",class:"checkbox validator",required:"","onUpdate:modelValue":h[10]||(h[10]=p=>s.value=p)},null,512),[[Uu,s.value]]),d("span",null,[d("a",{href:"#",class:"text-blue-500 underline",onClick:h[11]||(h[11]=vt(p=>i.value=!0,["prevent"]))}," Accept all terms and conditions. ")])]),i.value?(M(),B("div",uP,[d("div",dP,[h[22]||(h[22]=d("h2",{class:"text-lg font-bold mb-4"},"Terms and Conditions",-1)),h[23]||(h[23]=d("p",{class:"text-sm mb-4"}," By using this system and submitting your personal information, you acknowledge and agree that: ",-1)),h[24]||(h[24]=d("p",{class:"text-sm mb-4"},[Re(" You voluntarily consent to the collection, processing, and storage of your personal data by the system. Your personal data will be handled in accordance with the Data Privacy Act of 2012 (Republic Act No. 10173), ensuring its confidentiality, integrity, and security. Your personal data will be used solely for legitimate purposes related to the services provided by this system. You have the right to access, correct, or request deletion of your personal data as provided under the law. "),d("br"),d("br"),Re(" By checking the box and proceeding, you indicate your understanding and acceptance of these terms. ")],-1)),d("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:h[12]||(h[12]=p=>i.value=!1)},"  ")])])):Ce("",!0)]),h[25]||(h[25]=d("div",{class:"card-actions justify-end pt-4"},[d("button",{class:"btn w-2/4 bg-customButton hover:bg-dark-slate text-white"}," Register ")],-1))],32)]),r.value?(M(),B("div",hP,[d("div",{class:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full text-center relative"},[h[26]||(h[26]=d("h2",{class:"text-lg font-bold text-green-600 mb-4"}," Registration Successful  ",-1)),h[27]||(h[27]=d("p",{class:"text-sm mb-6"},[Re(" Your organization account has been created successfully."),d("br"),Re(" Click OK to go to the login page. ")],-1)),d("button",{class:"btn btn-primary w-3/4 bg-dark-slate text-white",onClick:a}," OK ")])])):Ce("",!0)]))}},pP=Pi(fP,[["__scopeId","data-v-e0c3c7cc"]]),ag=F0("regStore",()=>{const t=es({}),e=le(new Set),n=le({});function s(p,f){n.value={...n.value,[p]:f}}const i=le([]),r=es({});async function o(){const p=localStorage.getItem("token");if(!p)return;const f=await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${p}`}});e.value.clear(),Object.keys(t).forEach(m=>delete t[m]),f.data.forEach(m=>{e.value.add(m.trainingID),t[m.trainingID]={registrationID:m.registrationID}}),localStorage.setItem("registeredPosts",JSON.stringify(t))}async function a(p){const f=typeof p=="object"?p.trainingID??p.TrainingID??p.id??p.ID:p;if(!f)return console.error("Invalid training ID:",p);const m=localStorage.getItem("token");if(!m)return alert("Please log in first");s(f,!0);try{if(e.value.has(f))await Le.delete(`https://pathfinder-development-production.up.railway.app/api/registrations/${f}`,{headers:{Authorization:`Bearer ${m}`}}),e.value.delete(f),delete t[f];else{const b=await Le.post("https://pathfinder-development-production.up.railway.app/api/registrations",{trainingID:f},{headers:{Authorization:`Bearer ${m}`}});e.value.add(f),t[f]={registrationID:b.data.data.registrationID}}localStorage.setItem("registeredPosts",JSON.stringify(t))}catch(b){throw console.error("Failed to toggle registration:",b),b}finally{s(f,!1)}}async function l(p){try{const f=localStorage.getItem("token"),m=await Le.get(`https://pathfinder-development-production.up.railway.app/api/trainings/${p}`,{headers:{Authorization:`Bearer ${f}`}});m.data.attendance_link&&(t[p]||(t[p]={}),t[p].attendance_link=m.data.attendance_link,t[p].attendance_key=m.data.attendance_key)}catch(f){console.error("Failed to fetch QR:",f)}}async function c(){const p=localStorage.getItem("token");if(p)try{const{data:f}=await Le.get("https://pathfinder-development-production.up.railway.app/api/bookmarks",{headers:{Authorization:`Bearer ${p}`}});i.value=f}catch(f){console.error("Failed to fetch bookmarks:",f)}}async function u(p){const f=localStorage.getItem("token");if(!f)return{error:"NO_TOKEN"};r[p]=!0;try{return i.value.includes(p)?await Le.delete(`https://pathfinder-development-production.up.railway.app/api/bookmarks/${p}`,{headers:{Authorization:`Bearer ${f}`}}):await Le.post("https://pathfinder-development-production.up.railway.app/api/bookmarks",{trainingID:p},{headers:{Authorization:`Bearer ${f}`}}),await c(),{success:!0}}catch(m){return console.error("Failed to toggle bookmark:",m),{error:!0}}finally{r[p]=!1}}function h(p){return i.value.includes(p)}return{registeredPosts:t,myRegistrations:e,loading:n,fetchMyRegistrations:o,toggleRegister:a,fetchTrainingQRCode:l,bookmarkedTrainings:i,bookmarkLoading:r,fetchBookmarks:c,toggleBookmark:u,isTrainingBookmarked:h}}),gP={class:"font-poppins min-h-screen flex items-center justify-center p-4"},mP={class:"relative w-full max-w-md"},vP={class:"card bg-base-200 border-base-300 rounded-box border p-6 shadow-lg transition duration-300"},bP={class:"form-control mb-2"},yP={key:0,class:"validator-hint"},wP={class:"form-control relative mb-4"},_P=["type"],xP={key:0},CP={key:1},kP={key:0,class:"text-center mt-4 text-red-600 font-medium"},SP={class:"text-center mt-4"},AP={class:"text-sm text-gray-600"},LP={key:1,class:"toast toast-end toast-top z-50"},EP={class:"alert alert-error text-white"},TP={__name:"LoginForm",setup(t){const e=ag(),n=js(),s=le(!1),i=le(""),r=le(""),o=le(!1),a=le(!1),l=le(""),c=le(""),u=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),h=m=>/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/.test(m),p=m=>{l.value=m,setTimeout(()=>{l.value=""},3e3)},f=async()=>{if(o.value=!u(i.value),a.value=!h(r.value),c.value="",!(o.value||a.value))try{const m=await Le.post("https://pathfinder-development-production.up.railway.app/api/login",{emailAddress:i.value,password:r.value}),b=m.data.user||m.data.organization,y=m.data.token,w=b.role||(b.adminID?"organization":"applicant");if(w==="organization"&&b.status==="pending"){p("Your organization account is not yet approved by the admin.");return}if(w==="organization"&&b.status==="rejected"){const k=m.data.reason;p(`Your registration was rejected. Reason: ${k}`);return}let C="";w==="organization"?C=b.organizationName||b.name||"Organization":w==="admin"?C=b.name||"Admin":C=`${b.firstName} ${b.lastName}`,localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify({...b,role:w,displayName:C})),await e.fetchMyRegistrations(),w==="organization"?n.push("/organization"):w==="admin"?n.push("/admin"):n.push("/app")}catch(m){if(console.error("FULL ERROR RESPONSE:",m),m.response?.status===403){let b=m.response.data;console.log("FULL RESPONSE DATA:",b);const y=b&&typeof b=="object"?b.reason:void 0;console.log("REJECTION REASON:",y);const w=y?`Your registration was rejected. Reason: ${y}`:b.message||"Your registration is not approved.";p(w);return}p("Invalid credentials. Please try again.")}};return(m,b)=>{const y=to("router-link");return M(),B("div",gP,[d("div",mP,[d("div",vP,[b[8]||(b[8]=d("h2",{class:"text-2xl font-semibold text-center mb-4 text-dark-slate"}," Login ",-1)),d("form",{onSubmit:vt(f,["prevent"])},[d("div",bP,[Ue(d("input",{"onUpdate:modelValue":b[0]||(b[0]=w=>i.value=w),class:"input validator w-full",type:"email",required:"",placeholder:"Email"},null,512),[[We,i.value]]),o.value?(M(),B("p",yP,"Invalid Email")):Ce("",!0)]),d("div",wP,[Ue(d("input",{type:s.value?"text":"password",class:"w-full border rounded-lg input",required:"",placeholder:"Password","onUpdate:modelValue":b[1]||(b[1]=w=>r.value=w),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least 8 characters, including a number, a lowercase and an uppercase letter"},null,8,_P),[[Vu,r.value]]),d("button",{type:"button",class:"absolute right-3 top-3 text-gray-500","aria-label":"Toggle confirm password visibility",onClick:b[2]||(b[2]=w=>s.value=!s.value)},[s.value?(M(),B("span",xP,b[3]||(b[3]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.5799 11.9999C15.5799 13.9799 13.9799 15.5799 11.9999 15.5799C10.0199 15.5799 8.41992 13.9799 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C13.9799 8.41992 15.5799 10.0199 15.5799 11.9999Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d("path",{d:"M12.0001 20.27C15.5301 20.27 18.8201 18.19 21.1101 14.59C22.0101 13.18 22.0101 10.81 21.1101 9.39997C18.8201 5.79997 15.5301 3.71997 12.0001 3.71997C8.47009 3.71997 5.18009 5.79997 2.89009 9.39997C1.99009 10.81 1.99009 13.18 2.89009 14.59C5.18009 18.19 8.47009 20.27 12.0001 20.27Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(M(),B("span",CP,b[4]||(b[4]=[Ws('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.5299 9.46992L9.46992 14.5299C8.81992 13.8799 8.41992 12.9899 8.41992 11.9999C8.41992 10.0199 10.0199 8.41992 11.9999 8.41992C12.9899 8.41992 13.8799 8.81992 14.5299 9.46992Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.8201 5.76998C16.0701 4.44998 14.0701 3.72998 12.0001 3.72998C8.47009 3.72998 5.18009 5.80998 2.89009 9.40998C1.99009 10.82 1.99009 13.19 2.89009 14.6C3.68009 15.84 4.60009 16.91 5.60009 17.77" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.41992 19.5299C9.55992 20.0099 10.7699 20.2699 11.9999 20.2699C15.5299 20.2699 18.8199 18.1899 21.1099 14.5899C22.0099 13.1799 22.0099 10.8099 21.1099 9.39993C20.7799 8.87993 20.4199 8.38993 20.0499 7.92993" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15.5099 12.7C15.2499 14.11 14.0999 15.26 12.6899 15.52" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.47 14.53L2 22" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 2L14.53 9.47" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',1)])))])]),b[5]||(b[5]=d("div",{class:"card-actions justify-center"},[d("button",{type:"submit",class:"btn btn-primary w-3/4 bg-dark-slate text-white"}," Log in ")],-1))],32),c.value?(M(),B("p",kP,Z(c.value),1)):Ce("",!0),d("div",SP,[d("p",AP,[b[7]||(b[7]=Re(" Don't have an account? ")),wt(y,{to:"/typeofaccount",class:"text-primary"},{default:Wn(()=>b[6]||(b[6]=[Re(" Register here. ")])),_:1,__:[6]})])]),l.value?(M(),B("div",LP,[d("div",EP,[d("span",null,Z(l.value),1)])])):Ce("",!0)])])])}}},U6=F0("trainingStore",{state:()=>({trainings:[],qrCodes:{},activeTrainingId:null,qrExpireTimeouts:{}}),actions:{async fetchTrainings(){try{const t=await Le.get("https://pathfinder-development-production.up.railway.app/api/trainings");this.trainings=t.data,this.autoGenerateQRs()}catch(t){console.error("Error fetching trainings:",t)}},async generateQR(t){try{const e=localStorage.getItem("token"),n=e?{Authorization:`Bearer ${e}`}:{},s=await Le.post("https://pathfinder-development-production.up.railway.app/api/trainings/generate-qr",{trainingID:t.trainingID},{headers:n});this.qrCodes={...this.qrCodes,[t.trainingID]:{value:`https://pathfinder-development-production.up.railway.app/attendance/checkin?trainingID=${t.trainingID}&key=${s.data.key}`,expires_at:new Date(s.data.expires_at)}}}catch(e){console.error("QR GENERATION FAILED:",e.response?.data||e)}},autoGenerateQRs(){this.trainings.forEach(t=>{const e=new Date(t.schedule),n=new Date(t.end_time),s=new Date;s>=e&&s<n&&(!this.qrCodes[t.trainingID]||new Date(this.qrCodes[t.trainingID].expires_at)<s)&&this.generateQR(t)})},startPolling(){this.fetchTrainings(),setInterval(()=>this.fetchTrainings(),3e4)}}}),PP={key:0,open:"",class:"modal sm:modal-middle"},NP={class:"modal-box max-w-3xl relative font-poppins"},IP={class:"text-xl font-bold"},OP={class:"text-sm text-gray-600 mb-2"},DP={class:"my-4 flex justify-end gap-2"},MP=["disabled"],RP={key:0,class:"animate-spin h-4 w-4 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},$P={key:1},jP=["disabled"],BP={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},FP={key:1},UP={key:0},zP=["href"],VP={key:1},HP={class:"mb-4"},qP={key:0},WP={key:2,class:"mt-4 text-center"},GP={key:0,class:"flex flex-col items-center"},KP={class:"text-sm text-gray-600 mt-1"},YP={key:1},ZP={__name:"trainingmodal",props:{isOpen:Boolean,training:Object,isRegistered:Boolean,isBookmarked:Boolean,bookmarkLoading:Boolean,registerLoading:Boolean},emits:["close","toggle-register","bookmark"],setup(t,{emit:e}){const n=U6(),s=le(""),i=t;function r(h){if(!h)return!1;const p=new Date,f=new Date(h);return p>=f}const o=le(""),a=le(!1);let l=null;mr(()=>i.training,async h=>{if(!h||!h.end_time){o.value="",a.value=!0,s.value="";return}const p=new Date(h.end_time);clearInterval(l);const f=async()=>{const b=p-new Date;if(b<=0)o.value="00:00",a.value=!0,s.value="",clearInterval(l);else{const y=Math.floor(b/6e4).toString().padStart(2,"0"),w=Math.floor(b%6e4/1e3).toString().padStart(2,"0");if(o.value=`${y}:${w}`,a.value=!1,i.isRegistered&&!s.value&&r(h.schedule)){await n.generateQR(h);const C=n.qrCodes[h.trainingID];s.value=C?.value||""}}};f(),l=setInterval(f,1e3)},{immediate:!0}),tl(()=>clearInterval(l));function c(h){return h?new Date(h).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"N/A"}function u(h){return h?new Date(h).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A"}return(h,p)=>t.isOpen?(M(),B("dialog",PP,[d("div",NP,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:p[0]||(p[0]=f=>h.$emit("close"))},"  "),t.training?(M(),B(Ye,{key:0},[d("h2",IP,Z(t.training.title||"Untitled Training"),1),d("p",OP," Organization: "+Z(t.training.organization?.name||t.training.organizationName||"Unknown"),1),d("div",DP,[d("button",{class:"btn btn-outline btn-sm flex items-center justify-center space-x-2",onClick:p[1]||(p[1]=f=>h.$emit("bookmark",t.training.trainingID)),disabled:t.bookmarkLoading},[t.bookmarkLoading?(M(),B("svg",RP,p[3]||(p[3]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4l-3 3 3 3h-4z"},null,-1)]))):(M(),B("span",$P,Z(t.isBookmarked?"Bookmarked":"Bookmark"),1))],8,MP),d("button",{class:ft(["btn btn-sm flex items-center justify-center space-x-2 text-white",t.isRegistered?"bg-gray-500":"bg-customButton"]),onClick:p[2]||(p[2]=f=>h.$emit("toggle-register",t.training)),disabled:t.registerLoading},[t.registerLoading?(M(),B("svg",BP,p[4]||(p[4]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4l-3 3 3 3h-4z"},null,-1)]))):(M(),B("span",FP,Z(t.isRegistered?"Unregister":"Register"),1))],10,jP)]),d("p",null,[p[5]||(p[5]=d("strong",null,"Mode:",-1)),Re(" "+Z(t.training.mode||t.training.Mode),1)]),d("p",null,[p[6]||(p[6]=d("strong",null,"Description:",-1)),Re(" "+Z(t.training.description),1)]),t.training.mode?.toLowerCase()==="online"?(M(),B("p",UP,[p[7]||(p[7]=d("strong",null,"Link:",-1)),d("a",{href:t.training.trainingLink,target:"_blank",class:"text-blue-500 underline"},Z(t.training.trainingLink),9,zP)])):(M(),B("p",VP,[p[8]||(p[8]=d("strong",null,"Location:",-1)),Re(" "+Z(t.training.location),1)])),d("p",HP,[p[9]||(p[9]=d("strong",null,"Schedule:",-1)),Re(" "+Z(c(t.training.schedule))+" ",1),t.training.schedule?(M(),B("span",qP,"at "+Z(u(t.training.schedule)),1)):Ce("",!0)]),t.isRegistered?(M(),B("div",WP,[s.value&&!a.value?(M(),B("div",GP,[wt(ll,{value:s.value,size:120},null,8,["value"]),d("p",KP,"Expires in: "+Z(o.value),1)])):(M(),B("div",YP,p[10]||(p[10]=[d("p",{class:"text-sm text-gray-500"},"QR code not yet generated or expired.",-1)])))])):Ce("",!0)],64)):Ce("",!0)])])):Ce("",!0)}},JP={class:"font-poppins"},XP={class:"bg-white m-3 p-4 rounded-lg"},QP={class:"space-y-4"},eN=["onClick"],tN={class:"font-semibold"},nN={class:"text-gray-700"},sN={key:0},iN={key:0},rN={key:1},oN={class:"toast toast-end toast-top z-50"},aN={__name:"Trainingpage",setup(t){const e=U6(),n=ag(),s=Xt(()=>n.myRegistrations),i=es({});es({}),It(()=>{n.fetchMyRegistrations().then(()=>{})});const r=le([]);le(!1),es({}),le(null);const o=le(null);le(!1);const a=le([]);le(null);const l=le([]),c=Xt(()=>e.trainings.map(I=>{const z=r.value.find(H=>H.organizationID===I.organizationID);return{...I,organizationName:z?z.name:"Unknown"}}));async function u(I){o.value=I,S.value=!0,s.value.has(I.trainingID)&&y(I.schedule)&&await e.generateQR(I)}async function h(I){const z=localStorage.getItem("token");if(!z){f("PLEASE LOG IN FIRST","accent");return}i[I]=!0;try{p(I)?(await Le.delete(`https://pathfinder-development-production.up.railway.app/api/bookmarks/${I}`,{headers:{Authorization:`Bearer ${z}`}}),f("Bookmark removed","info")):(await Le.post("https://pathfinder-development-production.up.railway.app/api/bookmarks",{trainingID:I},{headers:{Authorization:`Bearer ${z}`}}),f("Bookmarked!","success")),await m()}catch(H){console.error("Failed to toggle bookmark:",H),f("Failed to toggle bookmark","error")}finally{i[I]=!1}}function p(I){return l.value.includes(I)}function f(I,z="info"){const H=Date.now();a.value.push({id:H,message:I,type:z}),setTimeout(()=>{a.value=a.value.filter(U=>U.id!==H)},3e3)}async function m(){const I=localStorage.getItem("token");if(!I)return;const{data:z}=await Le.get("https://pathfinder-development-production.up.railway.app/api/bookmarks",{headers:{Authorization:`Bearer ${I}`}});l.value=z}async function b(){try{const I=localStorage.getItem("token"),z=await Le.get("https://pathfinder-development-production.up.railway.app/api/organization",{headers:{Authorization:`Bearer ${I}`}});r.value=z.data}catch{}}function y(I){if(!I)return!1;const z=new Date,H=new Date(I);return z>=H}async function w(I){await n.toggleRegister(I.trainingID)}Xt(()=>e.trainings),It(async()=>{await e.fetchTrainings(),await b(),await n.fetchBookmarks(),await n.fetchMyRegistrations(),e.autoGenerateQRs()});const C=le(!1);function k(I){console.log("Event clicked:",I)}const S=le(!1);return(I,z)=>(M(),B("main",JP,[d("div",XP,[z[4]||(z[4]=d("div",{class:"sticky top-0 z-10 bg-white pt-4 px-4 pb-2 border-b shadow-sm"},[d("h2",{class:"text-2xl font-bold mb-3 sticky top-0 bg-white z-10"}," Training ")],-1)),d("div",QP,[(M(!0),B(Ye,null,ct(c.value,H=>(M(),B("div",{key:H.trainingID,class:"p-4 bg-blue-gray rounded-lg hover:bg-gray-300 transition cursor-pointer flex justify-between items-center",onClick:U=>u(H)},[d("div",null,[d("h3",tN,Z(H.title),1),d("p",nN,Z(H.organization.name),1)]),s.value.has(H.trainingID)?(M(),B("div",sN,[qt(e).qrCodes[H.trainingID]?.value&&new Date(H.end_time)>new Date?(M(),B("div",iN,[wt(ll,{value:qt(e).qrCodes[H.trainingID].value,size:80},null,8,["value"])])):(M(),B("div",rN,z[3]||(z[3]=[d("p",{class:"text-sm text-gray-500 text-center"}," QR code not yet generated or expired. ",-1)])))])):Ce("",!0)],8,eN))),128))])]),wt(og,{isOpen:C.value,onOpen:z[0]||(z[0]=H=>C.value=!0),onClose:z[1]||(z[1]=H=>C.value=!1),onEventClick:k},null,8,["isOpen"]),wt(ZP,{isOpen:S.value,training:o.value,isRegistered:s.value.has(o.value?.trainingID),isBookmarked:l.value.includes(o.value?.trainingID),bookmarkLoading:i[o.value?.trainingID],registerLoading:qt(n).loading[o.value?.trainingID],onClose:z[2]||(z[2]=H=>S.value=!1),onToggleRegister:w,onBookmark:h},null,8,["isOpen","training","isRegistered","isBookmarked","bookmarkLoading","registerLoading"]),d("div",oN,[(M(!0),B(Ye,null,ct(a.value,H=>(M(),B("div",{key:H.id,class:ft(["alert",{"alert-info":H.type==="info","alert-success":H.type==="success","alert-accent":H.type==="accent"}])},Z(H.message),3))),128))])]))}},lN="modulepreload",cN=function(t){return"/"+t},Jm={},wp=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(n.map(c=>{if(c=cN(c),c in Jm)return;Jm[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":lN,u||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((f,m)=>{p.addEventListener("load",f),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};var U2=function(t,e){return U2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},U2(t,e)};function z6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");U2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var v1=function(){return v1=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v1.apply(this,arguments)};function yc(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function V6(t,e,n,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}function H6(t,e){return function(n,s){e(n,s,t)}}function q6(t,e,n,s,i,r){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,p=!1,f=n.length-1;f>=0;f--){var m={};for(var b in s)m[b]=b==="access"?{}:s[b];for(var b in s.access)m.access[b]=s.access[b];m.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(w||null))};var y=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(u.get=h),(h=o(y.set))&&(u.set=h),(h=o(y.init))&&i.unshift(h)}else(h=o(y))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),p=!0}function W6(t,e,n){for(var s=arguments.length>2,i=0;i<e.length;i++)n=s?e[i].call(t,n):e[i].call(t);return s?n:void 0}function G6(t){return typeof t=="symbol"?t:"".concat(t)}function K6(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Y6(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function at(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}function Z6(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var sf=Object.create?function(t,e,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,s,i)}:function(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]};function J6(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&sf(e,t,n)}function b1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),i,r=[],o;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}function X6(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lg(arguments[e]));return t}function Q6(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var r=arguments[e],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function ey(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}function lc(t){return this instanceof lc?(this.v=t,this):new lc(t)}function ty(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(m){return Promise.resolve(m).then(f,h)}}function a(f,m){s[f]&&(i[f]=function(b){return new Promise(function(y,w){r.push([f,b,y,w])>1||l(f,b)})},m&&(i[f]=m(i[f])))}function l(f,m){try{c(s[f](m))}catch(b){p(r[0][3],b)}}function c(f){f.value instanceof lc?Promise.resolve(f.value.v).then(u,h):p(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function p(f,m){f(m),r.shift(),r.length&&l(r[0][0],r[0][1])}}function ny(t){var e,n;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,r){e[i]=t[i]?function(o){return(n=!n)?{value:lc(t[i](o)),done:!1}:r?r(o):o}:r}}function sy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof b1=="function"?b1(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(r){n[r]=t[r]&&function(o){return new Promise(function(a,l){o=t[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function iy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var uN=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},z2=function(t){return z2=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},z2(t)};function ry(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=z2(t),s=0;s<n.length;s++)n[s]!=="default"&&sf(e,t,n[s]);return uN(e,t),e}function oy(t){return t&&t.__esModule?t:{default:t}}function ay(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function ly(t,e,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function cy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function uy(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),t.stack.push({value:e,dispose:s,async:n})}else n&&t.stack.push({async:!0});return e}var dN=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function dy(t){function e(r){t.error=t.hasError?new dN(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,s=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&s===1)return s=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(r).then(i,function(o){return e(o),i()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function hy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,r,o){return s?e?".jsx":".js":i&&(!r||!o)?n:i+r+"."+o.toLowerCase()+"js"}):t}const hN={__extends:z6,__assign:v1,__rest:yc,__decorate:V6,__param:H6,__esDecorate:q6,__runInitializers:W6,__propKey:G6,__setFunctionName:K6,__metadata:Y6,__awaiter:at,__generator:Z6,__createBinding:sf,__exportStar:J6,__values:b1,__read:lg,__spread:X6,__spreadArrays:Q6,__spreadArray:ey,__await:lc,__asyncGenerator:ty,__asyncDelegator:ny,__asyncValues:sy,__makeTemplateObject:iy,__importStar:ry,__importDefault:oy,__classPrivateFieldGet:ay,__classPrivateFieldSet:ly,__classPrivateFieldIn:cy,__addDisposableResource:uy,__disposeResources:dy,__rewriteRelativeImportExtension:hy},fN=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:uy,get __assign(){return v1},__asyncDelegator:ny,__asyncGenerator:ty,__asyncValues:sy,__await:lc,__awaiter:at,__classPrivateFieldGet:ay,__classPrivateFieldIn:cy,__classPrivateFieldSet:ly,__createBinding:sf,__decorate:V6,__disposeResources:dy,__esDecorate:q6,__exportStar:J6,__extends:z6,__generator:Z6,__importDefault:oy,__importStar:ry,__makeTemplateObject:iy,__metadata:Y6,__param:H6,__propKey:G6,__read:lg,__rest:yc,__rewriteRelativeImportExtension:hy,__runInitializers:W6,__setFunctionName:K6,__spread:X6,__spreadArray:ey,__spreadArrays:Q6,__values:b1,default:hN},Symbol.toStringTag,{value:"Module"})),pN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class cg extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class gN extends cg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xm extends cg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qm extends cg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var V2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(V2||(V2={}));class mN{constructor(e,{headers:n={},customFetch:s,region:i=V2.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=pN(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return at(this,arguments,void 0,function*(n,s={}){var i;let r,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=s;let p={},{region:f}=s;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(p["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let b;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(p["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(p["Content-Type"]="application/json",b=JSON.stringify(c)):b=c;let y=u;h&&(o=new AbortController,r=setTimeout(()=>o.abort(),h),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const w=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:b,signal:y}).catch(I=>{throw new gN(I)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new Xm(w);if(!w.ok)throw new Qm(w);let k=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield w.json():k==="application/octet-stream"||k==="application/pdf"?S=yield w.blob():k==="text/event-stream"?S=w:k==="multipart/form-data"?S=yield w.formData():S=yield w.text(),{data:S,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Qm||a instanceof Xm?a.context:void 0}}finally{r&&clearTimeout(r)}})}}var Zee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var ws={};const wc=bN(fN);var uh={},dh={},hh={},fh={},ph={},gh={},e3;function fy(){if(e3)return gh;e3=1,Object.defineProperty(gh,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return gh.default=t,gh}var t3;function py(){if(t3)return ph;t3=1,Object.defineProperty(ph,"__esModule",{value:!0});const e=wc.__importDefault(fy());class n{constructor(i){var r,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,p;let f=null,m=null,b=null,y=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const I=await l.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=I:m=JSON.parse(I))}const k=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");k&&S&&S.length>1&&(b=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,b=null,y=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const k=await l.text();try{f=JSON.parse(k),Array.isArray(f)&&l.status===404&&(m=[],f=null,y=200,w="OK")}catch{l.status===404&&k===""?(y=204,w="No Content"):f={message:k}}if(f&&this.isMaybeSingle&&(!((p=f?.details)===null||p===void 0)&&p.includes("0 rows"))&&(f=null,y=200,w="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:m,count:b,status:y,statusText:w}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,h,p,f,m;let b="";const y=l?.cause;if(y){const w=(c=y?.message)!==null&&c!==void 0?c:"",C=(u=y?.code)!==null&&u!==void 0?u:"";b=`${(h=l?.name)!==null&&h!==void 0?h:"FetchError"}: ${l?.message}`,b+=`

Caused by: ${(p=y?.name)!==null&&p!==void 0?p:"Error"}: ${w}`,C&&(b+=` (${C})`),y?.stack&&(b+=`
${y.stack}`)}else b=(f=l?.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(m=l?.name)!==null&&m!==void 0?m:"FetchError"}: ${l?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,r)}returns(){return this}overrideTypes(){return this}}return ph.default=n,ph}var n3;function gy(){if(n3)return fh;n3=1,Object.defineProperty(fh,"__esModule",{value:!0});const e=wc.__importDefault(py());class n extends e.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return fh.default=n,fh}var s3;function ug(){if(s3)return hh;s3=1,Object.defineProperty(hh,"__esModule",{value:!0});const e=wc.__importDefault(gy()),n=new RegExp("[,()]");class s extends e.default{eq(r,o){return this.url.searchParams.append(r,`eq.${o}`),this}neq(r,o){return this.url.searchParams.append(r,`neq.${o}`),this}gt(r,o){return this.url.searchParams.append(r,`gt.${o}`),this}gte(r,o){return this.url.searchParams.append(r,`gte.${o}`),this}lt(r,o){return this.url.searchParams.append(r,`lt.${o}`),this}lte(r,o){return this.url.searchParams.append(r,`lte.${o}`),this}like(r,o){return this.url.searchParams.append(r,`like.${o}`),this}likeAllOf(r,o){return this.url.searchParams.append(r,`like(all).{${o.join(",")}}`),this}likeAnyOf(r,o){return this.url.searchParams.append(r,`like(any).{${o.join(",")}}`),this}ilike(r,o){return this.url.searchParams.append(r,`ilike.${o}`),this}ilikeAllOf(r,o){return this.url.searchParams.append(r,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(r,o){return this.url.searchParams.append(r,`ilike(any).{${o.join(",")}}`),this}is(r,o){return this.url.searchParams.append(r,`is.${o}`),this}in(r,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}contains(r,o){return typeof o=="string"?this.url.searchParams.append(r,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(r,`cs.{${o.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(o)}`),this}containedBy(r,o){return typeof o=="string"?this.url.searchParams.append(r,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(r,`cd.{${o.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(o)}`),this}rangeGt(r,o){return this.url.searchParams.append(r,`sr.${o}`),this}rangeGte(r,o){return this.url.searchParams.append(r,`nxl.${o}`),this}rangeLt(r,o){return this.url.searchParams.append(r,`sl.${o}`),this}rangeLte(r,o){return this.url.searchParams.append(r,`nxr.${o}`),this}rangeAdjacent(r,o){return this.url.searchParams.append(r,`adj.${o}`),this}overlaps(r,o){return typeof o=="string"?this.url.searchParams.append(r,`ov.${o}`):this.url.searchParams.append(r,`ov.{${o.join(",")}}`),this}textSearch(r,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${c}fts${u}.${o}`),this}match(r){return Object.entries(r).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(r,o,a){return this.url.searchParams.append(r,`not.${o}.${a}`),this}or(r,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,o,a){return this.url.searchParams.append(r,`${o}.${a}`),this}}return hh.default=s,hh}var i3;function my(){if(i3)return dh;i3=1,Object.defineProperty(dh,"__esModule",{value:!0});const e=wc.__importDefault(ug());class n{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(h.length>0){const p=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return dh.default=n,dh}var r3;function yN(){if(r3)return uh;r3=1,Object.defineProperty(uh,"__esModule",{value:!0});const t=wc,e=t.__importDefault(my()),n=t.__importDefault(ug());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const p=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{p.searchParams.append(b,y)})):(h="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new n.default({method:h,url:p,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return uh.default=s,uh}var o3;function wN(){if(o3)return ws;o3=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.PostgrestError=ws.PostgrestBuilder=ws.PostgrestTransformBuilder=ws.PostgrestFilterBuilder=ws.PostgrestQueryBuilder=ws.PostgrestClient=void 0;const t=wc,e=t.__importDefault(yN());ws.PostgrestClient=e.default;const n=t.__importDefault(my());ws.PostgrestQueryBuilder=n.default;const s=t.__importDefault(ug());ws.PostgrestFilterBuilder=s.default;const i=t.__importDefault(gy());ws.PostgrestTransformBuilder=i.default;const r=t.__importDefault(py());ws.PostgrestBuilder=r.default;const o=t.__importDefault(fy());return ws.PostgrestError=o.default,ws.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},ws}var vy=wN();const by=vN(vy),_N=h7({__proto__:null,default:by},[vy]),{PostgrestClient:xN,PostgrestQueryBuilder:Jee,PostgrestFilterBuilder:Xee,PostgrestTransformBuilder:Qee,PostgrestBuilder:ete,PostgrestError:tte}=by||_N;class CN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kN="2.83.0",SN=`realtime-js/${kN}`,yy="1.0.0",AN="2.0.0",a3=yy,H2=1e4,LN=1e3,EN=100;var Fa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fa||(Fa={}));var Qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qn||(Qn={}));var xi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xi||(xi={}));var q2;(function(t){t.websocket="websocket"})(q2||(q2={}));var Ua;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ua||(Ua={}));class TN{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodePush(e){var n,s;const{event:i,topic:r,payload:o}=e,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=this.META_LENGTH+l.length+a.length+r.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),p=0;h.setUint8(p++,this.KINDS.push),h.setUint8(p++,l.length),h.setUint8(p++,a.length),h.setUint8(p++,r.length),h.setUint8(p++,i.length),Array.from(l,m=>h.setUint8(p++,m.charCodeAt(0))),Array.from(a,m=>h.setUint8(p++,m.charCodeAt(0))),Array.from(r,m=>h.setUint8(p++,m.charCodeAt(0))),Array.from(i,m=>h.setUint8(p++,m.charCodeAt(0)));var f=new Uint8Array(u.byteLength+o.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(o),u.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s,i,r;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(p),m=0;f.setUint8(m++,this.KINDS.userBroadcastPush),f.setUint8(m++,l.length),f.setUint8(m++,a.length),f.setUint8(m++,o.length),f.setUint8(m++,c.length),f.setUint8(m++,this.BINARY_ENCODING),Array.from(l,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>f.setUint8(m++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+u.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(u),p.byteLength),b.buffer}_encodeJsonUserBroadcastPush(e){var n,s,i,r;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(m),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,l.length),b.setUint8(y++,a.length),b.setUint8(y++,o.length),b.setUint8(y++,c.length),b.setUint8(y++,this.JSON_ENCODING),Array.from(l,C=>b.setUint8(y++,C.charCodeAt(0))),Array.from(a,C=>b.setUint8(y++,C.charCodeAt(0))),Array.from(o,C=>b.setUint8(y++,C.charCodeAt(0))),Array.from(c,C=>b.setUint8(y++,C.charCodeAt(0)));var w=new Uint8Array(m.byteLength+p.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(p),m.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[i,r,o,a,l]=s;return n({join_ref:i,ref:r,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),i=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,s){const i=n.getUint8(1),r=n.getUint8(2),o=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=s.decode(e.slice(a,a+i));a=a+i;const c=s.decode(e.slice(a,a+r));a=a+r;const u=s.decode(e.slice(a,a+o));a=a+o;const h=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:h}}_decodeReply(e,n,s){const i=n.getUint8(1),r=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=s.decode(e.slice(l,l+i));l=l+i;const u=s.decode(e.slice(l,l+r));l=l+r;const h=s.decode(e.slice(l,l+o));l=l+o;const p=s.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(s.decode(e.slice(l,e.byteLength))),m={status:p,response:f};return{join_ref:c,ref:u,topic:h,event:xi.reply,payload:m}}_decodeBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(e.slice(l,l+i));l=l+i;const u=s.decode(e.slice(l,l+r));l=l+r;const h=s.decode(e.slice(l,l+o));l=l+o;const p=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(p)):p,m={type:this.BROADCAST,event:u,payload:f};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:m}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class wy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(hn||(hn={}));const l3=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((r,o)=>(r[o]=PN(o,t,e,i),r),{}):{}},PN=(t,e,n,s)=>{const i=e.find(a=>a.name===t),r=i?.type,o=n[t];return r&&!s.includes(r)?_y(r,o):W2(o)},_y=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return DN(e,n)}switch(t){case hn.bool:return NN(e);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return IN(e);case hn.json:case hn.jsonb:return ON(e);case hn.timestamp:return MN(e);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return W2(e);default:return W2(e)}},W2=t=>t,NN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},IN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ON=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},DN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>_y(e,a))}return t},MN=t=>typeof t=="string"?t.replace(" ","T"):t,xy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _p{constructor(e,n,s={},i=H2){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var c3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(c3||(c3={}));class Lu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lu.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Lu.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lu.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const p=u.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),m=u.filter(y=>f.indexOf(y.presence_ref)<0),b=h.filter(y=>p.indexOf(y.presence_ref)<0);m.length>0&&(a[c]=m),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...p)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(u3||(u3={}));var Eu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Eu||(Eu={}));var Vr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vr||(Vr={}));class dg{constructor(e,n={config:{}},s){var i,r;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _p(this,xi.join,this.params,this.timeout),this.rejoinTimer=new wy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Lu(this),this.broadcastEndpointURL=xy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Qn.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Eu.PRESENCE]&&this.bindings[Eu.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Vr.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Vr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e?.(Vr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(m=b?.length)!==null&&m!==void 0?m:0,w=[];for(let C=0;C<y;C++){const k=b[C],{filter:{event:S,schema:I,table:z,filter:H}}=k,U=f&&f[C];if(U&&U.event===S&&U.schema===I&&U.table===z&&U.filter===H)w.push(Object.assign(Object.assign({},k),{id:U.id}));else{this.unsubscribe(),this.state=Qn.errored,e?.(Vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Vr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Qn.errored,e?.(Vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Qn.joined&&e===Eu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new _p(this,xi.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qn.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _p(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>EN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=xi;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let p=this._onMessage(o,n,s);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,b,y;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(b=f.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(p,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var m,b,y,w,C,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,I=(m=f.filter)===null||m===void 0?void 0:m.event;return S&&((b=n.ids)===null||b===void 0?void 0:b.includes(S))&&(I==="*"||I?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(C=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return S==="*"||S===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:b,table:y,commit_timestamp:w,type:C,errors:k}=m;p=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:w,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(m))}f.callback(p,s)})}_isClosed(){return this.state===Qn.closed}_isJoined(){return this.state===Qn.joined}_isJoining(){return this.state===Qn.joining}_isLeaving(){return this.state===Qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&dg.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xi.close,{},e)}_onError(e){this._on(xi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=l3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=l3(e.columns,e.old_record)),n}}const xp=()=>{},mh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RN=[1e3,2e3,5e3,1e4],$N=1e4,jN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BN{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H2,this.transport=null,this.heartbeatIntervalMs=mh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xp,this.ref=0,this.reconnectTimer=null,this.vsn=a3,this.logger=xp,this.conn=null,this.sendBuffer=[],this.serializer=new TN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${q2.websocket}`,this.httpEndpoint=xy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Fa.connecting:return Ua.Connecting;case Fa.open:return Ua.Open;case Fa.closing:return Ua.Closing;default:return Ua.Closed}}isConnected(){return this.connectionState()===Ua.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new dg(`realtime:${e}`,n,this);return this.channels.push(r),r}}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(LN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fa.open||this.conn.readyState===Fa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([jN],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:SN};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(xi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new wy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,r,o,a,l,c,u,h,p,f;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:H2,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:mh.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:xp,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:a3,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:m=>RN[m-1]||$N,this.vsn){case yy:this.encode=(u=e?.encode)!==null&&u!==void 0?u:(m,b)=>b(JSON.stringify(m)),this.decode=(h=e?.decode)!==null&&h!==void 0?h:(m,b)=>b(JSON.parse(m));break;case AN:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class hg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class FN extends hg{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class G2 extends hg{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const fg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UN=()=>Response,K2=t=>{if(Array.isArray(t))return t.map(n=>K2(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=K2(s)}),e},zN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VN=(t,e,n)=>at(void 0,void 0,void 0,function*(){const s=yield UN();t instanceof s&&!n?.noResolveJson?t.json().then(i=>{const r=t.status||500,o=i?.statusCode||r+"";e(new FN(Cp(i),r,o))}).catch(i=>{e(new G2(Cp(i),i))}):e(new G2(Cp(t),t))}),HN=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!s?i:(zN(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function bd(t,e,n,s,i,r){return at(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,HN(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>VN(l,a,s))})})}function Ku(t,e,n,s){return at(this,void 0,void 0,function*(){return bd(t,"GET",e,n,s)})}function Fi(t,e,n,s,i){return at(this,void 0,void 0,function*(){return bd(t,"POST",e,s,i,n)})}function Y2(t,e,n,s,i){return at(this,void 0,void 0,function*(){return bd(t,"PUT",e,s,i,n)})}function qN(t,e,n,s){return at(this,void 0,void 0,function*(){return bd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function pg(t,e,n,s,i){return at(this,void 0,void 0,function*(){return bd(t,"DELETE",e,s,i,n)})}class WN{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}})}}var Cy;class GN{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Cy]="BlobDownloadBuilder",this.promise=null}asStream(){return new WN(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}})}}Cy=Symbol.toStringTag;const KN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YN{constructor(e,n={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=fg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,i){return at(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},d3),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.has("cacheControl")||r.append("cacheControl",o.cacheControl),l&&!r.has("metadata")&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&r instanceof ReadableStream||r&&typeof r=="object"&&"pipe"in r&&typeof r.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(e=="PUT"?Y2:Fi)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}upload(e,n,s){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return at(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:d3.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Y2(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Cn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return at(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const r=yield Fi(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new hg("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}update(e,n,s){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return at(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}copy(e,n,s){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield Fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Fi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return at(this,void 0,void 0,function*(){try{const i=yield Fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>Ku(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new GN(l,this.shouldThrowOnError)}info(e){return at(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Ku(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:K2(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}exists(e){return at(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield qN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s)&&s instanceof G2){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],r=n?.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return at(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}list(e,n,s){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},KN),n),{prefix:e||""});return{data:yield Fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}listV2(e,n){return at(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Fi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const ky="2.83.0",Sy={"X-Client-Info":`storage-js/${ky}`};class ZN{constructor(e,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sy),n),this.fetch=fg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return at(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ku(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}createBucket(e){return at(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return at(this,void 0,void 0,function*(){try{return{data:yield Y2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class JN{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sy),n),this.fetch=fg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}listBuckets(e){return at(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Ku(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}const gg={"X-Client-Info":`storage-js/${ky}`,"Content-Type":"application/json"};class Ay extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ri(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class kp extends Ay{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class XN extends Ay{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var h3;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(h3||(h3={}));const mg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eI=(t,e,n)=>at(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,r=t;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";e(new kp(f3(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;e(new kp(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;e(new kp(a,i,o))}}else e(new XN(f3(t),t))}),tI=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return s?(QN(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function nI(t,e,n,s,i,r){return at(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,tI(e,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>eI(l,a,s))})})}function oi(t,e,n,s,i){return at(this,void 0,void 0,function*(){return nI(t,"POST",e,s,i,n)})}class sI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gg),n),this.fetch=mg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return at(this,void 0,void 0,function*(){try{return{data:(yield oi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}getIndex(e,n){return at(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}listIndexes(e){return at(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return at(this,void 0,void 0,function*(){try{return{data:(yield oi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}}class iI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gg),n),this.fetch=mg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return at(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield oi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}getVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}listVectors(e){return at(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield oi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}queryVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}deleteVectors(e){return at(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield oi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}}class rI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gg),n),this.fetch=mg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield oi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}listBuckets(){return at(this,arguments,void 0,function*(e={}){try{return{data:yield oi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield oi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}}class oI extends rI{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new aI(this.url,this.headers,e,this.fetch)}}class aI extends sI{constructor(e,n,s,i){super(e,n,i),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new lI(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class lI extends iI{constructor(e,n,s,i,r){super(e,n,r),this.vectorBucketName=s,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class cI extends ZN{constructor(e,n={},s,i){super(e,n,s,i)}from(e){return new YN(this.url,this.headers,e,this.fetch)}get vectors(){return new oI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JN(this.url+"/iceberg",this.headers,this.fetch)}}const uI="2.83.0";let uu="";typeof Deno<"u"?uu="deno":typeof document<"u"?uu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uu="react-native":uu="node";const dI={"X-Client-Info":`supabase-js-${uu}/${uI}`},hI={headers:dI},fI={schema:"public"},pI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gI={},mI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vI=()=>Headers,bI=(t,e,n)=>{const s=mI(n),i=vI();return async(r,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function yI(t){return t.endsWith("/")?t:t+"/"}function wI(t,e){var n,s;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function _I(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yI(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ly="2.83.0",Bl=30*1e3,Z2=3,Sp=Z2*Bl,xI="http://localhost:9999",CI="supabase.auth.token",kI={"X-Client-Info":`gotrue-js/${Ly}`},J2="X-Supabase-Api-Version",Ey={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AI=10*60*1e3;class Yu extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class LI extends Yu{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function EI(t){return dt(t)&&t.name==="AuthApiError"}class za extends Yu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Jo extends Yu{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class si extends Jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TI(t){return dt(t)&&t.name==="AuthSessionMissingError"}class Ll extends Jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vh extends Jo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bh extends Jo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PI(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class p3 extends Jo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X2 extends Jo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ap(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class g3 extends Jo{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Q2 extends Jo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const y1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m3=` 	
\r=`.split(""),NI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<m3.length;e+=1)t[m3[e].charCodeAt(0)]=-2;for(let e=0;e<y1.length;e+=1)t[y1[e].charCodeAt(0)]=e;return t})();function v3(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(y1[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(y1[s]),e.queuedBits-=6}}function Ty(t,e,n){const s=NI[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function b3(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{DI(o,s,n)};for(let o=0;o<t.length;o+=1)Ty(t.charCodeAt(o),i,r);return e.join("")}function II(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function OI(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}II(s,e)}}function DI(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Yl(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ty(t.charCodeAt(i),n,s);return new Uint8Array(e)}function MI(t){const e=[];return OI(t,n=>e.push(n)),new Uint8Array(e)}function qa(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>v3(i,n,s)),v3(null,n,s),e.join("")}function RI(t){return Math.round(Date.now()/1e3)+t}function $I(){return Symbol("auth-callback")}const fs=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},Py=()=>{if(!fs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function jI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const Ny=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ta=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},So=async(t,e)=>{await t.removeItem(e)};class rf{constructor(){this.promise=new rf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rf.promiseConstructor=Promise;function Lp(t){const e=t.split(".");if(e.length!==3)throw new Q2("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!SI.test(e[s]))throw new Q2("JWT not in base64url format");return{header:JSON.parse(b3(e[0])),payload:JSON.parse(b3(e[1])),signature:Yl(e[2]),raw:{header:e[0],payload:e[1]}}}async function FI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function UI(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function zI(t){return("0"+t.toString(16)).substr(-2)}function VI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,zI).join("")}async function HI(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function qI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await HI(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function El(t,e,n=!1){const s=VI();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Fl(t,`${e}-code-verifier`,i);const r=await qI(s);return[r,s===r?"plain":"s256"]}const WI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GI(t){const e=t.headers.get(J2);if(!e||!e.match(WI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function KI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function YI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tl(t){if(!ZI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ep(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JI(t,e){return new Proxy(t,{get:(n,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,i)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,i)}})}function y3(t){return JSON.parse(JSON.stringify(t))}const Ra=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XI=[502,503,504];async function w3(t){var e;if(!BI(t))throw new X2(Ra(t),0);if(XI.includes(t.status))throw new X2(Ra(t),t.status);let n;try{n=await t.json()}catch(r){throw new za(Ra(r),r)}let s;const i=GI(t);if(i&&i.getTime()>=Ey["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new g3(Ra(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new si}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new g3(Ra(n),t.status,n.weak_password.reasons);throw new LI(Ra(n),t.status||500,s)}const QI=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function yt(t,e,n,s){var i;const r=Object.assign({},s?.headers);r[J2]||(r[J2]=Ey["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await eO(t,e,n+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function eO(t,e,n,s,i,r){const o=QI(e,s,i,r);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new X2(Ra(l),0)}if(a.ok||await w3(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await w3(l)}}function Bi(t){var e;let n=null;sO(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RI(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function _3(t){const e=Bi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Do(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tO(t){return{data:t,error:null}}function nO(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=yc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function x3(t){return t}function sO(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tp=["global","local","others"];class iO{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Ny(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Tp[0]){if(Tp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tp.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Do})}catch(s){if(dt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=yc(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nO,redirectTo:n?.redirectTo})}catch(n){if(dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Do})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:x3});if(u.error)throw u.error;const h=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=b}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(dt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Tl(e);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Do})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Tl(e);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Do})}catch(s){if(dt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Tl(e);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Do})}catch(s){if(dt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Tl(e.userId);try{const{data:n,error:s}=await yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Tl(e.userId),Tl(e.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:x3});if(u.error)throw u.error;const h=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=b}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(dt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await yt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await yt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}}function C3(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Pl={debug:!!(globalThis&&Py()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Iy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rO extends Iy{}async function oO(t,e,n){Pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Pl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pl.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function aO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Oy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lO(t){return parseInt(t,16)}function cO(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function uO(t){var e;const{chainId:n,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Oy(t.address),m=u?`${u}://${s}`:s,b=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${f}

${b}`;let w=`URI: ${h}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let C=`
Resources:`;for(const k of c){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);C+=`
- ${k}`}w+=C}return`${y}
${w}`}class qn extends Error{constructor({message:e,code:n,cause:s,name:i}){var r;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class w1 extends qn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function dO({error:t,options:e}){var n,s,i;const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new qn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Dy(o)){if(r.rp.id!==o)return new qn({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new qn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hO({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Dy(s)){if(n.rpId!==s)return new qn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pO=new fO;function gO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,i=yc(t,["challenge","user","excludeCredentials"]),r=Yl(e).buffer,o=Object.assign(Object.assign({},n),{id:Yl(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Yl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function mO(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=yc(t,["challenge","allowCredentials"]),i=Yl(e).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Yl(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function vO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:qa(new Uint8Array(t.response.attestationObject)),clientDataJSON:qa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qa(new Uint8Array(i.authenticatorData)),clientDataJSON:qa(new Uint8Array(i.clientDataJSON)),signature:qa(new Uint8Array(i.signature)),userHandle:i.userHandle?qa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function k3(){var t,e;return!!(fs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yO(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new w1("Browser returned unexpected credential type",e)}:{data:null,error:new w1("Empty credential response",e)}}catch(e){return{data:null,error:dO({error:e,options:t})}}}async function wO(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new w1("Browser returned unexpected credential type",e)}:{data:null,error:new w1("Empty credential response",e)}}catch(e){return{data:null,error:hO({error:e,options:t})}}}const _O={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of t)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(n(o))s[r]=o;else if(e(o)){const a=s[r];e(a)?s[r]=_1(a,o):s[r]=_1(o)}else s[r]=o}return s}function CO(t,e){return _1(_O,t,e||{})}function kO(t,e){return _1(xO,t,e||{})}class SO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??pO.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=CO(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await yO({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=kO(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await wO(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new za("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},r){if(!n)return{data:null,error:new Yu("rpId is required for WebAuthn authentication")};try{if(!k3())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new za("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},r){if(!n)return{data:null,error:new Yu("rpId is required for WebAuthn registration")};try{if(!k3())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new za("Unexpected error in register",o)}}}}aO();const AO={url:xI,storageKey:CI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function S3(t,e,n){return await n()}const Nl={};class Zu{get jwks(){var e,n;return(n=(e=Nl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Nl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const r=Object.assign(Object.assign({},AO),e);if(this.storageKey=r.storageKey,this.instanceID=(n=Zu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.instanceID>0&&fs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new iO({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ny(r.fetch),this.lock=r.lock||S3,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,r.lock?this.lock=r.lock:fs()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=oO:this.lock=S3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Py()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C3(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=C3(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ly}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(fs()&&(n=jI(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),fs()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),PI(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return dt(n)?this._returnResult({error:n}):this._returnResult({error:new za("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bi}),{data:o,error:a}=r;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:u,password:h,options:p}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await El(this.storage,this.storageKey)),r=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:u,password:h,data:(n=p?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:f,code_challenge_method:m},xform:Bi})}else if("phone"in e){const{phone:u,password:h,options:p}=e;r=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=p?.data)!==null&&s!==void 0?s:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Bi})}else throw new vh("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:a}=e;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_3})}else if("phone"in e){const{phone:r,password:o,options:a}=e;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_3})}else throw new vh("You must provide either an email or phone number and a password");const{data:s,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!s||!s.session||!s.user){const r=new Ll;return this._returnResult({data:{user:null,session:null},error:r})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,i,r,o,a,l,c,u,h,p;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:b,wallet:y,statement:w,options:C}=e;let k;if(fs())if(typeof y=="object")k=y;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")k=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const S=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),I=await k.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Oy(I[0]);let H=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!H){const T=await k.request({method:"eth_chainId"});H=lO(T)}const U={domain:S.host,address:z,statement:w,uri:S.href,version:"1",chainId:H,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=uO(U),m=await k.request({method:"personal_sign",params:[cO(f),z]})}try{const{data:b,error:y}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Bi});if(y)throw y;if(!b||!b.session||!b.user){const w=new Ll;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(dt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,s,i,r,o,a,l,c,u,h,p,f;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:y,wallet:w,statement:C,options:k}=e;let S;if(fs())if(typeof w=="object")S=w;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))S=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const I=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const z=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),C?{statement:C}:null));let H;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")H=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)H=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)m=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),b=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${I.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(s=k?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=k?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((a=k?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((h=(u=k?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...k.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const z=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=z}}try{const{data:y,error:w}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:qa(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Bi});if(w)throw w;if(!y||!y.session||!y.user){const C=new Ll;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(dt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await Ta(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Bi});if(await So(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!r||!r.session||!r.user){const a=new Ll;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null,redirectType:null},error:r});throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,a=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Bi}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Ll;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await El(this.storage,this.storageKey));const{error:h}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new vh("You must provide either an email or phone number.")}catch(a){if(dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Bi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,s,i,r,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await El(this.storage,this.storageKey));const c=await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:tO});return!((r=c.data)===null||r===void 0)&&r.url&&fs()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(dt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new si;const{error:i}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new vh("You must provide either an email or phone number and a type")}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Sp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Ta(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ep()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=JI(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{session:null},error:r}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Do}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new si}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Do})})}catch(n){if(dt(n))return TI(n)&&(await this._removeSession(),await So(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new si;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await El(this.storage,this.storageKey));const{data:c,error:u}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Do});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(dt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new si;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=Lp(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return this._returnResult({data:{user:r.user,session:r},error:null})}catch(n){if(dt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new si;const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!fs())throw new bh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new p3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new p3("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new bh("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let p=u+h;l&&(p=parseInt(l));const f=p-u;f*1e3<=Bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=p-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,u);const{data:b,error:y}=await this._getUser(r);if(y)throw y;const w={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(s){if(dt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ta(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return this._returnResult({error:r});const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(EI(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await So(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=$I(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await El(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:p}=r;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return fs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(dt(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Bi}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ll}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(i){if(dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await UI(async i=>(i>0&&await FI(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bi})),(i,r)=>{const o=200*Math.pow(2,i);return r&&Ap(r)&&Date.now()+o-s<Bl})}catch(s){if(this._debug(n,"error",s),dt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),fs()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Ta(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Fl(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Ep()}else if(i&&!i.user&&!i.user){const o=await Ta(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await So(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,i)):i.user=Ep()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sp;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Sp}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ap(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rf;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new si;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),dt(r)){const o={data:null,error:r};return Ap(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=y3(i);await Fl(this.storage,this.storageKey,r)}else{const i=y3(n);await Fl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await So(this.storage,this.storageKey),await So(this.storage,this.storageKey+"-code-verifier"),await So(this.storage,this.storageKey+"-user"),this.userStorage&&await So(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/Bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bl}ms, refresh threshold is ${Z2} ticks`),i<=Z2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Iy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await El(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?this._returnResult({data:null,error:r}):await yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return this._returnResult({data:null,error:r});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vO(e.webauthn.credential_response):bO(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return this._returnResult({data:null,error:r});const o=await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gO(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:mO(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Lp(s.access_token);let o=null;r.aal&&(o=r.aal);let a=o;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=r.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?await yt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new si})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:r}=s;if(r)return this._returnResult({data:null,error:r});if(!i)return this._returnResult({data:null,error:new si});const o=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&fs()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(dt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:r}=s;if(r)return this._returnResult({data:null,error:r});if(!i)return this._returnResult({data:null,error:new si});const o=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&fs()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(dt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await yt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new si})})}catch(e){if(dt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?await yt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new si})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+AI>i)return s;const{data:r,error:o}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=Lp(s);n?.allowExpired||KI(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=YI(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,MI(`${a}.${l}`)))throw new Q2("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(dt(s))return this._returnResult({data:null,error:s});throw s}}}Zu.nextInstanceID={};const LO=Zu;class EO extends LO{constructor(e){super(e)}}class TO{constructor(e,n,s){var i,r,o;this.supabaseUrl=e,this.supabaseKey=n;const a=_I(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:fI,realtime:gI,auth:Object.assign(Object.assign({},pI),{storageKey:l}),global:hI},u=wI(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=bI(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new xN(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new cI(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new mN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:u},h,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EO({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PO=(t,e,n)=>new TO(t,e,n);function NO(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}NO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IO="https://hmevengvfponcwslnyye.supabase.co",OO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtZXZlbmd2ZnBvbmN3c2xueXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MDQ3OTcsImV4cCI6MjA3OTA4MDc5N30.snwgdLRRFtxv_6UAKnpdkbDPGdF8IKl3w8zzYOIqVk4",My=PO(IO,OO),Ry="Requirements";async function $y(t,e=Ry,n="requirement_directory"){if(!t)return null;if(t.type!=="application/pdf")return console.error("Only PDF files are allowed."),null;const s=`${n}/${Date.now()}_${t.name}`;console.log(`Uploading file to ${e}/${n}:`,s);try{const{data:i,error:r}=await My.storage.from(e).upload(s,t,{cacheControl:"3600",upsert:!1});return r?(console.error(`Supabase upload error (${e}/${n}):`,r),null):s}catch(i){return console.error(`Upload error (${e}/${n}):`,i),null}}async function Pp(t,e=Ry){const n=await $y(t,e,"certificate_directory");if(!n)return null;const{data:s}=My.storage.from(e).getPublicUrl(n);return s?.publicUrl||null}const DO={key:0,open:"",class:"modal sm:modal-middle"},MO={class:"modal-box max-w-3xl relative font-poppins"},RO={class:"text-xl font-bold mb-2"},$O={class:"text-sm text-gray-600 mb-2"},jO={class:"my-4 flex justify-end gap-2"},BO=["disabled"],FO={key:0,class:"loading loading-spinner loading-sm"},UO={key:1},zO={key:1,class:"btn btn-sm bg-gray-500 text-white",disabled:""},VO={key:1,open:"",class:"modal sm:modal-middle"},HO={class:"modal-box max-w-lg relative font-poppins"},qO={class:"text-xl font-bold mb-4"},WO={class:"mb-4"},GO={class:"toast toast-end toast-top z-50"},KO={__name:"careermodal",props:{show:Boolean,career:Object,myApplications:[Set,Object],bookmarkedCareers:[Set,Object]},emits:["close","update-applications","update-bookmarks"],setup(t,{emit:e}){const n=t,s=e,i=le(!1),r=le(null),o=le([]),a=le(!1),l=le(null);mr(()=>n.show,async C=>{await ci(),C?l.value?.showModal():l.value?.close()});function c(C,k="info"){const S=Date.now();o.value.push({id:S,message:C,type:k}),setTimeout(()=>{o.value=o.value.filter(I=>I.id!==S)},3e3)}const u=Xt(()=>n.bookmarkedCareers.has(n.career?.careerID??n.career?.id)),h=Xt(()=>n.myApplications.has(n.career?.careerID??n.career?.id));async function p(){const C=localStorage.getItem("token");if(!C){c("PLEASE LOG IN FIRST","accent");return}const k=n.career?.careerID??n.career?.id;a.value=!0;try{u.value?(await Le.delete(`https://pathfinder-development-production.up.railway.app/api/career-bookmarks/${k}`,{headers:{Authorization:`Bearer ${C}`}}),n.bookmarkedCareers.delete(k),s("update-bookmarks",new Set(n.bookmarkedCareers)),c("Bookmark removed","success")):(await Le.post("https://pathfinder-development-production.up.railway.app/api/career-bookmarks",{careerID:k},{headers:{Authorization:`Bearer ${C}`}}),n.bookmarkedCareers.add(k),s("update-bookmarks",new Set(n.bookmarkedCareers)),c("Bookmark added","success"))}catch(S){console.error(S),c("Error toggling bookmark","accent")}finally{a.value=!1}}function f(){i.value=!0}function m(){i.value=!1,r.value=null}function b(C){r.value=C.target.files[0],console.log("Uploaded file:",r.value)}async function y(){if(!n.career)return;const C=localStorage.getItem("token");if(!C){c("PLEASE LOG IN FIRST","accent");return}let k=null;if(r.value){if(c("Uploading file to Supabase...","info"),k=await $y(r.value,"Requirements","requirement_directory"),!k){c("FAILED TO UPLOAD FILE TO SUPABASE","accent");return}c("File uploaded successfully!","success")}try{const S={careerID:n.career.careerID??n.career.id,requirement_directory:k};await Le.post("https://pathfinder-development-production.up.railway.app/api/applications",S,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}}),c("APPLICATION SUBMITTED SUCCESSFULLY","success");const I=n.career.careerID??n.career.id;n.myApplications.add(I),s("update-applications",new Set(n.myApplications)),m(),s("close")}catch(S){S.response?.status===409?c("YOU ALREADY APPLIED TO THIS CAREER","accent"):S.response?.status===401?c("UNAUTHORIZED. PLEASE LOG IN AGAIN","accent"):S.response?.status===422?c("INVALID INPUT. ONLY PDF UP TO 5MB","accent"):(c("FAILED TO SUBMIT APPLICATION","accent"),console.error("Application submission error:",S))}}function w(C){return C?new Date(C).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A"}return(C,k)=>(M(),B("div",null,[t.show?(M(),B("dialog",DO,[d("div",MO,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:k[0]||(k[0]=S=>C.$emit("close"))},"  "),d("h2",RO,Z(t.career.position),1),d("p",$O," Organization: "+Z(t.career.organization),1),d("div",jO,[d("button",{class:"btn btn-outline btn-sm",onClick:p,disabled:a.value},[a.value?(M(),B("span",FO)):(M(),B("span",UO,Z(u.value?"Bookmarked":"Bookmark"),1))],8,BO),h.value?(M(),B("button",zO," Applied ")):(M(),B("button",{key:0,class:"btn btn-sm bg-customButton text-white",onClick:f}," Apply "))]),d("p",null,[k[1]||(k[1]=d("strong",null,"Details:",-1)),Re(" "+Z(t.career.detailsAndInstructions),1)]),d("p",null,[k[2]||(k[2]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(t.career.qualifications),1)]),d("p",null,[k[3]||(k[3]=d("strong",null,"Requirements:",-1)),Re(" "+Z(t.career.requirements),1)]),d("p",null,[k[4]||(k[4]=d("strong",null,"Application Address:",-1)),Re(" "+Z(t.career.applicationLetterAddress),1)]),d("p",null,[k[5]||(k[5]=d("strong",null,"Deadline:",-1)),Re(" "+Z(w(t.career.deadlineOfSubmission)),1)])])])):Ce("",!0),i.value?(M(),B("dialog",VO,[d("div",HO,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:m},"  "),d("h2",qO,"Apply for "+Z(t.career?.position),1),d("form",{onSubmit:vt(y,["prevent"])},[d("div",WO,[k[6]||(k[6]=d("label",{class:"block text-sm font-medium mb-1"}," Upload PDF Requirements ",-1)),d("input",{type:"file",accept:"application/pdf",onChange:b,required:"",class:"file-input file-input-bordered w-full"},null,32)]),d("div",{class:"flex justify-end gap-2"},[d("button",{type:"button",class:"btn btn-outline btn-sm",onClick:m}," Cancel "),k[7]||(k[7]=d("button",{type:"submit",class:"btn bg-customButton hover:bg-dark-slate text-white btn-sm"}," Submit ",-1))])],32)])])):Ce("",!0),d("div",GO,[(M(!0),B(Ye,null,ct(o.value,S=>(M(),B("div",{key:S.id,class:ft(["alert",{"alert-info":S.type==="info","alert-success":S.type==="success","alert-accent":S.type==="accent"}])},Z(S.message),3))),128))])]))}},YO={class:"font-poppins"},ZO={class:"bg-white m-3 p-4 rounded-lg"},JO={class:"space-y-4"},XO=["onClick"],QO={class:"font-semibold"},eD={class:"text-gray-700"},tD={class:"toast toast-end toast-top z-50"},nD={__name:"Careerpage",setup(t){const e=le(!1),n=le(!1);function s(I){console.log("Event clicked:",I)}const i=le([]),r=le(new Set),o=le(new Set);async function a(){try{const I=localStorage.getItem("token");if(!I)return;const z=await Le.get("https://pathfinder-development-production.up.railway.app/api/career-bookmarks",{headers:{Authorization:`Bearer ${I}`}});o.value=new Set(z.data.map(H=>H.careerID))}catch(I){console.error("Error fetching career bookmarks:",I)}}It(async()=>{try{const I=await Le.get("https://pathfinder-development-production.up.railway.app/api/careers");m.value=I.data}catch(I){console.error("Error fetching careers:",I)}await k(),await a()}),Xt(()=>m.value.map(I=>({...I,organizationName:I.organizationName||"Unknown"}))),le(!1),le(null);const l=le({}),c=le(""),u=le([]),h=le(null);function p(){l.value={},posts.value.forEach(I=>{const z=I.trainingID?I.schedule.split("T")[0]:I.deadlineOfSubmission;l.value[z]||(l.value[z]=[]),l.value[z].push(I)})}function f(I){c.value=I,u.value=l.value[I]||[]}It(async()=>{await ci(),p();const I=h.value,z=new Date().toISOString().split("T")[0];I.addEventListener("render",()=>{I.querySelectorAll("[data-date]").forEach(U=>{const T=U.getAttribute("data-date");U.classList.remove("event-day","today"),l.value[T]&&U.classList.add("event-day"),T===z&&U.classList.add("today")})}),I.addEventListener("change",U=>{const T=U.target.value;f(T),I.querySelectorAll("[data-date]").forEach(L=>L.classList.remove("selected-day"));const q=I.querySelector(`[data-date="${T}"]`);q&&q.classList.add("selected-day")}),I.value=z,f(z);const H=new Event("change",{bubbles:!0});I.dispatchEvent(H)});const m=le([]),b=le(null),y=le(!1);function w(I){b.value=I,y.value=!0,console.log("Opening modal for career:",I)}function C(){y.value=!1,b.value=null}async function k(){const I=localStorage.getItem("token");if(!I)return;const z=await Le.get("https://pathfinder-development-production.up.railway.app/api/applications",{headers:{Authorization:`Bearer ${I}`}});r.value=new Set(z.data.map(H=>H.careerID))}async function S(){const I=localStorage.getItem("token");if(!I)return;const z=await Le.get("https://pathfinder-development-production.up.railway.app/api/career-bookmarks",{headers:{Authorization:`Bearer ${I}`}});o.value=new Set(z.data.map(H=>H.careerID))}return It(async()=>{await fetchCareers(),await k(),await S()}),(I,z)=>(M(),B("main",YO,[d("div",ZO,[z[4]||(z[4]=d("div",{class:"sticky top-0 z-10 bg-white pt-4 px-4 pb-2 border-b shadow-sm"},[d("h2",{class:"text-2xl font-bold mb-3 sticky top-0 bg-white z-10"}," Career ")],-1)),d("div",JO,[(M(!0),B(Ye,null,ct(m.value,H=>(M(),B("div",{key:H.careerID,class:"p-4 bg-blue-gray rounded-lg relative hover:bg-gray-300 transition cursor-pointer",onClick:U=>w(H)},[d("h3",QO,Z(H.position),1),d("p",eD,Z(H.organization),1)],8,XO))),128))])]),wt(og,{isOpen:e.value,onOpen:z[0]||(z[0]=H=>e.value=!0),onClose:z[1]||(z[1]=H=>e.value=!1),onEventClick:s},null,8,["isOpen"]),wt(KO,{show:y.value,career:b.value,myApplications:r.value,bookmarkedCareers:o.value,careerBookmarkLoading:n.value,onClose:C,onUpdateApplications:z[2]||(z[2]=H=>r.value=H),onUpdateBookmarks:z[3]||(z[3]=H=>o.value=H)},null,8,["show","career","myApplications","bookmarkedCareers","careerBookmarkLoading"]),d("div",tD,[(M(!0),B(Ye,null,ct(i.value,H=>(M(),B("div",{key:H.id,class:ft(["alert",{"alert-info":H.type==="info","alert-success":H.type==="success","alert-accent":H.type==="accent"}])},Z(H.message),3))),128))])]))}},sD={class:"font-poppins"},iD={class:"bg-white m-3 p-4 rounded-lg"},rD={key:0,class:"text-gray-500"},oD={key:1,class:"text-red-500"},aD={key:2,class:"space-y-4"},lD={class:"font-semibold"},cD={class:"text-gray-600"},uD={__name:"Organizationpage",setup(t){const e=le({}),n=le(""),s=le([]),i=le(null);function r(u){n.value=u,s.value=e.value[u]||[]}const o=le([]),a=le(!0),l=le(null);async function c(){try{const u=await Le.get("https://pathfinder-development-production.up.railway.app/api/organizations/");o.value=u.data.map(h=>({id:h.organizationID,name:h.name,location:h.location||"N/A"}))}catch(u){console.error("Failed to fetch organizations:",u),l.value=u.response?.data?.message||"Failed to fetch organizations"}finally{a.value=!1}}return It(async()=>{await c();const u=i.value,h=new Date().toISOString().split("T")[0];if(u){u.addEventListener("render",()=>{u.querySelectorAll("[data-date]").forEach(f=>{const m=f.getAttribute("data-date");f.classList.remove("event-day","today"),e.value[m]&&f.classList.add("event-day"),m===h&&f.classList.add("today")})}),u.addEventListener("change",f=>{const m=f.target.value;r(m),u.querySelectorAll("[data-date]").forEach(y=>y.classList.remove("selected-day"));const b=u.querySelector(`[data-date="${m}"]`);b&&b.classList.add("selected-day")}),u.value=h,r(h);const p=new Event("change",{bubbles:!0});u.dispatchEvent(p)}}),(u,h)=>(M(),B("div",null,[d("main",sD,[d("div",iD,[h[0]||(h[0]=d("div",{class:"sticky top-0 z-10 bg-white pt-4 px-4 pb-2 border-b shadow-sm"},[d("h2",{class:"text-2xl font-bold mb-3"},"Organizations")],-1)),a.value?(M(),B("div",rD,"Loading organizations...")):Ce("",!0),l.value?(M(),B("div",oD,Z(l.value),1)):Ce("",!0),!a.value&&!l.value?(M(),B("ul",aD,[(M(!0),B(Ye,null,ct(o.value,p=>(M(),B("li",{key:p.id,class:"p-4 bg-blue-gray rounded-lg relative hover:bg-gray-300 transition cursor-pointer"},[d("p",lD,Z(p.name),1),d("p",cD,Z(p.location),1)]))),128))])):Ce("",!0)])])]))}},dD={class:"flex flex-col min-h-screen font-poppins p-4"},hD={class:"mb-8 text-center hidden lg:block"},fD={class:"flex items-center justify-center mt-2"},pD={class:"text-xl text-black font-semibold mx-4 w-40"},gD={class:"w-full max-w-6xl p-6 rounded-2xl hidden lg:block"},mD={class:"grid grid-cols-7 gap-1 sm:gap-2 text-center text-gray-500 font-semibold mb-4"},vD={class:"grid grid-cols-7 gap-2"},bD={class:"text-lg font-bold text-gray-800"},yD=["onClick"],wD={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50 hidden lg:block"},_D={class:"rounded-2xl p-6 shadow-xl w-full max-w-sm transform transition-all"},xD={class:"text-lg text-gray-600 mb-2"},CD={class:"text-lg text-gray-600 mb-4"},kD={class:"flex gap-4"},SD={class:"p-4 rounded-lg lg:hidden"},AD={class:"bg-blue-gray p-4 rounded-md cally bg-base-100 border border-base-300 shadow-lg rounded-box flex justify-center"},LD=["data-date"],ED={class:"mt-8"},TD={key:0,class:"text-gray-500"},PD={class:"font-semibold hover:text-dark-slate"},ND={class:"text-gray-600 text-sm"},ID={class:"text-gray-600 text-sm"},OD={class:"text-gray-600 text-sm"},DD=["href"],MD={__name:"Calendarpage",setup(t){const e=le(null),n=le([]),s=le({}),i=le([]),r=le("");async function o(){try{const u=localStorage.getItem("token"),h=await Le.get("https://pathfinder-development-production.up.railway.app/api/trainings",{headers:{Authorization:`Bearer ${u}`}});n.value=h.data.map(p=>({trainingID:p.trainingID,title:p.title,schedule:p.schedule,organizationID:p.organizationID,location:p.location,trainingLink:p.trainingLink,mode:p.mode,description:p.description})),a(),l(),console.log(" Trainings fetched:",n.value)}catch(u){console.error(" Error fetching trainings:",u)}}function a(){s.value={},n.value.forEach(u=>{const h=new Date(u.schedule).toISOString().split("T")[0];s.value[h]||(s.value[h]=[]),s.value[h].push(u)})}function l(){const u=e.value;u&&u.querySelectorAll("[data-date]").forEach(h=>{const p=h.getAttribute("data-date");h.classList.remove("highlight-day"),s.value[p]&&h.classList.add("highlight-day")})}function c(u){r.value=u,i.value=s.value[u]||[]}return It(async()=>{await ci(),await o();const u=e.value;if(!u)return;const h=new Date().toISOString().split("T")[0];u.addEventListener("change",p=>{const f=p.target.value;c(f),u.querySelectorAll("[data-date]").forEach(b=>b.classList.remove("selected-day"));const m=u.querySelector(`[data-date="${f}"]`);m&&m.classList.add("selected-day")}),u.value=h,c(h)}),(u,h)=>{const p=to("calendar-month"),f=to("calendar-date");return M(),B("div",dD,[d("div",hD,[d("div",fD,[d("button",{onClick:h[0]||(h[0]=(...m)=>u.handlePreviousMonth&&u.handlePreviousMonth(...m)),class:"p-2 text-black hover:text-gray-900 transition-colors duration-200"},h[4]||(h[4]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-6 h-6"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)])),d("p",pD,Z(u.monthYearDisplay),1),d("button",{onClick:h[1]||(h[1]=(...m)=>u.handleNextMonth&&u.handleNextMonth(...m)),class:"p-2 text-black hover:text-gray-900 transition-colors duration-200"},h[5]||(h[5]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-6 h-6"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)]))])]),d("div",gD,[d("div",mD,[(M(),B(Ye,null,ct(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=>d("div",{key:m,class:"p-2"},Z(m),1)),64))]),d("div",vD,[(M(!0),B(Ye,null,ct(u.firstDayOfMonth,m=>(M(),B("div",{key:`blank-${m}`,class:"p-2"}))),128)),(M(!0),B(Ye,null,ct(u.daysInMonth,m=>(M(),B("div",{key:m,class:"bg-gray-50 h-32 md:h-40 rounded-lg p-2 flex flex-col items-start overflow-auto shadow-sm hover:bg-gray-100 transition-colors duration-200"},[d("div",bD,Z(m),1),(M(!0),B(Ye,null,ct(u.getSchedulesForDay(m),b=>(M(),B("div",{key:b.trainingID,onClick:y=>u.handleScheduleClick(b),class:"cursor-pointer mt-1 w-full bg-blue-100 text-blue-800 text-sm p-1 rounded-md hover:bg-blue-200 transition-colors duration-200 truncate"},Z(b.title),9,yD))),128))]))),128))])]),u.isModalOpen&&u.selectedSchedule?(M(),B("div",wD,[d("div",_D,[h[8]||(h[8]=d("h3",{class:"text-2xl font-bold text-gray-800 mb-4"},"Schedule Details",-1)),d("p",xD,[h[6]||(h[6]=d("span",{class:"font-semibold"},"Event:",-1)),Re(" "+Z(u.selectedSchedule.title),1)]),d("p",CD,[h[7]||(h[7]=d("span",{class:"font-semibold"},"Date:",-1)),Re(" "+Z(u.selectedSchedule.date),1)]),d("div",kD,[d("button",{onClick:h[2]||(h[2]=m=>u.handleDeleteSchedule(u.selectedSchedule.id)),class:"flex-grow p-3 bg-dark-slate text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-colors duration-200"}," Delete "),d("button",{onClick:h[3]||(h[3]=m=>u.isModalOpen=!1),class:"flex-grow p-3 bg-gray-300 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-400 transition-colors duration-200"}," Close ")])])])):Ce("",!0),d("div",null,[d("div",SD,[d("div",AD,[wt(f,{ref_key:"calendarRef",ref:e,"first-day-of-week":"0",class:"cally bg-base-100 border border-base-300 shadow rounded-box p-3 flex-shrink-0"},{default:Wn(()=>[wt(p,null,{day:Wn(({date:m,label:b})=>[d("div",{class:"w-8 h-8 flex items-center justify-center rounded-full","data-date":m},Z(b),9,LD)]),_:1})]),_:1},512)]),d("div",ED,[h[10]||(h[10]=d("h2",{class:"text-xl font-bold mb-4"},"Upcoming Trainings",-1)),i.value.length===0?(M(),B("div",TD," No events scheduled for "+Z(r.value||"this day")+". ",1)):Ce("",!0),(M(!0),B(Ye,null,ct(i.value,m=>(M(),B("div",{key:m.trainingID,class:"p-4 bg-gray-100 rounded-lg mb-3"},[d("h3",PD,Z(m.title),1),d("p",ND,"  "+Z(new Date(m.schedule).toLocaleString()),1),d("p",ID," "+Z(m.location),1),d("p",OD,[h[9]||(h[9]=Re("  ")),d("a",{href:m.trainingLink,target:"_blank",class:"text-blue-500 underline"},"Open Link",8,DD)])]))),128))])])])])}}},RD={class:"font-poppins"},$D={class:"min-h-screen p-3 rounded-lg font-poppins"},jD={class:"min-h-screen font-poppins lg:flex"},BD={class:"w-full lg:w-1/4 bg-white rounded-lg shadow p-6 flex flex-col items-center hidden lg:flex"},FD={class:"text-xl font-semibold mb-6"},UD={class:"w-full flex items-center justify-center gap-6 mb-6 relative"},zD={class:"relative"},VD={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},HD={class:"relative"},qD={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},WD={class:"w-full flex flex-col gap-3"},GD={class:"w-full lg:w-3/4 lg:pl-6 flex"},KD={class:"bg-white p-4 rounded-lg flex flex-col w-full min-h-screen flex-1"},YD={class:"font-poppins min-h-screen flex flex-col"},ZD={class:"flex justify-center bg-white shadow-sm"},JD={key:0,class:"p-4"},XD={key:0,class:"space-y-3"},QD=["onClick"],eM={class:"text-base font-semibold"},tM={class:"text-sm text-gray-600"},nM={key:1,class:"text-center text-gray-500 mt-6"},sM={key:1,class:"p-4"},iM={key:0,class:"space-y-3"},rM=["onClick"],oM={class:"text-base font-semibold"},aM={class:"text-sm text-gray-600"},lM={key:1,class:"text-center text-gray-500 mt-6"},cM={key:2,open:"",class:"modal sm:modal-middle"},uM={class:"modal-box max-w-3xl relative font-poppins"},dM={key:0},hM={class:"text-xl font-bold mb-2"},fM={class:"text-sm text-gray-600 mb-2"},pM={class:"my-4 flex justify-end gap-2"},gM={key:0},mM=["href"],vM={key:1},bM={key:2,class:"mt-4 text-center"},yM={key:0,class:"flex flex-col items-center"},wM={class:"text-sm text-gray-600 mt-1"},_M={key:1},xM={key:1},CM={class:"text-xl font-bold mb-2"},kM={class:"text-sm text-gray-600 mb-2"},SM={class:"my-4 flex justify-end gap-2"},AM=["disabled"],LM={key:3,open:"",class:"modal sm:modal-middle"},EM={class:"modal-box max-w-lg relative font-poppins"},TM={class:"text-xl font-bold mb-4"},PM={class:"mb-4"},NM={class:"flex justify-end gap-2"},IM=["disabled"],OM={class:"toast toast-end toast-top z-50"},DM={__name:"Bookmarkpage",setup(t){js(),le(null);const e=le(""),n=le([]),s=le([]),i=le("career"),r=le(window.innerWidth>=1024),o=le(new Set),a=le([]),l=le(0),c=le(0),u=le(!1),h=le(new Set),p=le(""),f=le(!1),m=le(null),b=le(!1),y=le(null),w=fe=>{const ae=fe.target.files[0];if(ae){if(ae.type!=="application/pdf"){addToast("Only PDF files are allowed","error"),fe.target.value="";return}y.value=ae}};function C(){r.value=window.innerWidth>=1024}It(()=>window.addEventListener("resize",C)),R0(()=>window.removeEventListener("resize",C));const k=async()=>{try{const{data:fe}=await Le.get("https://pathfinder-development-production.up.railway.app/api/organization");s.value=fe.map(ae=>({...ae,organizationID:Number(ae.organizationID)})),console.log(" Organizations:",s.value),console.log(" Organizations:",fe)}catch(fe){console.error(" Failed to fetch organizations:",fe)}},S=async()=>{try{const fe=localStorage.getItem("token");if(!fe)return console.warn(" No token found");const[ae,A]=await Promise.all([Le.get("https://pathfinder-development-production.up.railway.app/api/bookmarks",{headers:{Authorization:`Bearer ${fe}`}}),Le.get("https://pathfinder-development-production.up.railway.app/api/career-bookmarks",{headers:{Authorization:`Bearer ${fe}`}})]),[O,Y]=await Promise.all([Le.get("https://pathfinder-development-production.up.railway.app/api/trainings"),Le.get("https://pathfinder-development-production.up.railway.app/api/careers")]);console.log(" Trainings data from API:",O.data),console.log(" Careers data from API:",Y.data),n.value=[...ae.data.map(he=>({trainingID:he,training:O.data.find(ge=>Number(ge.trainingID)===Number(he))||null})),...A.data.map(he=>({careerID:he.careerID,career:Y.data.find(ge=>Number(ge.id)===Number(he.careerID))||null}))],console.log(" Career bookmarks:",A.data),console.log(" All careers:",Y.data),console.log(" Mapped careers:",n.value.filter(he=>he.career))}catch(fe){console.error(" Failed to load bookmarks:",fe.response?.data||fe)}},I=Xt(()=>n.value.filter(fe=>fe.training).map(fe=>({...fe.training,trainingID:fe.trainingID,registered:o.value.has(fe.trainingID)}))),z=Xt(()=>n.value.filter(fe=>fe.career).map(fe=>{const ae=s.value.find(A=>A.organizationID===fe.career.organization_id);return{...fe.career,careerID:fe.careerID,organization:ae||null}})),H=fe=>V(fe)?n.value.some(ae=>ae.trainingID===fe.trainingID):n.value.some(ae=>ae.careerID===fe.careerID);async function U(){try{const fe=localStorage.getItem("token");if(!fe)return;const A=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${fe}`}})).data||[];let O=0,Y=0;const he=new Date().getTime();A.forEach(ge=>{const J=(ge.registrationStatus||"").toLowerCase(),X=ge.end_time?he>new Date(ge.end_time).getTime():!1;J==="completed"||X?Y++:["upcoming","registered"].includes(J)&&O++}),l.value=O,c.value=Y}catch(fe){console.error(" Error fetching training counters:",fe)}}const T=async()=>{try{const fe=localStorage.getItem("token");if(!fe)return;const{data:ae}=await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${fe}`}});console.log(" /api/registrations response:",ae),o.value=new Set(ae.map(A=>Number(A.trainingID))),console.log(" Registered trainings:",[...o.value])}catch(fe){console.error(" Failed to load registrations:",fe.response?.data||fe)}},q=fe=>{m.value=fe},L=()=>{m.value=null},P=fe=>{m.value=fe,b.value=!0,u.value=h.value.has(fe.careerID)},ne=()=>{b.value=!1,y.value=null,u.value=!1,m.value=null},V=fe=>!!fe.title,j=fe=>new Date(fe).toLocaleDateString("en-PH",{dateStyle:"medium"}),F=async fe=>{try{const ae=localStorage.getItem("token");if(!ae)return console.warn(" No token found");H(fe)?V(fe)?(await Le.delete(`https://pathfinder-development-production.up.railway.app/api/bookmarks/${fe.trainingID}`,{headers:{Authorization:`Bearer ${ae}`}}),n.value=n.value.filter(A=>A.trainingID!==fe.trainingID)):(await Le.delete(`https://pathfinder-development-production.up.railway.app/api/career-bookmarks/${fe.careerID}`,{headers:{Authorization:`Bearer ${ae}`}}),n.value=n.value.filter(A=>A.careerID!==fe.careerID)):V(fe)?(await Le.post("https://pathfinder-development-production.up.railway.app/api/bookmarks",{trainingID:fe.trainingID},{headers:{Authorization:`Bearer ${ae}`}}),n.value.push({trainingID:fe.trainingID,training:fe})):(await Le.post("https://pathfinder-development-production.up.railway.app/api/career-bookmarks",{careerID:fe.careerID},{headers:{Authorization:`Bearer ${ae}`}}),n.value.push({careerID:fe.careerID,career:fe}))}catch(ae){console.error(" Failed to toggle bookmark:",ae.response?.data||ae)}},D=async fe=>{const ae=localStorage.getItem("token");if(!ae)return console.warn(" No token found");if(o.value.has(fe.trainingID))try{const O=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${ae}`}})).data.find(Y=>Y.trainingID===fe.trainingID);if(!O){addToast("Registration not found","error");return}await Le.delete(`https://pathfinder-development-production.up.railway.app/api/registrations/${O.registrationID}`,{headers:{Authorization:`Bearer ${ae}`}}),o.value.delete(fe.trainingID),addToast("You have been unregistered","info"),o.value=new Set([...o.value])}catch(A){console.error(A),addToast("Failed to unregister","error")}else try{await Le.post("https://pathfinder-development-production.up.railway.app/api/registrations",{trainingID:fe.trainingID},{headers:{Authorization:`Bearer ${ae}`}}),o.value.add(fe.trainingID),addToast("Registered successfully!","success"),o.value=new Set([...o.value])}catch(A){A.response?.status===409?addToast("Already registered","accent"):addToast("Failed to register","error")}},N=async()=>{if(!y.value)return addToast("Please select a PDF","error");const fe=localStorage.getItem("token");if(!fe)return addToast("You must be logged in","error");const ae=new FormData;ae.append("file",y.value),ae.append("careerID",m.value.careerID);try{const A=await Le.post("https://pathfinder-development-production.up.railway.app/api/applications",ae,{headers:{Authorization:`Bearer ${fe}`,"Content-Type":"multipart/form-data"}}),O=Number(m.value?.careerID);isNaN(O)||h.value.add(O),ne(),y.value=null}catch(A){A.response?.status===409?(addToast("Already applied","info"),Number(m.value?.careerID),h.value.add(m.value.careerID)):(console.error(" Application error:",A.response?.data||A),addToast("Failed to submit application","error"))}};le(new Set);const ee=async()=>{try{const fe=localStorage.getItem("token");if(!fe)return;const{data:ae}=await Le.get("https://pathfinder-development-production.up.railway.app/api/applications",{headers:{Authorization:`Bearer ${fe}`}});h.value=new Set(ae.map(A=>Number(A.careerID||A.career_id))),console.log(" Applied careers:",h.value),console.log(" diplayed career length",z.value.length)}catch(fe){console.error(fe)}};return It(()=>{k(),S(),U(),T(),ee();const fe=localStorage.getItem("user");if(fe)try{const ae=JSON.parse(fe);e.value=`${ae.firstName} ${ae.lastName}`}catch{e.value="Guest"}else e.value="Guest"}),(fe,ae)=>(M(),B("main",RD,[d("div",$D,[d("div",jD,[d("div",BD,[ae[19]||(ae[19]=d("div",{class:"w-24 h-24 rounded-full bg-white mb-4"},[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar",class:"w-full h-full object-cover rounded-full"})],-1)),d("h2",FD,Z(e.value),1),d("div",UD,[d("div",zD,[ae[11]||(ae[11]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Upcoming")],-1)),d("span",VD,Z(l.value),1)]),d("div",HD,[ae[12]||(ae[12]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Completed")],-1)),d("span",qD,Z(c.value),1)])]),d("div",WD,[d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:ae[0]||(ae[0]=A=>fe.$router.push({name:"ResumeEditorpage"}))},ae[13]||(ae[13]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M19.8333 3.21521V9.06681C19.8333 9.86022 19.8333 10.2569 19.9877 10.56C20.1235 10.8265 20.3402 11.0432 20.6068 11.1791C20.9098 11.3335 21.3066 11.3335 22.1 11.3335H27.9516M22.6666 18.4167H11.3333M22.6666 24.0834H11.3333M14.1666 12.75H11.3333M19.8333 2.83337H12.4666C10.0864 2.83337 8.89629 2.83337 7.98717 3.2966C7.18748 3.70406 6.53731 4.35423 6.12985 5.15391C5.66663 6.06304 5.66663 7.25315 5.66663 9.63337V24.3667C5.66663 26.7469 5.66663 27.937 6.12985 28.8462C6.53731 29.6459 7.18748 30.296 7.98717 30.7035C8.89629 31.1667 10.0864 31.1667 12.4666 31.1667H21.5333C23.9135 31.1667 25.1036 31.1667 26.0128 30.7035C26.8124 30.296 27.4626 29.6459 27.8701 28.8462C28.3333 27.937 28.3333 26.7469 28.3333 24.3667V11.3334L19.8333 2.83337Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Resume",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:ae[1]||(ae[1]=A=>fe.$router.push({name:"Certificatespage"}))},ae[14]||(ae[14]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M9.47917 29.1666H7.29167C5.68084 29.1666 4.375 27.8608 4.375 26.25V5.83329C4.375 4.22246 5.68084 2.91663 7.29167 2.91663H27.7083C29.3192 2.91663 30.625 4.22246 30.625 5.83329V26.25C30.625 27.8608 29.3192 29.1666 27.7083 29.1666H25.5208M17.5 27.7083C19.9162 27.7083 21.875 25.7495 21.875 23.3333C21.875 20.917 19.9162 18.9583 17.5 18.9583C15.0838 18.9583 13.125 20.917 13.125 23.3333C13.125 25.7495 15.0838 27.7083 17.5 27.7083ZM17.5 27.7083L17.5313 27.708L12.8751 32.3641L8.75036 28.2393L13.1537 23.836M17.5 27.7083L22.1562 32.3641L26.281 28.2393L21.8777 23.836M13.125 8.74996H21.875M10.2083 13.8541H24.7917",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Certificates",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:ae[2]||(ae[2]=A=>fe.$router.push({name:"Bookmarkpage"}))},ae[15]||(ae[15]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M7.75 3.75V30L17.4375 20.625L27.125 30V3.75H7.75ZM23.25 0H3.875V26.25L5.8125 24.375V1.875H23.25V0Z",fill:"white"})],-1),d("span",null,"Bookmark",-1)])),ae[18]||(ae[18]=d("div",{class:"divider"},null,-1)),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:ae[3]||(ae[3]=A=>fe.$router.push({name:"UpdateDeletepage"}))},ae[16]||(ae[16]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"white"})],-1),d("span",null,"Account Setting",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:ae[4]||(ae[4]=(...A)=>fe.logout&&fe.logout(...A))},ae[17]||(ae[17]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z",fill:"white"}),d("path",{d:"M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z",fill:"white"}),d("path",{d:"M5.84994 16.1C5.65994 16.1 5.46994 16.03 5.31994 15.88L1.96994 12.53C1.67994 12.24 1.67994 11.76 1.96994 11.47L5.31994 8.12003C5.60994 7.83003 6.08994 7.83003 6.37994 8.12003C6.66994 8.41003 6.66994 8.89003 6.37994 9.18003L3.55994 12L6.37994 14.82C6.66994 15.11 6.66994 15.59 6.37994 15.88C6.23994 16.03 6.03994 16.1 5.84994 16.1Z",fill:"white"})],-1),d("span",null,"Logout",-1)]))])]),d("div",GD,[d("div",KD,[d("div",YD,[d("div",ZD,[d("button",{class:ft(["px-4 py-2 text-md font-medium",i.value==="career"?"border-b-2 border-dark-slate text-black font-semibold":"text-gray-500"]),onClick:ae[5]||(ae[5]=A=>i.value="career")}," Careers ",2),d("button",{class:ft(["px-4 py-2 text-md font-medium",i.value==="training"?"border-b-2 border-dark-slate text-black font-semibold":"text-gray-500"]),onClick:ae[6]||(ae[6]=A=>i.value="training")}," Trainings ",2)]),i.value==="career"?(M(),B("div",JD,[z.value.length?(M(),B("div",XD,[(M(!0),B(Ye,null,ct(z.value,A=>(M(),B("div",{key:A.careerID,onClick:O=>q(A),class:"p-4 rounded-lg cursor-pointer bg-blue-gray hover:bg-gray-300 transition"},[d("h3",eM,Z(A.position),1),d("p",tM,Z(A.organizationName||"Unknown Org"),1)],8,QD))),128))])):(M(),B("p",nM," No bookmarked careers found. "))])):(M(),B("div",sM,[I.value.length?(M(),B("div",iM,[(M(!0),B(Ye,null,ct(I.value,A=>(M(),B("div",{key:A.trainingID,onClick:O=>q(A),class:"p-4 border rounded-lg cursor-pointer bg-blue-gray hover:bg-gray-300 transition"},[d("h3",oM,Z(A.title),1),d("p",aM,Z(A.organization?.name||"Unknown Org"),1)],8,rM))),128))])):(M(),B("p",lM," No bookmarked trainings found. "))])),m.value?(M(),B("dialog",cM,[d("div",uM,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:L},"  "),V(m.value)?(M(),B("div",dM,[d("h2",hM,Z(m.value.title),1),d("p",fM," Organization: "+Z(m.value.organization?.name||"Unknown Org"),1),d("div",pM,[d("button",{class:"btn btn-outline btn-sm",onClick:ae[7]||(ae[7]=A=>F(m.value))},Z(H(m.value)?"Bookmarked":"Bookmark"),1),d("button",{class:ft(["btn bg-customButton btn-sm text-white",o.value.has(m.value.trainingID)?"bg-gray-500":"bg-customButton"]),onClick:ae[8]||(ae[8]=A=>D(m.value))},Z(o.value.has(m.value.trainingID)?"Registered":"Register"),3)]),d("p",null,[ae[20]||(ae[20]=d("strong",null,"Mode:",-1)),Re(" "+Z(m.value.mode||"Not specified"),1)]),d("p",null,[ae[21]||(ae[21]=d("strong",null,"Description:",-1)),Re(" "+Z(m.value.description),1)]),m.value.mode?.toLowerCase()==="online"?(M(),B("p",gM,[ae[22]||(ae[22]=d("strong",null,"Link:",-1)),d("a",{href:m.value.trainingLink,target:"_blank",class:"text-blue-500 underline"},Z(m.value.trainingLink),9,mM)])):(M(),B("p",vM,[ae[23]||(ae[23]=d("strong",null,"Location:",-1)),Re(" "+Z(m.value.location),1)])),fe.isRegistered?(M(),B("div",bM,[m.value.attendance_key&&!f.value?(M(),B("div",yM,[wt(ll,{value:m.value.attendance_key,size:120},null,8,["value"]),d("p",wM," Expires in: "+Z(p.value),1)])):(M(),B("div",_M,ae[24]||(ae[24]=[d("p",{class:"text-sm text-gray-500"}," QR code not yet generated or expired. ",-1)])))])):Ce("",!0)])):(M(),B("div",xM,[d("h2",CM,Z(m.value.position),1),d("p",kM," Organization: "+Z(m.value.organizationName||"Unknown Org"),1),d("div",SM,[d("button",{class:"btn btn-outline btn-sm",onClick:ae[9]||(ae[9]=A=>F(m.value))},Z(H(m.value)?"Bookmarked":"Bookmark"),1),d("button",{class:"btn btn-sm bg-customButton text-white",onClick:ae[10]||(ae[10]=A=>P(m.value)),disabled:h.value.has(Number(m.value?.careerID))},Z(h.value.has(Number(m.value?.careerID))?"Applied":"Apply"),9,AM)]),d("p",null,[ae[25]||(ae[25]=d("strong",null,"Details:",-1)),Re(" "+Z(m.value.detailsAndInstructions),1)]),d("p",null,[ae[26]||(ae[26]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(m.value.qualifications),1)]),d("p",null,[ae[27]||(ae[27]=d("strong",null,"Requirements:",-1)),Re(" "+Z(m.value.requirements),1)]),d("p",null,[ae[28]||(ae[28]=d("strong",null,"Application Address:",-1)),Re(" "+Z(m.value.applicationLetterAddress),1)]),d("p",null,[ae[29]||(ae[29]=d("strong",null,"Deadline:",-1)),Re(" "+Z(j(m.value.deadlineOfSubmission)),1)])]))])])):Ce("",!0),b.value&&h.value?(M(),B("dialog",LM,[d("div",EM,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:ne},"  "),d("h2",TM," Apply for "+Z(m.value?.position),1),d("form",{onSubmit:vt(N,["prevent"])},[d("div",PM,[ae[30]||(ae[30]=d("label",{class:"block text-sm font-medium mb-1"},"Upload PDF Requirements",-1)),d("input",{type:"file",accept:"application/pdf",onChange:w,required:"",class:"file-input file-input-bordered w-full"},null,32)]),d("div",NM,[d("button",{type:"button",class:"btn btn-outline btn-sm",onClick:ne}," Cancel "),d("button",{type:"submit",class:"btn bg-customButton hover:bg-dark-slate text-white btn-sm",disabled:h.value.has(Number(m.value?.careerID))},Z(h.value.has(Number(m.value?.careerID))?"Applied":"Submit Application"),9,IM)])],32)])])):Ce("",!0),d("div",OM,[(M(!0),B(Ye,null,ct(a.value,A=>(M(),B("div",{key:A.id,class:ft(["alert",{"alert-info":A.type==="info","alert-success":A.type==="success","alert-accent":A.type==="accent"}])},Z(A.message),3))),128))])])])])])])]))}},MM={class:"min-h-screen p-3 rounded-lg font-poppins"},RM={class:"min-h-screen font-poppins lg:flex"},$M={class:"w-full lg:w-1/4 bg-white rounded-lg shadow p-6 flex flex-col items-center hidden lg:flex"},jM={class:"text-xl font-semibold mb-6"},BM={class:"w-full flex items-center justify-center gap-6 mb-6 relative"},FM={class:"relative"},UM={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},zM={class:"relative"},VM={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},HM={class:"w-full flex flex-col gap-3"},qM={class:"w-full lg:w-3/4 lg:pl-6 lg:mt-0 flex flex-col gap-6"},WM={class:"border bg-white rounded-lg p-4 space-y-4 relative"},GM=["onClick"],KM={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},YM=["onUpdate:modelValue"],ZM=["onChange"],JM={key:0,class:"h-32 w-full flex items-center justify-center border rounded"},XM=["src"],QM={key:1,class:"h-32 w-full flex items-center justify-center border rounded text-gray-400 text-sm"},eR={class:"flex justify-end mt-2"},tR=["onClick"],nR={class:"bg-white rounded-lg shadow p-6 flex-1"},sR={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},iR={class:"relative ml-auto"},rR={key:0,class:"absolute right-0 mt-2 w-44 bg-white border border-gray-200 rounded-md shadow-lg z-10"},oR=["onClick"],aR=["src"],lR={key:1,class:"text-gray-500"},cR={class:"flex justify-between items-center px-4 py-3"},uR={class:"text-gray-800 font-medium truncate w-2/3"},dR={class:"flex items-center gap-3"},hR={class:"flex items-center justify-center",title:"Show on Resume"},fR=["checked","onChange"],pR=["onClick"],gR={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},mR={class:"bg-white rounded-lg shadow-lg max-w-3xl w-full p-4 relative"},vR=["src","alt"],bR={class:"fixed top-5 right-5 space-y-2 z-50"},yR={key:1,class:"fixed inset-0 flex items-center justify-center z-50"},wR={class:"bg-white p-6 rounded-xl shadow-xl w-80 text-center"},_R={class:"text-sm text-gray-600 mb-5"},xR={class:"flex justify-center gap-3"},CR={__name:"Certificatespage",setup(t){const e=le([]),n=js(),s=le([]),i=le([]),r=le(""),o=le(!1),a=le(null),l=le(null),c=le(0),u=le(0);function h(){s.value.push({title:"",image:null,file:null})}function p(j){s.value.splice(j,1)}function f(){b(),console.log("upcoming:",c.value,"completed:",u.value),setInterval(b,60*1e3)}function m(j,F){const D=j.target.files[0];if(!D)return;const N=new FileReader;N.onload=ee=>{s.value[F].image=ee.target.result,s.value[F].file=D},N.readAsDataURL(D)}async function b(){try{const j=localStorage.getItem("token");if(!j)return;const D=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${j}`}})).data||[];let N=0,ee=0;const fe=new Date().getTime();D.forEach(ae=>{console.log("end_time:",ae.end_time,"parsed:",Date.parse(ae.end_time));const A=(ae.registrationStatus||"").toLowerCase(),O=ae.end_time?fe>Date.parse(ae.end_time):!1;A==="completed"||O?ee++:["upcoming","registered"].includes(A)&&N++}),c.value=N,u.value=ee}catch(j){console.error(" Error fetching training counters:",j)}}async function y(j){try{const F=localStorage.getItem("token"),D=await Le.get(`https://pathfinder-development-production.up.railway.app/api/certificates/${j}`,{headers:{Authorization:`Bearer ${F}`}});i.value=D.data.map(N=>({certificationID:N.certificationID,certificationName:N.certificationName,image:N.certificate,IsSelected:N.IsSelected===1}))}catch(F){console.error(" Error fetching certificates:",F.response?.data||F)}}async function w(j,F){const D=localStorage.getItem("token"),N=JSON.parse(localStorage.getItem("user"));if(!D||!N){console.error("No token or user found");return}if(!(j.file instanceof File)){console.error(" cert.file is not a valid File object:",j.file);return}const ee=new FormData;ee.append("certificationName",j.title||"Untitled"),ee.append("certificate",j.file),ee.append("applicantID",N.applicantID);try{const fe=await Le.post("https://pathfinder-development-production.up.railway.app/api/certificates",ee,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"multipart/form-data"}});console.log(" Upload success:",fe.data),s.value.splice(F,1),await y(N.applicantID),q(`Certificate "${j.title||"Untitled"}" uploaded successfully!`,"success")}catch(fe){console.error(" Upload error:",fe.response?.data||fe),q("Failed to upload certificate","error")}}const C=le(!1),k=le(null);function S(j){k.value=j,C.value=!0}async function I(){const j=localStorage.getItem("token"),F=k.value.certificationID||k.value.id;try{await Le.delete(`https://pathfinder-development-production.up.railway.app/api/certificates/${F}`,{headers:{Authorization:`Bearer ${j}`}}),i.value=i.value.filter(D=>D.certificationID!==F&&D.id!==F),q("Certificate deleted successfully","success")}catch(D){console.error(" Delete error:",D.response?.data||D),q("Failed to delete certificate","error")}finally{C.value=!1,k.value=null}}async function z(j){const F=localStorage.getItem("token");try{const D=j.certificationID||j.id,N=await Le.patch(`https://pathfinder-development-production.up.railway.app/api/certificates/${D}/toggle`,{},{headers:{Authorization:`Bearer ${F}`}});j.IsSelected=N.data.IsSelected===1||N.data.IsSelected===!0,q(j.IsSelected?`"${j.certificationName}" added to resume!`:`"${j.certificationName}" removed from resume!`,"success")}catch(D){console.error(" Toggle selection error:",D.response?.data||D),q("Failed to update selection","error")}}function H(j,F){a.value=j,l.value=F,o.value=!0}function U(){o.value=!1}function T(){localStorage.removeItem("user"),n.push({name:"Login"})}It(async()=>{const j=localStorage.getItem("user");if(j){const F=JSON.parse(j);r.value=F.firstName&&F.lastName?`${F.firstName} ${F.lastName}`:"Guest",F.applicantID&&await y(F.applicantID)}else r.value="Guest";f(),await b()});function q(j,F="success",D=3e3){const N=Date.now();e.value.push({id:N,message:j,type:F}),setTimeout(()=>{e.value=e.value.filter(ee=>ee.id!==N)},D)}const L=le(!1),P=()=>{L.value=!L.value},ne=async()=>{const j=localStorage.getItem("token");try{await Promise.all(i.value.map(async F=>{if(!F.IsSelected){const D=F.certificationID||F.id;await Le.patch(`https://pathfinder-development-production.up.railway.app/api/certificates/${D}/toggle`,{},{headers:{Authorization:`Bearer ${j}`}}),F.IsSelected=!0}})),q("All certificates selected for resume!","success")}catch(F){console.error("Error selecting all certificates:",F),q("Failed to select all certificates","error")}finally{L.value=!1}},V=async()=>{const j=localStorage.getItem("token");try{await Promise.all(i.value.map(async F=>{if(F.IsSelected){const D=F.certificationID||F.id;await Le.patch(`https://pathfinder-development-production.up.railway.app/api/certificates/${D}/toggle`,{},{headers:{Authorization:`Bearer ${j}`}}),F.IsSelected=!1}})),q("All certificates removed from resume!","success")}catch(F){console.error("Error deselecting all certificates:",F),q("Failed to deselect all certificates","error")}finally{L.value=!1}};return(j,F)=>(M(),B("div",MM,[d("div",RM,[d("div",$M,[F[13]||(F[13]=d("div",{class:"w-24 h-24 rounded-full bg-white mb-4"},[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar",class:"w-full h-full object-cover rounded-full"})],-1)),d("h2",jM,Z(r.value),1),d("div",BM,[d("div",FM,[F[5]||(F[5]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Upcoming")],-1)),d("span",UM,Z(c.value),1)]),d("div",zM,[F[6]||(F[6]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Completed")],-1)),d("span",VM,Z(u.value),1)])]),d("div",HM,[d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:F[0]||(F[0]=D=>j.$router.push({name:"ResumeEditorpage"}))},F[7]||(F[7]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M19.8333 3.21521V9.06681C19.8333 9.86022 19.8333 10.2569 19.9877 10.56C20.1235 10.8265 20.3402 11.0432 20.6068 11.1791C20.9098 11.3335 21.3066 11.3335 22.1 11.3335H27.9516M22.6666 18.4167H11.3333M22.6666 24.0834H11.3333M14.1666 12.75H11.3333M19.8333 2.83337H12.4666C10.0864 2.83337 8.89629 2.83337 7.98717 3.2966C7.18748 3.70406 6.53731 4.35423 6.12985 5.15391C5.66663 6.06304 5.66663 7.25315 5.66663 9.63337V24.3667C5.66663 26.7469 5.66663 27.937 6.12985 28.8462C6.53731 29.6459 7.18748 30.296 7.98717 30.7035C8.89629 31.1667 10.0864 31.1667 12.4666 31.1667H21.5333C23.9135 31.1667 25.1036 31.1667 26.0128 30.7035C26.8124 30.296 27.4626 29.6459 27.8701 28.8462C28.3333 27.937 28.3333 26.7469 28.3333 24.3667V11.3334L19.8333 2.83337Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Resume",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:F[1]||(F[1]=D=>j.$router.push({name:"Certificatespage"}))},F[8]||(F[8]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M9.47917 29.1666H7.29167C5.68084 29.1666 4.375 27.8608 4.375 26.25V5.83329C4.375 4.22246 5.68084 2.91663 7.29167 2.91663H27.7083C29.3192 2.91663 30.625 4.22246 30.625 5.83329V26.25C30.625 27.8608 29.3192 29.1666 27.7083 29.1666H25.5208M17.5 27.7083C19.9162 27.7083 21.875 25.7495 21.875 23.3333C21.875 20.917 19.9162 18.9583 17.5 18.9583C15.0838 18.9583 13.125 20.917 13.125 23.3333C13.125 25.7495 15.0838 27.7083 17.5 27.7083ZM17.5 27.7083L17.5313 27.708L12.8751 32.3641L8.75036 28.2393L13.1537 23.836M17.5 27.7083L22.1562 32.3641L26.281 28.2393L21.8777 23.836M13.125 8.74996H21.875M10.2083 13.8541H24.7917",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Certificates",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:F[2]||(F[2]=D=>j.$router.push({name:"Bookmarkpage"}))},F[9]||(F[9]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M7.75 3.75V30L17.4375 20.625L27.125 30V3.75H7.75ZM23.25 0H3.875V26.25L5.8125 24.375V1.875H23.25V0Z",fill:"white"})],-1),d("span",null,"Bookmark",-1)])),F[12]||(F[12]=d("div",{class:"divider"},null,-1)),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:F[3]||(F[3]=D=>j.$router.push({name:"UpdateDeletepage"}))},F[10]||(F[10]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"white"})],-1),d("span",null,"Account Setting",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:T},F[11]||(F[11]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z",fill:"white"}),d("path",{d:"M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z",fill:"white"}),d("path",{d:"M5.84994 16.1C5.65994 16.1 5.46994 16.03 5.31994 15.88L1.96994 12.53C1.67994 12.24 1.67994 11.76 1.96994 11.47L5.31994 8.12003C5.60994 7.83003 6.08994 7.83003 6.37994 8.12003C6.66994 8.41003 6.66994 8.89003 6.37994 9.18003L3.55994 12L6.37994 14.82C6.66994 15.11 6.66994 15.59 6.37994 15.88C6.23994 16.03 6.03994 16.1 5.84994 16.1Z",fill:"white"})],-1),d("span",null,"Logout",-1)]))])]),d("div",qM,[d("div",WM,[d("div",{class:"flex justify-between items-center"},[F[14]||(F[14]=d("h2",{class:"text-lg font-semibold"},"Upload Certificates",-1)),d("button",{type:"button",onClick:h,class:"w-8 h-8 flex items-center justify-center rounded-full bg-customButton text-white hover:bg-dark-slate"}," + ")]),(M(!0),B(Ye,null,ct(s.value,(D,N)=>(M(),B("div",{key:N,class:"space-y-2 border p-3 rounded relative"},[d("button",{type:"button",onClick:ee=>p(N),class:"absolute top-2 right-2 text-gray-500 hover:text-red-500"},"  ",8,GM),d("div",KM,[Ue(d("input",{"onUpdate:modelValue":ee=>D.title=ee,type:"text",placeholder:"Certificate Title",class:"input-field border rounded p-2"},null,8,YM),[[We,D.title]]),d("input",{type:"file",accept:"image/*",class:"file-input",onChange:ee=>m(ee,N)},null,40,ZM)]),D.image?(M(),B("div",JM,[d("img",{src:D.image,alt:"Preview",class:"h-32 object-cover rounded-lg"},null,8,XM)])):(M(),B("div",QM," Certificate Preview ")),d("div",eR,[d("button",{type:"button",onClick:ee=>w(D,N),class:"px-4 py-2 bg-customButton text-white rounded hover:bg-dark-slate"}," Upload ",8,tR)])]))),128))]),d("div",nR,[d("div",sR,[F[16]||(F[16]=d("div",{class:"text-gray-500"}," Select certificates to appear in the resume. ",-1)),d("div",iR,[d("button",{onClick:P,class:"bg-customButton hover:bg-dark-slate text-white text-sm px-3 py-2 rounded-md transition"}," Manage Selection  "),L.value?(M(),B("div",rR,[d("button",{onClick:ne,class:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100"}," Select All "),d("button",{onClick:V,class:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100"}," Deselect All ")])):Ce("",!0)]),(M(!0),B(Ye,null,ct(i.value,(D,N)=>(M(),B("div",{key:"uploaded-"+N,class:"flex flex-col bg-white shadow rounded-lg overflow-hidden relative"},[d("div",{class:"w-full h-48 bg-gray-200 flex items-center justify-center cursor-pointer hover:opacity-90 transition",onClick:ee=>H(D.image,D.title)},[D.image?(M(),B("img",{key:0,src:D.image,alt:"Certificate Image",class:"h-full w-full object-cover"},null,8,aR)):(M(),B("span",lR,"No Image"))],8,oR),d("div",cR,[d("p",uR,Z(D.certificationName),1),d("div",dR,[d("div",hR,[d("input",{type:"checkbox",checked:D.IsSelected,onChange:()=>z(D),class:"w-4 h-4 accent-customButton cursor-pointer"},null,40,fR)]),d("button",{onClick:vt(ee=>S(D),["stop"]),title:"Delete certificate"},F[15]||(F[15]=[d("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M7 21C6.45 21 5.97917 20.8042 5.5875 20.4125C5.19583 20.0208 5 19.55 5 19V6H4V4H9V3H15V4H20V6H19V19C19 19.55 18.8042 20.0208 18.4125 20.4125C18.0208 20.8042 17.55 21 17 21H7ZM17 6H7V19H17V6ZM9 17H11V8H9V17ZM13 17H15V8H13V17Z",fill:"#7A838F"})],-1)]),8,pR)])])]))),128))]),o.value?(M(),B("div",gR,[d("div",mR,[d("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:U},"  "),d("img",{src:a.value,alt:l.value,class:"max-h-[80vh] w-auto mx-auto rounded"},null,8,vR)])])):Ce("",!0),d("div",bR,[(M(!0),B(Ye,null,ct(e.value,D=>(M(),B("div",{key:D.id,class:ft(["px-4 py-2 rounded shadow ",D.type==="success"?"bg-white text-black":D.type==="error"?"bg-red-500 text-white":"bg-gray-500"])},Z(D.message),3))),128))]),C.value?(M(),B("div",yR,[d("div",wR,[F[19]||(F[19]=d("h3",{class:"text-lg font-semibold mb-3 text-gray-800"}," Delete Certificate? ",-1)),d("p",_R,[F[17]||(F[17]=Re(" Are you sure you want to delete ")),d("strong",null,Z(k.value?.certificationName||k.value?.title),1),F[18]||(F[18]=Re("? This action cannot be undone. "))]),d("div",xR,[d("button",{onClick:F[4]||(F[4]=D=>C.value=!1),class:"px-4 py-2 bg-gray-300 rounded-lg text-gray-800 hover:bg-gray-400"}," Cancel "),d("button",{onClick:I,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Delete ")])])])):Ce("",!0)])])])]))}},kR={class:"min-h-screen p-3 rounded-lg font-poppins"},SR={class:"min-h-screen font-poppins lg:flex"},AR={class:"w-full lg:w-1/4 lg:mr-3 bg-white rounded-lg shadow p-6 flex flex-col items-center hidden lg:flex"},LR={class:"text-xl font-semibold mb-6"},ER={class:"w-full flex items-center justify-center gap-6 mb-6 relative"},TR={class:"relative"},PR={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},NR={class:"relative"},IR={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},OR={class:"w-full flex flex-col gap-3"},DR={class:"w-full lg:mt-0 lg:ml-3 flex flex-col gap-6"},MR={class:"bg-white rounded-lg shadow p-6 flex-1"},RR={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},$R={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},jR={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},BR={class:"w-full"},FR={key:0,class:"text-red-500 text-sm mt-1"},UR={__name:"UpdateDeletepage",setup(t){const e=js(),n=le(0),s=le(0),i=le({firstName:"",middleName:"",lastName:"",address:"",emailAddress:"",phoneNumber:"",newPassword:"",confirmPassword:"",currentPassword:""}),r=le(""),o=Xt(()=>!i.value.newPassword&&!i.value.confirmPassword?!0:i.value.newPassword===i.value.confirmPassword),a=Xt(()=>o.value?"border-gray-300":"border-red-500"),l=Xt(()=>i.value.confirmPassword&&!o.value);It(async()=>{c();try{const f=(await Le.get("https://pathfinder-development-production.up.railway.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;console.log(i.value.newPassword,i.value.confirmPassword),i.value={...i.value,firstName:f.firstName||f.first_name||"",middleName:f.middleName||f.middle_name||"",lastName:f.lastName||f.last_name||"",emailAddress:f.emailAddress||f.email||"",phoneNumber:f.phoneNumber||f.phone||"",address:f.address||""},r.value=`${i.value.firstName} ${i.value.lastName}`.trim(),localStorage.setItem("user",JSON.stringify(f))}catch(p){console.error("API failed, fallback to localStorage:",p);const f=localStorage.getItem("user");if(f){const m=JSON.parse(f);i.value={...i.value,firstName:m.firstName||m.first_name||"",middleName:m.middleName||m.middle_name||"",lastName:m.lastName||m.last_name||"",emailAddress:m.emailAddress||m.email||"",phoneNumber:m.phoneNumber||m.phone||"",address:m.address||""},r.value=`${i.value.firstName} ${i.value.lastName}`.trim()}}});async function c(){try{const p=localStorage.getItem("token");if(!p)return;const m=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${p}`}})).data||[];let b=0,y=0;const w=new Date().getTime();m.forEach(C=>{const k=(C.registrationStatus||"").toLowerCase(),S=C.end_time?w>new Date(C.end_time).getTime():!1;k==="completed"||S?y++:["upcoming","registered"].includes(k)&&b++}),n.value=b,s.value=y}catch(p){console.error(" Error fetching training counters:",p)}}const u=async()=>{const p=localStorage.getItem("token");if(!p){alert("You are not logged in.");return}try{if(await Le.put("https://pathfinder-development-production.up.railway.app/api/user",i.value,{headers:{Authorization:`Bearer ${p}`}}),i.value.newPassword!==i.value.confirmPassword){alert("New password and confirmation do not match.");return}i.value.currentPassword&&i.value.newPassword&&i.value.confirmPassword&&(await Le.post("https://pathfinder-development-production.up.railway.app/api/update-password",{currentPassword:i.value.currentPassword,newPassword:i.value.newPassword,newPassword_confirmation:i.value.confirmPassword},{headers:{Authorization:`Bearer ${p}`}}),alert("Password updated successfully!"),i.value.currentPassword="",i.value.newPassword="",i.value.confirmPassword=""),alert("Profile updated successfully!"),i.value.currentPassword=""}catch(f){console.error("Error during update:",f),alert(f.response?.data?.message||"Update failed.")}},h=()=>{localStorage.removeItem("user"),e.push({name:"Login"})};return(p,f)=>(M(),B("div",kR,[d("div",SR,[d("div",AR,[f[21]||(f[21]=d("div",{class:"w-24 h-24 rounded-full bg-white mb-4"},[d("div",{class:"avatar w-24 h-24 rounded-full bg-white mb-4"},[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar",class:"w-full h-full object-cover rounded-full"})])],-1)),d("h2",LR,Z(r.value),1),d("div",ER,[d("div",TR,[f[13]||(f[13]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Upcoming")],-1)),d("span",PR,Z(n.value),1)]),d("div",NR,[f[14]||(f[14]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Completed")],-1)),d("span",IR,Z(s.value),1)])]),d("div",OR,[d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:f[0]||(f[0]=m=>p.$router.push({name:"ResumeEditorpage"}))},f[15]||(f[15]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M19.8333 3.21521V9.06681C19.8333 9.86022 19.8333 10.2569 19.9877 10.56C20.1235 10.8265 20.3402 11.0432 20.6068 11.1791C20.9098 11.3335 21.3066 11.3335 22.1 11.3335H27.9516M22.6666 18.4167H11.3333M22.6666 24.0834H11.3333M14.1666 12.75H11.3333M19.8333 2.83337H12.4666C10.0864 2.83337 8.89629 2.83337 7.98717 3.2966C7.18748 3.70406 6.53731 4.35423 6.12985 5.15391C5.66663 6.06304 5.66663 7.25315 5.66663 9.63337V24.3667C5.66663 26.7469 5.66663 27.937 6.12985 28.8462C6.53731 29.6459 7.18748 30.296 7.98717 30.7035C8.89629 31.1667 10.0864 31.1667 12.4666 31.1667H21.5333C23.9135 31.1667 25.1036 31.1667 26.0128 30.7035C26.8124 30.296 27.4626 29.6459 27.8701 28.8462C28.3333 27.937 28.3333 26.7469 28.3333 24.3667V11.3334L19.8333 2.83337Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Resume",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:f[1]||(f[1]=m=>p.$router.push({name:"Certificatespage"}))},f[16]||(f[16]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M9.47917 29.1666H7.29167C5.68084 29.1666 4.375 27.8608 4.375 26.25V5.83329C4.375 4.22246 5.68084 2.91663 7.29167 2.91663H27.7083C29.3192 2.91663 30.625 4.22246 30.625 5.83329V26.25C30.625 27.8608 29.3192 29.1666 27.7083 29.1666H25.5208M17.5 27.7083C19.9162 27.7083 21.875 25.7495 21.875 23.3333C21.875 20.917 19.9162 18.9583 17.5 18.9583C15.0838 18.9583 13.125 20.917 13.125 23.3333C13.125 25.7495 15.0838 27.7083 17.5 27.7083ZM17.5 27.7083L17.5313 27.708L12.8751 32.3641L8.75036 28.2393L13.1537 23.836M17.5 27.7083L22.1562 32.3641L26.281 28.2393L21.8777 23.836M13.125 8.74996H21.875M10.2083 13.8541H24.7917",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Certificates",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:f[2]||(f[2]=m=>p.$router.push({name:"Bookmarkpage"}))},f[17]||(f[17]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M7.75 3.75V30L17.4375 20.625L27.125 30V3.75H7.75ZM23.25 0H3.875V26.25L5.8125 24.375V1.875H23.25V0Z",fill:"white"})],-1),d("span",null,"Bookmark",-1)])),f[20]||(f[20]=d("div",{class:"divider"},null,-1)),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:f[3]||(f[3]=m=>p.$router.push({name:"UpdateDeletepage"}))},f[18]||(f[18]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"white"})],-1),d("span",null,"Account Setting",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:h},f[19]||(f[19]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z",fill:"white"}),d("path",{d:"M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z",fill:"white"}),d("path",{d:"M5.84994 16.1C5.65994 16.1 5.46994 16.03 5.31994 15.88L1.96994 12.53C1.67994 12.24 1.67994 11.76 1.96994 11.47L5.31994 8.12003C5.60994 7.83003 6.08994 7.83003 6.37994 8.12003C6.66994 8.41003 6.66994 8.89003 6.37994 9.18003L3.55994 12L6.37994 14.82C6.66994 15.11 6.66994 15.59 6.37994 15.88C6.23994 16.03 6.03994 16.1 5.84994 16.1Z",fill:"white"})],-1),d("span",null,"Logout",-1)]))])]),d("div",DR,[d("div",MR,[f[29]||(f[29]=d("div",{class:"flex justify-start gap-4 mb-4 py-4"},[d("h2",{class:"text-2xl font-bold"},"Account Setting")],-1)),d("form",{onSubmit:vt(u,["prevent"]),class:"space-y-4 pt-4"},[f[22]||(f[22]=d("div",{class:"divider sm:hidden"},null,-1)),d("div",RR,[Ue(d("input",{class:"border border-gray-300 input w-full",type:"text",placeholder:"First Name","onUpdate:modelValue":f[4]||(f[4]=m=>i.value.firstName=m)},null,512),[[We,i.value.firstName]]),Ue(d("input",{class:"border border-gray-300 input w-full",type:"text",placeholder:"Middle Name","onUpdate:modelValue":f[5]||(f[5]=m=>i.value.middleName=m)},null,512),[[We,i.value.middleName]]),Ue(d("input",{class:"border border-gray-300 input w-full",type:"text",placeholder:"Last Name","onUpdate:modelValue":f[6]||(f[6]=m=>i.value.lastName=m)},null,512),[[We,i.value.lastName]])]),f[23]||(f[23]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",null,[Ue(d("input",{class:"border border-gray-300 input w-full",type:"text",placeholder:"Address","onUpdate:modelValue":f[7]||(f[7]=m=>i.value.address=m)},null,512),[[We,i.value.address]])]),f[24]||(f[24]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",$R,[Ue(d("input",{class:"border border-gray-300 input w-full text-gray-600",type:"email",placeholder:"Email","onUpdate:modelValue":f[8]||(f[8]=m=>i.value.emailAddress=m),readonly:""},null,512),[[We,i.value.emailAddress]]),Ue(d("input",{type:"tel",class:"border border-gray-300 input w-full",placeholder:"Phone Number",minlength:"11",maxlength:"11",pattern:"[0-9]*","onUpdate:modelValue":f[9]||(f[9]=m=>i.value.phoneNumber=m)},null,512),[[We,i.value.phoneNumber]])]),f[25]||(f[25]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",jR,[Ue(d("input",{type:"password",class:"border border-gray-300 input w-full",placeholder:"New Password (optional)","onUpdate:modelValue":f[10]||(f[10]=m=>i.value.newPassword=m)},null,512),[[We,i.value.newPassword]]),d("div",BR,[Ue(d("input",{type:"password",class:ft(["border input w-full",a.value]),placeholder:"Confirm New Password","onUpdate:modelValue":f[11]||(f[11]=m=>i.value.confirmPassword=m)},null,2),[[We,i.value.confirmPassword]]),l.value?(M(),B("p",FR," Passwords do not match. ")):Ce("",!0)])]),f[26]||(f[26]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",null,[Ue(d("input",{type:"password",class:"border border-gray-300 input w-full",placeholder:"Current Password","onUpdate:modelValue":f[12]||(f[12]=m=>i.value.currentPassword=m),required:""},null,512),[[We,i.value.currentPassword]])]),f[27]||(f[27]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),f[28]||(f[28]=d("div",{class:"flex justify-end pt-6"},[d("button",{type:"submit",class:"btn bg-customButton hover:bg-dark-slate text-white w-full sm:w-auto"}," Save Changes ")],-1))],32)])])])]))}};function nn(t){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(t)}var Ki=Uint8Array,li=Uint16Array,vg=Int32Array,bg=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yg=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A3=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jy=function(t,e){for(var n=new li(31),s=0;s<31;++s)n[s]=e+=1<<t[s-1];for(var i=new vg(n[30]),s=1;s<30;++s)for(var r=n[s];r<n[s+1];++r)i[r]=r-n[s]<<5|s;return{b:n,r:i}},By=jy(bg,2),zR=By.b,e0=By.r;zR[28]=258,e0[258]=28;var VR=jy(yg,0),L3=VR.r,t0=new li(32768);for(var vn=0;vn<32768;++vn){var Ao=(vn&43690)>>1|(vn&21845)<<1;Ao=(Ao&52428)>>2|(Ao&13107)<<2,Ao=(Ao&61680)>>4|(Ao&3855)<<4,t0[vn]=((Ao&65280)>>8|(Ao&255)<<8)>>1}var Tu=function(t,e,n){for(var s=t.length,i=0,r=new li(e);i<s;++i)t[i]&&++r[t[i]-1];var o=new li(e);for(i=1;i<e;++i)o[i]=o[i-1]+r[i-1]<<1;var a;if(n){a=new li(1<<e);var l=15-e;for(i=0;i<s;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[t0[h]>>l]=c}else for(a=new li(s),i=0;i<s;++i)t[i]&&(a[i]=t0[o[t[i]-1]++]>>15-t[i]);return a},il=new Ki(288);for(var vn=0;vn<144;++vn)il[vn]=8;for(var vn=144;vn<256;++vn)il[vn]=9;for(var vn=256;vn<280;++vn)il[vn]=7;for(var vn=280;vn<288;++vn)il[vn]=8;var x1=new Ki(32);for(var vn=0;vn<32;++vn)x1[vn]=5;var HR=Tu(il,9,0),qR=Tu(x1,5,0),Fy=function(t){return(t+7)/8|0},WR=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ki(t.subarray(e,n))},$r=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8},eu=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8,t[s+2]|=n>>16},Np=function(t,e){for(var n=[],s=0;s<t.length;++s)t[s]&&n.push({s,f:t[s]});var i=n.length,r=n.slice();if(!i)return{t:zy,l:0};if(i==1){var o=new Ki(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(I,z){return I.f-z.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=r[0].s,s=1;s<i;++s)r[s].s>p&&(p=r[s].s);var f=new li(p+1),m=n0(n[u-1],f,0);if(m>e){var s=0,b=0,y=m-e,w=1<<y;for(r.sort(function(z,H){return f[H.s]-f[z.s]||z.f-H.f});s<i;++s){var C=r[s].s;if(f[C]>e)b+=w-(1<<m-f[C]),f[C]=e;else break}for(b>>=y;b>0;){var k=r[s].s;f[k]<e?b-=1<<e-f[k]++-1:++s}for(;s>=0&&b;--s){var S=r[s].s;f[S]==e&&(--f[S],++b)}m=e}return{t:new Ki(f),l:m}},n0=function(t,e,n){return t.s==-1?Math.max(n0(t.l,e,n+1),n0(t.r,e,n+1)):e[t.s]=n},E3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new li(++e),s=0,i=t[0],r=1,o=function(l){n[s++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++r;else{if(!i&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(i),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(i);r=1,i=t[a]}return{c:n.subarray(0,s),n:e}},tu=function(t,e){for(var n=0,s=0;s<e.length;++s)n+=t[s]*e[s];return n},Uy=function(t,e,n){var s=n.length,i=Fy(e+2);t[i]=s&255,t[i+1]=s>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var r=0;r<s;++r)t[i+r+4]=n[r];return(i+4+s)*8},T3=function(t,e,n,s,i,r,o,a,l,c,u){$r(e,u++,n),++i[256];for(var h=Np(i,15),p=h.t,f=h.l,m=Np(r,15),b=m.t,y=m.l,w=E3(p),C=w.c,k=w.n,S=E3(b),I=S.c,z=S.n,H=new li(19),U=0;U<C.length;++U)++H[C[U]&31];for(var U=0;U<I.length;++U)++H[I[U]&31];for(var T=Np(H,7),q=T.t,L=T.l,P=19;P>4&&!q[A3[P-1]];--P);var ne=c+5<<3,V=tu(i,il)+tu(r,x1)+o,j=tu(i,p)+tu(r,b)+o+14+3*P+tu(H,q)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&ne<=V&&ne<=j)return Uy(e,u,t.subarray(l,l+c));var F,D,N,ee;if($r(e,u,1+(j<V)),u+=2,j<V){F=Tu(p,f,0),D=p,N=Tu(b,y,0),ee=b;var fe=Tu(q,L,0);$r(e,u,k-257),$r(e,u+5,z-1),$r(e,u+10,P-4),u+=14;for(var U=0;U<P;++U)$r(e,u+3*U,q[A3[U]]);u+=3*P;for(var ae=[C,I],A=0;A<2;++A)for(var O=ae[A],U=0;U<O.length;++U){var Y=O[U]&31;$r(e,u,fe[Y]),u+=q[Y],Y>15&&($r(e,u,O[U]>>5&127),u+=O[U]>>12)}}else F=HR,D=il,N=qR,ee=x1;for(var U=0;U<a;++U){var he=s[U];if(he>255){var Y=he>>18&31;eu(e,u,F[Y+257]),u+=D[Y+257],Y>7&&($r(e,u,he>>23&31),u+=bg[Y]);var ge=he&31;eu(e,u,N[ge]),u+=ee[ge],ge>3&&(eu(e,u,he>>5&8191),u+=yg[ge])}else eu(e,u,F[he]),u+=D[he]}return eu(e,u,F[256]),u+D[256]},GR=new vg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zy=new Ki(0),KR=function(t,e,n,s,i,r){var o=r.z||t.length,a=new Ki(s+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(s,a.length-i),c=r.l,u=(r.r||0)&7;if(e){u&&(l[0]=r.r>>3);for(var h=GR[e-1],p=h>>13,f=h&8191,m=(1<<n)-1,b=r.p||new li(32768),y=r.h||new li(m+1),w=Math.ceil(n/3),C=2*w,k=function(oe){return(t[oe]^t[oe+1]<<w^t[oe+2]<<C)&m},S=new vg(25e3),I=new li(288),z=new li(32),H=0,U=0,T=r.i||0,q=0,L=r.w||0,P=0;T+2<o;++T){var ne=k(T),V=T&32767,j=y[ne];if(b[V]=j,y[ne]=V,L<=T){var F=o-T;if((H>7e3||q>24576)&&(F>423||!c)){u=T3(t,l,0,S,I,z,U,q,P,T-P,u),q=H=U=0,P=T;for(var D=0;D<286;++D)I[D]=0;for(var D=0;D<30;++D)z[D]=0}var N=2,ee=0,fe=f,ae=V-j&32767;if(F>2&&ne==k(T-ae))for(var A=Math.min(p,F)-1,O=Math.min(32767,T),Y=Math.min(258,F);ae<=O&&--fe&&V!=j;){if(t[T+N]==t[T+N-ae]){for(var he=0;he<Y&&t[T+he]==t[T+he-ae];++he);if(he>N){if(N=he,ee=ae,he>A)break;for(var ge=Math.min(ae,he-2),J=0,D=0;D<ge;++D){var X=T-ae+D&32767,se=b[X],me=X-se&32767;me>J&&(J=me,j=X)}}}V=j,j=b[V],ae+=V-j&32767}if(ee){S[q++]=268435456|e0[N]<<18|L3[ee];var Ee=e0[N]&31,te=L3[ee]&31;U+=bg[Ee]+yg[te],++I[257+Ee],++z[te],L=T+N,++H}else S[q++]=t[T],++I[t[T]]}}for(T=Math.max(T,L);T<o;++T)S[q++]=t[T],++I[t[T]];u=T3(t,l,c,S,I,z,U,q,P,T-P,u),c||(r.r=u&7|l[u/8|0]<<3,u-=7,r.h=y,r.p=b,r.i=T,r.w=L)}else{for(var T=r.w||0;T<o+c;T+=65535){var re=T+65535;re>=o&&(l[u/8|0]=c,re=o),u=Uy(l,u+1,t.subarray(T,re))}r.i=o}return WR(a,0,s+Fy(u)+i)},Vy=function(){var t=1,e=0;return{p:function(n){for(var s=t,i=e,r=n.length|0,o=0;o!=r;){for(var a=Math.min(o+2655,r);o<a;++o)i+=s+=n[o];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}t=s,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},YR=function(t,e,n,s,i){if(!i&&(i={l:1},e.dictionary)){var r=e.dictionary.subarray(-32768),o=new Ki(r.length+t.length);o.set(r),o.set(t,r.length),t=o,i.w=r.length}return KR(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,s,i)},Hy=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},ZR=function(t,e){var n=e.level,s=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Vy();i.p(e.dictionary),Hy(t,2,i.d())}};function s0(t,e){e||(e={});var n=Vy();n.p(t);var s=YR(t,e,e.dictionary?6:2,4);return ZR(s,e),Hy(s,s.length-4,n.d()),s}var JR=typeof TextDecoder<"u"&&new TextDecoder,XR=0;try{JR.decode(zy,{stream:!0}),XR=1}catch{}function QR(t){if(Array.isArray(t))return t}function e$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,i,r,o,a=[],l=!0,c=!1;try{if(r=(n=n.call(t)).next,e!==0)for(;!(l=(s=r.call(n)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function t$(t,e){if(t){if(typeof t=="string")return P3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P3(t,e):void 0}}function n$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3(t,e){return QR(t)||e$(t,e)||t$(t,e)||n$()}function I3(t,e="utf8"){return new TextDecoder(e).decode(t)}const s$=new TextEncoder;function i$(t){return s$.encode(t)}const r$=1024*8,o$=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ip={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class wg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=r$,n={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,r=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof wg)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),s?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,r),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,i=new Uint8Array(s);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const s=Ip[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,r=this.buffer.slice(i,i+s);if(this.littleEndian===o$&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+s));a.reverse();const l=new Ip[n](a.buffer);return this.offset+=s,l.reverse(),l}const o=new Ip[n](r);return this.offset+=s,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let s=0;s<e;s++)n+=this.readChar();return n}readUtf8(e=1){return I3(this.readBytes(e))}decodeText(e=1,n="utf8"){return I3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(i$(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _c(t){let e=t.length;for(;--e>=0;)t[e]=0}const a$=3,l$=258,qy=29,c$=256,u$=c$+1+qy,Wy=30,d$=512,h$=new Array((u$+2)*2);_c(h$);const f$=new Array(Wy*2);_c(f$);const p$=new Array(d$);_c(p$);const g$=new Array(l$-a$+1);_c(g$);const m$=new Array(qy);_c(m$);const v$=new Array(Wy);_c(v$);const b$=(t,e,n,s)=>{let i=t&65535|0,r=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[s++]|0,r=r+i|0;while(--o);i%=65521,r%=65521}return i|r<<16|0};var i0=b$;const y$=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},w$=new Uint32Array(y$()),_$=(t,e,n,s)=>{const i=w$,r=s+n;t^=-1;for(let o=s;o<r;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var or=_$,r0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const x$=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var C$=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const s in n)x$(n,s)&&(t[s]=n[s])}}return t},k$=t=>{let e=0;for(let s=0,i=t.length;s<i;s++)e+=t[s].length;const n=new Uint8Array(e);for(let s=0,i=0,r=t.length;s<r;s++){let o=t[s];n.set(o,i),i+=o.length}return n},Ky={assign:C$,flattenChunks:k$};let Yy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Yy=!1}const Ju=new Uint8Array(256);for(let t=0;t<256;t++)Ju[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ju[254]=Ju[254]=1;var S$=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,s,i,r,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(s=t.charCodeAt(i+1),(s&64512)===56320&&(n=65536+(n-55296<<10)+(s-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),r=0,i=0;r<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(s=t.charCodeAt(i+1),(s&64512)===56320&&(n=65536+(n-55296<<10)+(s-56320),i++)),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|n&63):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|n&63):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|n&63);return e};const A$=(t,e)=>{if(e<65534&&t.subarray&&Yy)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n};var L$=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let s,i;const r=new Array(n*2);for(i=0,s=0;s<n;){let o=t[s++];if(o<128){r[i++]=o;continue}let a=Ju[o];if(a>4){r[i++]=65533,s+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&s<n;)o=o<<6|t[s++]&63,a--;if(a>1){r[i++]=65533;continue}o<65536?r[i++]=o:(o-=65536,r[i++]=55296|o>>10&1023,r[i++]=56320|o&1023)}return A$(r,i)},E$=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Ju[t[n]]>e?n:e},o0={string2buf:S$,buf2string:L$,utf8border:E$};function T$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var P$=T$;const yh=16209,N$=16191;var I$=function(e,n){let s,i,r,o,a,l,c,u,h,p,f,m,b,y,w,C,k,S,I,z,H,U,T,q;const L=e.state;s=e.next_in,T=e.input,i=s+(e.avail_in-5),r=e.next_out,q=e.output,o=r-(n-e.avail_out),a=r+(e.avail_out-257),l=L.dmax,c=L.wsize,u=L.whave,h=L.wnext,p=L.window,f=L.hold,m=L.bits,b=L.lencode,y=L.distcode,w=(1<<L.lenbits)-1,C=(1<<L.distbits)-1;e:do{m<15&&(f+=T[s++]<<m,m+=8,f+=T[s++]<<m,m+=8),k=b[f&w];t:for(;;){if(S=k>>>24,f>>>=S,m-=S,S=k>>>16&255,S===0)q[r++]=k&65535;else if(S&16){I=k&65535,S&=15,S&&(m<S&&(f+=T[s++]<<m,m+=8),I+=f&(1<<S)-1,f>>>=S,m-=S),m<15&&(f+=T[s++]<<m,m+=8,f+=T[s++]<<m,m+=8),k=y[f&C];n:for(;;){if(S=k>>>24,f>>>=S,m-=S,S=k>>>16&255,S&16){if(z=k&65535,S&=15,m<S&&(f+=T[s++]<<m,m+=8,m<S&&(f+=T[s++]<<m,m+=8)),z+=f&(1<<S)-1,z>l){e.msg="invalid distance too far back",L.mode=yh;break e}if(f>>>=S,m-=S,S=r-o,z>S){if(S=z-S,S>u&&L.sane){e.msg="invalid distance too far back",L.mode=yh;break e}if(H=0,U=p,h===0){if(H+=c-S,S<I){I-=S;do q[r++]=p[H++];while(--S);H=r-z,U=q}}else if(h<S){if(H+=c+h-S,S-=h,S<I){I-=S;do q[r++]=p[H++];while(--S);if(H=0,h<I){S=h,I-=S;do q[r++]=p[H++];while(--S);H=r-z,U=q}}}else if(H+=h-S,S<I){I-=S;do q[r++]=p[H++];while(--S);H=r-z,U=q}for(;I>2;)q[r++]=U[H++],q[r++]=U[H++],q[r++]=U[H++],I-=3;I&&(q[r++]=U[H++],I>1&&(q[r++]=U[H++]))}else{H=r-z;do q[r++]=q[H++],q[r++]=q[H++],q[r++]=q[H++],I-=3;while(I>2);I&&(q[r++]=q[H++],I>1&&(q[r++]=q[H++]))}}else if((S&64)===0){k=y[(k&65535)+(f&(1<<S)-1)];continue n}else{e.msg="invalid distance code",L.mode=yh;break e}break}}else if((S&64)===0){k=b[(k&65535)+(f&(1<<S)-1)];continue t}else if(S&32){L.mode=N$;break e}else{e.msg="invalid literal/length code",L.mode=yh;break e}break}}while(s<i&&r<a);I=m>>3,s-=I,m-=I<<3,f&=(1<<m)-1,e.next_in=s,e.next_out=r,e.avail_in=s<i?5+(i-s):5-(s-i),e.avail_out=r<a?257+(a-r):257-(r-a),L.hold=f,L.bits=m};const Il=15,O3=852,D3=592,M3=0,Op=1,R3=2,O$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),D$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),M$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),R$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$$=(t,e,n,s,i,r,o,a)=>{const l=a.bits;let c=0,u=0,h=0,p=0,f=0,m=0,b=0,y=0,w=0,C=0,k,S,I,z,H,U=null,T;const q=new Uint16Array(Il+1),L=new Uint16Array(Il+1);let P=null,ne,V,j;for(c=0;c<=Il;c++)q[c]=0;for(u=0;u<s;u++)q[e[n+u]]++;for(f=l,p=Il;p>=1&&q[p]===0;p--);if(f>p&&(f=p),p===0)return i[r++]=1<<24|64<<16|0,i[r++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&q[h]===0;h++);for(f<h&&(f=h),y=1,c=1;c<=Il;c++)if(y<<=1,y-=q[c],y<0)return-1;if(y>0&&(t===M3||p!==1))return-1;for(L[1]=0,c=1;c<Il;c++)L[c+1]=L[c]+q[c];for(u=0;u<s;u++)e[n+u]!==0&&(o[L[e[n+u]]++]=u);if(t===M3?(U=P=o,T=20):t===Op?(U=O$,P=D$,T=257):(U=M$,P=R$,T=0),C=0,u=0,c=h,H=r,m=f,b=0,I=-1,w=1<<f,z=w-1,t===Op&&w>O3||t===R3&&w>D3)return 1;for(;;){ne=c-b,o[u]+1<T?(V=0,j=o[u]):o[u]>=T?(V=P[o[u]-T],j=U[o[u]-T]):(V=96,j=0),k=1<<c-b,S=1<<m,h=S;do S-=k,i[H+(C>>b)+S]=ne<<24|V<<16|j|0;while(S!==0);for(k=1<<c-1;C&k;)k>>=1;if(k!==0?(C&=k-1,C+=k):C=0,u++,--q[c]===0){if(c===p)break;c=e[n+o[u]]}if(c>f&&(C&z)!==I){for(b===0&&(b=f),H+=h,m=c-b,y=1<<m;m+b<p&&(y-=q[m+b],!(y<=0));)m++,y<<=1;if(w+=1<<m,t===Op&&w>O3||t===R3&&w>D3)return 1;I=C&z,i[I]=f<<24|m<<16|H-r|0}}return C!==0&&(i[H+C]=c-b<<24|64<<16|0),a.bits=f,0};var Pu=$$;const j$=0,Zy=1,Jy=2,{Z_FINISH:$3,Z_BLOCK:B$,Z_TREES:wh,Z_OK:rl,Z_STREAM_END:F$,Z_NEED_DICT:U$,Z_STREAM_ERROR:Ti,Z_DATA_ERROR:Xy,Z_MEM_ERROR:Qy,Z_BUF_ERROR:z$,Z_DEFLATED:j3}=Gy,of=16180,B3=16181,F3=16182,U3=16183,z3=16184,V3=16185,H3=16186,q3=16187,W3=16188,G3=16189,C1=16190,jr=16191,Dp=16192,K3=16193,Mp=16194,Y3=16195,Z3=16196,J3=16197,X3=16198,_h=16199,xh=16200,Q3=16201,ev=16202,tv=16203,nv=16204,sv=16205,Rp=16206,iv=16207,rv=16208,yn=16209,ew=16210,tw=16211,V$=852,H$=592,q$=15,W$=q$,ov=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function G$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<of||e.mode>tw?1:0},nw=t=>{if(cl(t))return Ti;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=of,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(V$),e.distcode=e.distdyn=new Int32Array(H$),e.sane=1,e.back=-1,rl},sw=t=>{if(cl(t))return Ti;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,nw(t)},iw=(t,e)=>{let n;if(cl(t))return Ti;const s=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ti:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=n,s.wbits=e,sw(t))},rw=(t,e)=>{if(!t)return Ti;const n=new G$;t.state=n,n.strm=t,n.window=null,n.mode=of;const s=iw(t,e);return s!==rl&&(t.state=null),s},K$=t=>rw(t,W$);let av=!0,$p,jp;const Y$=t=>{if(av){$p=new Int32Array(512),jp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pu(Zy,t.lens,0,288,$p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pu(Jy,t.lens,0,32,jp,0,t.work,{bits:5}),av=!1}t.lencode=$p,t.lenbits=9,t.distcode=jp,t.distbits=5},ow=(t,e,n,s)=>{let i;const r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),s>=r.wsize?(r.window.set(e.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):(i=r.wsize-r.wnext,i>s&&(i=s),r.window.set(e.subarray(n-s,n-s+i),r.wnext),s-=i,s?(r.window.set(e.subarray(n-s,n),0),r.wnext=s,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0},Z$=(t,e)=>{let n,s,i,r,o,a,l,c,u,h,p,f,m,b,y=0,w,C,k,S,I,z,H,U;const T=new Uint8Array(4);let q,L;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cl(t)||!t.output||!t.input&&t.avail_in!==0)return Ti;n=t.state,n.mode===jr&&(n.mode=Dp),o=t.next_out,i=t.output,l=t.avail_out,r=t.next_in,s=t.input,a=t.avail_in,c=n.hold,u=n.bits,h=a,p=l,U=rl;e:for(;;)switch(n.mode){case of:if(n.wrap===0){n.mode=Dp;break}for(;u<16;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=c&255,T[1]=c>>>8&255,n.check=or(n.check,T,2,0),c=0,u=0,n.mode=B3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=yn;break}if((c&15)!==j3){t.msg="unknown compression method",n.mode=yn;break}if(c>>>=4,u-=4,H=(c&15)+8,n.wbits===0&&(n.wbits=H),H>15||H>n.wbits){t.msg="invalid window size",n.mode=yn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?G3:jr,c=0,u=0;break;case B3:for(;u<16;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==j3){t.msg="unknown compression method",n.mode=yn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=yn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,n.check=or(n.check,T,2,0)),c=0,u=0,n.mode=F3;case F3:for(;u<32;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=or(n.check,T,4,0)),c=0,u=0,n.mode=U3;case U3:for(;u<16;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,n.check=or(n.check,T,2,0)),c=0,u=0,n.mode=z3;case z3:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,n.check=or(n.check,T,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=V3;case V3:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(H=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(s.subarray(r,r+f),H)),n.flags&512&&n.wrap&4&&(n.check=or(n.check,s,f,r)),a-=f,r+=f,n.length-=f),n.length))break e;n.length=0,n.mode=H3;case H3:if(n.flags&2048){if(a===0)break e;f=0;do H=s[r+f++],n.head&&H&&n.length<65536&&(n.head.name+=String.fromCharCode(H));while(H&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=or(n.check,s,f,r)),a-=f,r+=f,H)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=q3;case q3:if(n.flags&4096){if(a===0)break e;f=0;do H=s[r+f++],n.head&&H&&n.length<65536&&(n.head.comment+=String.fromCharCode(H));while(H&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=or(n.check,s,f,r)),a-=f,r+=f,H)break e}else n.head&&(n.head.comment=null);n.mode=W3;case W3:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=yn;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=jr;break;case G3:for(;u<32;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}t.adler=n.check=ov(c),c=0,u=0,n.mode=C1;case C1:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,n.hold=c,n.bits=u,U$;t.adler=n.check=1,n.mode=jr;case jr:if(e===B$||e===wh)break e;case Dp:if(n.last){c>>>=u&7,u-=u&7,n.mode=Rp;break}for(;u<3;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=K3;break;case 1:if(Y$(n),n.mode=_h,e===wh){c>>>=2,u-=2;break e}break;case 2:n.mode=Z3;break;case 3:t.msg="invalid block type",n.mode=yn}c>>>=2,u-=2;break;case K3:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=yn;break}if(n.length=c&65535,c=0,u=0,n.mode=Mp,e===wh)break e;case Mp:n.mode=Y3;case Y3:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(s.subarray(r,r+f),o),a-=f,r+=f,l-=f,o+=f,n.length-=f;break}n.mode=jr;break;case Z3:for(;u<14;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=yn;break}n.have=0,n.mode=J3;case J3:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}n.lens[P[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},U=Pu(j$,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,U){t.msg="invalid code lengths set",n.mode=yn;break}n.have=0,n.mode=X3;case X3:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],w=y>>>24,C=y>>>16&255,k=y&65535,!(w<=u);){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(k<16)c>>>=w,u-=w,n.lens[n.have++]=k;else{if(k===16){for(L=w+2;u<L;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(c>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=yn;break}H=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(k===17){for(L=w+3;u<L;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}c>>>=w,u-=w,H=0,f=3+(c&7),c>>>=3,u-=3}else{for(L=w+7;u<L;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}c>>>=w,u-=w,H=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=yn;break}for(;f--;)n.lens[n.have++]=H}}if(n.mode===yn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=yn;break}if(n.lenbits=9,q={bits:n.lenbits},U=Pu(Zy,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,U){t.msg="invalid literal/lengths set",n.mode=yn;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},U=Pu(Jy,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,U){t.msg="invalid distances set",n.mode=yn;break}if(n.mode=_h,e===wh)break e;case _h:n.mode=xh;case xh:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,n.hold=c,n.bits=u,I$(t,p),o=t.next_out,i=t.output,l=t.avail_out,r=t.next_in,s=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===jr&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],w=y>>>24,C=y>>>16&255,k=y&65535,!(w<=u);){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(C&&(C&240)===0){for(S=w,I=C,z=k;y=n.lencode[z+((c&(1<<S+I)-1)>>S)],w=y>>>24,C=y>>>16&255,k=y&65535,!(S+w<=u);){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=w,u-=w,n.back+=w,n.length=k,C===0){n.mode=sv;break}if(C&32){n.back=-1,n.mode=jr;break}if(C&64){t.msg="invalid literal/length code",n.mode=yn;break}n.extra=C&15,n.mode=Q3;case Q3:if(n.extra){for(L=n.extra;u<L;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ev;case ev:for(;y=n.distcode[c&(1<<n.distbits)-1],w=y>>>24,C=y>>>16&255,k=y&65535,!(w<=u);){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if((C&240)===0){for(S=w,I=C,z=k;y=n.distcode[z+((c&(1<<S+I)-1)>>S)],w=y>>>24,C=y>>>16&255,k=y&65535,!(S+w<=u);){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=w,u-=w,n.back+=w,C&64){t.msg="invalid distance code",n.mode=yn;break}n.offset=k,n.extra=C&15,n.mode=tv;case tv:if(n.extra){for(L=n.extra;u<L;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=yn;break}n.mode=nv;case nv:if(l===0)break e;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=yn;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),b=n.window}else b=i,m=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[o++]=b[m++];while(--f);n.length===0&&(n.mode=xh);break;case sv:if(l===0)break e;i[o++]=n.length,l--,n.mode=xh;break;case Rp:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=s[r++]<<u,u+=8}if(p-=l,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?or(n.check,i,p,o-p):i0(n.check,i,p,o-p)),p=l,n.wrap&4&&(n.flags?c:ov(c))!==n.check){t.msg="incorrect data check",n.mode=yn;break}c=0,u=0}n.mode=iv;case iv:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=s[r++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=yn;break}c=0,u=0}n.mode=rv;case rv:U=F$;break e;case yn:U=Xy;break e;case ew:return Qy;case tw:default:return Ti}return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||p!==t.avail_out&&n.mode<yn&&(n.mode<Rp||e!==$3))&&ow(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?or(n.check,i,p,t.next_out-p):i0(n.check,i,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(n.mode===jr?128:0)+(n.mode===_h||n.mode===Mp?256:0),(h===0&&p===0||e===$3)&&U===rl&&(U=z$),U},J$=t=>{if(cl(t))return Ti;let e=t.state;return e.window&&(e.window=null),t.state=null,rl},X$=(t,e)=>{if(cl(t))return Ti;const n=t.state;return(n.wrap&2)===0?Ti:(n.head=e,e.done=!1,rl)},Q$=(t,e)=>{const n=e.length;let s,i,r;return cl(t)||(s=t.state,s.wrap!==0&&s.mode!==C1)?Ti:s.mode===C1&&(i=1,i=i0(i,e,n,0),i!==s.check)?Xy:(r=ow(t,e,n,n),r?(s.mode=ew,Qy):(s.havedict=1,rl))};var ej=sw,tj=iw,nj=nw,sj=K$,ij=rw,rj=Z$,oj=J$,aj=X$,lj=Q$,cj="pako inflate (from Nodeca project)",Hr={inflateReset:ej,inflateReset2:tj,inflateResetKeep:nj,inflateInit:sj,inflateInit2:ij,inflate:rj,inflateEnd:oj,inflateGetHeader:aj,inflateSetDictionary:lj,inflateInfo:cj};function uj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dj=uj;const aw=Object.prototype.toString,{Z_NO_FLUSH:hj,Z_FINISH:fj,Z_OK:Xu,Z_STREAM_END:Bp,Z_NEED_DICT:Fp,Z_STREAM_ERROR:pj,Z_DATA_ERROR:lv,Z_MEM_ERROR:gj}=Gy;function yd(t){this.options=Ky.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P$,this.strm.avail_out=0;let n=Hr.inflateInit2(this.strm,e.windowBits);if(n!==Xu)throw new Error(r0[n]);if(this.header=new dj,Hr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=o0.string2buf(e.dictionary):aw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Hr.inflateSetDictionary(this.strm,e.dictionary),n!==Xu)))throw new Error(r0[n])}yd.prototype.push=function(t,e){const n=this.strm,s=this.options.chunkSize,i=this.options.dictionary;let r,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?fj:hj,aw.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),r=Hr.inflate(n,o),r===Fp&&i&&(r=Hr.inflateSetDictionary(n,i),r===Xu?r=Hr.inflate(n,o):r===lv&&(r=Fp));n.avail_in>0&&r===Bp&&n.state.wrap>0&&t[n.next_in]!==0;)Hr.inflateReset(n),r=Hr.inflate(n,o);switch(r){case pj:case lv:case Fp:case gj:return this.onEnd(r),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||r===Bp))if(this.options.to==="string"){let l=o0.utf8border(n.output,n.next_out),c=n.next_out-l,u=o0.buf2string(n.output,l);n.next_out=c,n.avail_out=s-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(r===Xu&&a===0)){if(r===Bp)return r=Hr.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};yd.prototype.onData=function(t){this.chunks.push(t)};yd.prototype.onEnd=function(t){t===Xu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ky.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mj(t,e){const n=new yd(e);if(n.push(t),n.err)throw n.msg||r0[n.err];return n.result}var vj=yd,bj=mj,yj={Inflate:vj,inflate:bj};const{Inflate:wj,inflate:_j}=yj;var cv=wj,xj=_j;const lw=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;lw[t]=e}const uv=4294967295;function Cj(t,e,n){let s=t;for(let i=0;i<n;i++)s=lw[(s^e[i])&255]^s>>>8;return s}function kj(t,e){return(Cj(uv,t,e)^uv)>>>0}function dv(t,e,n){const s=t.readUint32(),i=kj(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==s)throw new Error(`CRC mismatch for chunk ${n}. Expected ${s}, found ${i}`)}function cw(t,e,n){for(let s=0;s<n;s++)e[s]=t[s]}function uw(t,e,n,s){let i=0;for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}function dw(t,e,n,s){let i=0;if(n.length===0)for(;i<s;i++)e[i]=t[i];else for(;i<s;i++)e[i]=t[i]+n[i]&255}function hw(t,e,n,s,i){let r=0;if(n.length===0){for(;r<i;r++)e[r]=t[r];for(;r<s;r++)e[r]=t[r]+(e[r-i]>>1)&255}else{for(;r<i;r++)e[r]=t[r]+(n[r]>>1)&255;for(;r<s;r++)e[r]=t[r]+(e[r-i]+n[r]>>1)&255}}function fw(t,e,n,s,i){let r=0;if(n.length===0){for(;r<i;r++)e[r]=t[r];for(;r<s;r++)e[r]=t[r]+e[r-i]&255}else{for(;r<i;r++)e[r]=t[r]+n[r]&255;for(;r<s;r++)e[r]=t[r]+Sj(e[r-i],n[r],n[r-i])&255}}function Sj(t,e,n){const s=t+e-n,i=Math.abs(s-t),r=Math.abs(s-e),o=Math.abs(s-n);return i<=r&&i<=o?t:r<=o?e:n}function Aj(t,e,n,s,i,r){switch(t){case 0:cw(e,n,i);break;case 1:uw(e,n,i,r);break;case 2:dw(e,n,s,i);break;case 3:hw(e,n,s,i,r);break;case 4:fw(e,n,s,i,r);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Lj=new Uint16Array([255]),Ej=new Uint8Array(Lj.buffer),Tj=Ej[0]===255;function Pj(t){const{data:e,width:n,height:s,channels:i,depth:r}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(r/8)*i,l=new Uint8Array(s*n*a);let c=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((s-h.y)/h.yStep);if(p<=0||f<=0)continue;const m=p*a,b=new Uint8Array(m);for(let y=0;y<f;y++){const w=e[c++],C=e.subarray(c,c+m);c+=m;const k=new Uint8Array(m);Aj(w,C,k,b,m,a),b.set(k);for(let S=0;S<p;S++){const I=h.x+S*h.xStep,z=h.y+y*h.yStep;if(!(I>=n||z>=s))for(let H=0;H<a;H++)l[(z*n+I)*a+H]=k[S*a+H]}}}if(r===16){const u=new Uint16Array(l.buffer);if(Tj)for(let h=0;h<u.length;h++)u[h]=Nj(u[h]);return u}else return l}function Nj(t){return(t&255)<<8|t>>8&255}const Ij=new Uint16Array([255]),Oj=new Uint8Array(Ij.buffer),Dj=Oj[0]===255,Mj=new Uint8Array(0);function hv(t){const{data:e,width:n,height:s,channels:i,depth:r}=t,o=Math.ceil(r/8)*i,a=Math.ceil(r/8*i*n),l=new Uint8Array(s*a);let c=Mj,u=0,h,p;for(let f=0;f<s;f++){switch(h=e.subarray(u+1,u+1+a),p=l.subarray(f*a,(f+1)*a),e[u]){case 0:cw(h,p,a);break;case 1:uw(h,p,a,o);break;case 2:dw(h,p,c,a);break;case 3:hw(h,p,c,a,o);break;case 4:fw(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=a+1}if(r===16){const f=new Uint16Array(l.buffer);if(Dj)for(let m=0;m<f.length;m++)f[m]=Rj(f[m]);return f}else return l}function Rj(t){return(t&255)<<8|t>>8&255}const Zh=Uint8Array.of(137,80,78,71,13,10,26,10);function fv(t){if(!$j(t.readBytes(Zh.length)))throw new Error("wrong PNG signature")}function $j(t){if(t.length<Zh.length)return!1;for(let e=0;e<Zh.length;e++)if(t[e]!==Zh[e])return!1;return!0}const jj="tEXt",Bj=0,pw=new TextDecoder("latin1");function Fj(t){if(zj(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Uj=/^[\u0000-\u00FF]*$/;function zj(t){if(!Uj.test(t))throw new Error("invalid latin1 text")}function Vj(t,e,n){const s=gw(e);t[s]=Hj(e,n-s.length-1)}function gw(t){for(t.mark();t.readByte()!==Bj;);const e=t.offset;t.reset();const n=pw.decode(t.readBytes(e-t.offset-1));return t.skip(1),Fj(n),n}function Hj(t,e){return pw.decode(t.readBytes(e))}const ni={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Up={UNKNOWN:-1,DEFLATE:0},pv={UNKNOWN:-1,ADAPTIVE:0},zp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ch={NONE:0,BACKGROUND:1,PREVIOUS:2},Vp={SOURCE:0,OVER:1};class qj extends wg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new cv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Up.UNKNOWN,this._filterMethod=pv.UNKNOWN,this._interlaceMethod=zp.UNKNOWN,this._colorType=ni.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fv(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(fv(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case jj:Vj(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dv(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dv(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Wj(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case ni.GREYSCALE:s=1;break;case ni.TRUECOLOUR:s=3;break;case ni.INDEXED_COLOUR:s=1;break;case ni.GREYSCALE_ALPHA:s=2;break;case ni.TRUECOLOUR_ALPHA:s=4;break;case ni.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Up.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ni.GREYSCALE:case ni.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ni.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ni.UNKNOWN:case ni.GREYSCALE_ALPHA:case ni.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=gw(this),s=this.readUint8();if(s!==Up.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:xj(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=hv({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,s){switch(e.disposeOp){case Ch.NONE:break;case Ch.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let r=0;r<this._png.width;r++){const o=(i*e.width+r)*this._png.channels;for(let a=0;a<this._png.channels;a++)s.data[o+a]=0}break;case Ch.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const s=1<<this._png.depth,i=(r,o)=>{const a=((r+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(r*n.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case Vp.SOURCE:for(let r=0;r<n.height;r++)for(let o=0;o<n.width;o++){const{index:a,frameIndex:l}=i(r,o);for(let c=0;c<this._png.channels;c++)e.data[a+c]=n.data[l+c]}break;case Vp.OVER:for(let r=0;r<n.height;r++)for(let o=0;o<n.width;o++){const{index:a,frameIndex:l}=i(r,o);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/s,h=c%(this._png.channels-1)===0?1:n.data[l+c],p=Math.floor(u*h+(1-u)*e.data[a+c]);e.data[a+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==pv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===zp.NO_INTERLACE)this._png.data=hv({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===zp.ADAM7)this._png.data=Pj({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ch.NONE,blendOp:Vp.SOURCE,data:e}),this._inflator=new cv,this._writingDataChunks=!1}}function Wj(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var gv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(gv||(gv={}));function Gj(t,e){return new qj(t,e).decode()}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hp(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var an={log:Hp,warn:function(t){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):Hp.call(null,arguments))},error:function(t){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):Hp(t))}};function qp(t,e,n){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){$a(s.response,e,n)},s.onerror=function(){an.error("could not download file")},s.send()}function mv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function kh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var $a=_t.saveAs||((typeof window>"u"?"undefined":nn(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var s=_t.URL||_t.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?mv(i.href)?qp(t,e,n):kh(i,i.target="_blank"):kh(i)):(i.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){kh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(mv(t))qp(t,e,n);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){kh(s)})}else navigator.msSaveOrOpenBlob(function(i,r){return r===void 0?r={autoBom:!1}:nn(r)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return qp(t,e,n);var i=t.type==="application/octet-stream",r=/constructor/i.test(_t.HTMLElement)||_t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r)&&(typeof FileReader>"u"?"undefined":nn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},a.readAsDataURL(t)}else{var l=_t.URL||_t.webkitURL,c=l.createObjectURL(t);s?s.location=c:location.href=c,s=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],s=0;s<n.length;s++){var i=n[s].re,r=n[s].process,o=i.exec(t);o&&(e=r(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Jh=_t.atob.bind(_t),vv=_t.btoa.bind(_t);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wp(t,e){var n=t[0],s=t[1],i=t[2],r=t[3];n=_s(n,s,i,r,e[0],7,-680876936),r=_s(r,n,s,i,e[1],12,-389564586),i=_s(i,r,n,s,e[2],17,606105819),s=_s(s,i,r,n,e[3],22,-1044525330),n=_s(n,s,i,r,e[4],7,-176418897),r=_s(r,n,s,i,e[5],12,1200080426),i=_s(i,r,n,s,e[6],17,-1473231341),s=_s(s,i,r,n,e[7],22,-45705983),n=_s(n,s,i,r,e[8],7,1770035416),r=_s(r,n,s,i,e[9],12,-1958414417),i=_s(i,r,n,s,e[10],17,-42063),s=_s(s,i,r,n,e[11],22,-1990404162),n=_s(n,s,i,r,e[12],7,1804603682),r=_s(r,n,s,i,e[13],12,-40341101),i=_s(i,r,n,s,e[14],17,-1502002290),n=xs(n,s=_s(s,i,r,n,e[15],22,1236535329),i,r,e[1],5,-165796510),r=xs(r,n,s,i,e[6],9,-1069501632),i=xs(i,r,n,s,e[11],14,643717713),s=xs(s,i,r,n,e[0],20,-373897302),n=xs(n,s,i,r,e[5],5,-701558691),r=xs(r,n,s,i,e[10],9,38016083),i=xs(i,r,n,s,e[15],14,-660478335),s=xs(s,i,r,n,e[4],20,-405537848),n=xs(n,s,i,r,e[9],5,568446438),r=xs(r,n,s,i,e[14],9,-1019803690),i=xs(i,r,n,s,e[3],14,-187363961),s=xs(s,i,r,n,e[8],20,1163531501),n=xs(n,s,i,r,e[13],5,-1444681467),r=xs(r,n,s,i,e[2],9,-51403784),i=xs(i,r,n,s,e[7],14,1735328473),n=Cs(n,s=xs(s,i,r,n,e[12],20,-1926607734),i,r,e[5],4,-378558),r=Cs(r,n,s,i,e[8],11,-2022574463),i=Cs(i,r,n,s,e[11],16,1839030562),s=Cs(s,i,r,n,e[14],23,-35309556),n=Cs(n,s,i,r,e[1],4,-1530992060),r=Cs(r,n,s,i,e[4],11,1272893353),i=Cs(i,r,n,s,e[7],16,-155497632),s=Cs(s,i,r,n,e[10],23,-1094730640),n=Cs(n,s,i,r,e[13],4,681279174),r=Cs(r,n,s,i,e[0],11,-358537222),i=Cs(i,r,n,s,e[3],16,-722521979),s=Cs(s,i,r,n,e[6],23,76029189),n=Cs(n,s,i,r,e[9],4,-640364487),r=Cs(r,n,s,i,e[12],11,-421815835),i=Cs(i,r,n,s,e[15],16,530742520),n=ks(n,s=Cs(s,i,r,n,e[2],23,-995338651),i,r,e[0],6,-198630844),r=ks(r,n,s,i,e[7],10,1126891415),i=ks(i,r,n,s,e[14],15,-1416354905),s=ks(s,i,r,n,e[5],21,-57434055),n=ks(n,s,i,r,e[12],6,1700485571),r=ks(r,n,s,i,e[3],10,-1894986606),i=ks(i,r,n,s,e[10],15,-1051523),s=ks(s,i,r,n,e[1],21,-2054922799),n=ks(n,s,i,r,e[8],6,1873313359),r=ks(r,n,s,i,e[15],10,-30611744),i=ks(i,r,n,s,e[6],15,-1560198380),s=ks(s,i,r,n,e[13],21,1309151649),n=ks(n,s,i,r,e[4],6,-145523070),r=ks(r,n,s,i,e[11],10,-1120210379),i=ks(i,r,n,s,e[2],15,718787259),s=ks(s,i,r,n,e[9],21,-343485551),t[0]=Mo(n,t[0]),t[1]=Mo(s,t[1]),t[2]=Mo(i,t[2]),t[3]=Mo(r,t[3])}function af(t,e,n,s,i,r){return e=Mo(Mo(e,t),Mo(s,r)),Mo(e<<i|e>>>32-i,n)}function _s(t,e,n,s,i,r,o){return af(e&n|~e&s,t,e,i,r,o)}function xs(t,e,n,s,i,r,o){return af(e&s|n&~s,t,e,i,r,o)}function Cs(t,e,n,s,i,r,o){return af(e^n^s,t,e,i,r,o)}function ks(t,e,n,s,i,r,o){return af(n^(e|~s),t,e,i,r,o)}function vw(t){var e,n=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Wp(s,Kj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Wp(s,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Wp(s,i),s}function Kj(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var bv="0123456789abcdef".split("");function Yj(t){for(var e="",n=0;n<4;n++)e+=bv[t>>8*n+4&15]+bv[t>>8*n&15];return e}function Zj(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function a0(t){return vw(t).map(Zj).join("")}var Jj=function(t){for(var e=0;e<t.length;e++)t[e]=Yj(t[e]);return t.join("")}(vw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mo(t,e){if(Jj){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function l0(t,e){var n,s,i,r;if(t!==n){for(var o=(i=t,r=1+(256/t.length|0),new Array(r+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,s=a}else a=s;var h=e.length,p=0,f=0,m="";for(l=0;l<h;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yv={print:4,modify:8,copy:16,"annot-forms":32};function Ul(t,e,n,s){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(yv.perm!==void 0)throw new Error("Invalid permission: "+a);i+=yv[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^i)),this.encryptionKey=a0(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=l0(this.encryptionKey,this.padding)}function zl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,s=0;s<n;s++){var i=t.charCodeAt(s);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[s]}return e}function wv(t){if(nn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,s,i){if(i=i||!1,typeof n!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var r=Math.random().toString(35);return e[n][r]=[s,!!i],r},this.unsubscribe=function(n){for(var s in e)if(e[s][n])return delete e[s][n],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var r in e[n]){var o=e[n][r];try{o[0].apply(t,s)}catch(a){_t.console&&an.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(r)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function k1(t){if(!(this instanceof k1))return new k1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function bw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Va(t,e,n,s,i){if(!(this instanceof Va))return new Va(t,e,n,s,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,bw.call(this,s,i)}function Hl(t,e,n,s,i){if(!(this instanceof Hl))return new Hl(t,e,n,s,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,bw.call(this,s,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],r=arguments[3],o=[],a=1,l=16,c="S",u=null;nn(t=t||{})==="object"&&(n=t.orientation,s=t.unit||s,i=t.format||i,r=t.compress||t.compressPdf||r,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(r===!0?["FlateEncode"]:o),s=s||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=wv;var m="1.3",b=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(_){m=_};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y};var w=f.__private__.getPageFormat=function(_){return y[_]};i=i||"a4";var C="compat",k="advanced",S=C;function I(){this.saveGraphicsState(),G(new bt(nt,0,0,-nt,0,ha()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),c="n",S=k}function z(){this.restoreGraphicsState(),c="S",S=C}var H=f.__private__.combineFontStyleAndFontWeight=function(_,R){if(_=="bold"&&R=="normal"||_=="bold"&&R==400||_=="normal"&&R=="italic"||_=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(_=R==400||R==="normal"?_==="italic"?"italic":"normal":R!=700&&R!=="bold"||_!=="normal"?(R==700?"bold":R)+""+_:"bold"),_};f.advancedAPI=function(_){var R=S===C;return R&&I.call(this),typeof _!="function"||(_(this),R&&z.call(this)),this},f.compatAPI=function(_){var R=S===k;return R&&z.call(this),typeof _!="function"||(_(this),R&&I.call(this)),this},f.isAdvancedAPI=function(){return S===k};var U,T=function(_){if(S!==k)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=f.roundToPrecision=f.__private__.roundToPrecision=function(_,R){var de=e||R;if(isNaN(_)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(de).replace(/0+$/,"")};U=f.hpf=f.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return q(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return q(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return q(_,16)};var L=f.f2=f.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return q(_,2)},P=f.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return q(_,3)},ne=f.scale=f.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return S===C?_*nt:S===k?_:void 0},V=function(_){return ne(function(R){return S===C?ha()-R:S===k?R:void 0}(_))};f.__private__.setPrecision=f.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var j,F="00000000000000000000000000000000",D=f.__private__.getFileId=function(){return F},N=f.__private__.setFileId=function(_){return F=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(In=new Ul(u.userPermissions,u.userPassword,u.ownerPassword,F)),F};f.setFileId=function(_){return N(_),this},f.getFileId=function(){return D()};var ee=f.__private__.convertDateToPDFDate=function(_){var R=_.getTimezoneOffset(),de=R<0?"+":"-",pe=Math.floor(Math.abs(R/60)),ye=Math.abs(R%60),$e=[de,Y(pe),"'",Y(ye),"'"].join("");return["D:",_.getFullYear(),Y(_.getMonth()+1),Y(_.getDate()),Y(_.getHours()),Y(_.getMinutes()),Y(_.getSeconds()),$e].join("")},fe=f.__private__.convertPDFDateToDate=function(_){var R=parseInt(_.substr(2,4),10),de=parseInt(_.substr(6,2),10)-1,pe=parseInt(_.substr(8,2),10),ye=parseInt(_.substr(10,2),10),$e=parseInt(_.substr(12,2),10),Fe=parseInt(_.substr(14,2),10);return new Date(R,de,pe,ye,$e,Fe,0)},ae=f.__private__.setCreationDate=function(_){var R;if(_===void 0&&(_=new Date),_ instanceof Date)R=ee(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=_}return j=R},A=f.__private__.getCreationDate=function(_){var R=j;return _==="jsDate"&&(R=fe(j)),R};f.setCreationDate=function(_){return ae(_),this},f.getCreationDate=function(_){return A(_)};var O,Y=f.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},he=f.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ge=0,J=[],X=[],se=0,me=[],Ee=[],te=!1,re=X;f.__private__.setCustomOutputDestination=function(_){te=!0,re=_};var oe=function(_){te||(re=_)};f.__private__.resetCustomOutputDestination=function(){te=!1,re=X};var G=f.__private__.out=function(_){return _=_.toString(),se+=_.length+1,re.push(_),re},Pe=f.__private__.write=function(_){return G(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ae=f.__private__.getArrayBuffer=function(_){for(var R=_.length,de=new ArrayBuffer(R),pe=new Uint8Array(de);R--;)pe[R]=_.charCodeAt(R);return de},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return De};var we=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(_){return we=S===k?_/nt:_,this};var Ne,xe=f.__private__.getFontSize=f.getFontSize=function(){return S===C?we:we*nt},Ve=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(_){return Ve=_,this},f.__private__.getR2L=f.getR2L=function(){return Ve};var Ie,qe=f.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Ne=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Ne=_}else Ne=parseInt(_,10)};f.__private__.getZoomMode=function(){return Ne};var He,Ke=f.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ie=_};f.__private__.getPageMode=function(){return Ie};var gt=f.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');He=_};f.__private__.getLayoutMode=function(){return He},f.__private__.setDisplayMode=f.setDisplayMode=function(_,R,de){return qe(_),gt(R),Ke(de),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(_){if(Object.keys(Ze).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[_]},f.__private__.getDocumentProperties=function(){return Ze},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(_){for(var R in Ze)Ze.hasOwnProperty(R)&&_[R]&&(Ze[R]=_[R]);return this},f.__private__.setDocumentProperty=function(_,R){if(Object.keys(Ze).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[_]=R};var Je,nt,Xe,Rt,$t,st={},ht={},Mt=[],mt={},Ft={},Tt={},Nn={},Gn=null,sn=0,Ct=[],Kt=new wv(f),ea=t.hotfixes||[],vs={},wr={},Xi=[],bt=function _(R,de,pe,ye,$e,Fe){if(!(this instanceof _))return new _(R,de,pe,ye,$e,Fe);isNaN(R)&&(R=1),isNaN(de)&&(de=0),isNaN(pe)&&(pe=0),isNaN(ye)&&(ye=1),isNaN($e)&&($e=0),isNaN(Fe)&&(Fe=0),this._matrix=[R,de,pe,ye,$e,Fe]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(_)},bt.prototype.multiply=function(_){var R=_.sx*this.sx+_.shy*this.shx,de=_.sx*this.shy+_.shy*this.sy,pe=_.shx*this.sx+_.sy*this.shx,ye=_.shx*this.shy+_.sy*this.sy,$e=_.tx*this.sx+_.ty*this.shx+this.tx,Fe=_.tx*this.shy+_.ty*this.sy+this.ty;return new bt(R,de,pe,ye,$e,Fe)},bt.prototype.decompose=function(){var _=this.sx,R=this.shy,de=this.shx,pe=this.sy,ye=this.tx,$e=this.ty,Fe=Math.sqrt(_*_+R*R),tt=(_/=Fe)*de+(R/=Fe)*pe;de-=_*tt,pe-=R*tt;var lt=Math.sqrt(de*de+pe*pe);return tt/=lt,_*(pe/=lt)<R*(de/=lt)&&(_=-_,R=-R,tt=-tt,Fe=-Fe),{scale:new bt(Fe,0,0,lt,0,0),translate:new bt(1,0,0,1,ye,$e),rotate:new bt(_,R,-R,_,0,0),skew:new bt(1,0,tt,1,0,0)}},bt.prototype.toString=function(_){return this.join(" ")},bt.prototype.inversed=function(){var _=this.sx,R=this.shy,de=this.shx,pe=this.sy,ye=this.tx,$e=this.ty,Fe=1/(_*pe-R*de),tt=pe*Fe,lt=-R*Fe,xt=-de*Fe,St=_*Fe;return new bt(tt,lt,xt,St,-tt*ye-xt*$e,-lt*ye-St*$e)},bt.prototype.applyToPoint=function(_){var R=_.x*this.sx+_.y*this.shx+this.tx,de=_.x*this.shy+_.y*this.sy+this.ty;return new ua(R,de)},bt.prototype.applyToRectangle=function(_){var R=this.applyToPoint(_),de=this.applyToPoint(new ua(_.x+_.w,_.y+_.h));return new Ic(R.x,R.y,de.x-R.x,de.y-R.y)},bt.prototype.clone=function(){var _=this.sx,R=this.shy,de=this.shx,pe=this.sy,ye=this.tx,$e=this.ty;return new bt(_,R,de,pe,ye,$e)},f.Matrix=bt;var _r=f.matrixMult=function(_,R){return R.multiply(_)},xr=new bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=xr;var ui=function(_,R){if(!Ft[_]){var de=(R instanceof Va?"Sh":"P")+(Object.keys(mt).length+1).toString(10);R.id=de,Ft[_]=de,mt[de]=R,Kt.publish("addPattern",R)}};f.ShadingPattern=Va,f.TilingPattern=Hl,f.addShadingPattern=function(_,R){return T("addShadingPattern()"),ui(_,R),this},f.beginTilingPattern=function(_){T("beginTilingPattern()"),Oc(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},f.endTilingPattern=function(_,R){T("endTilingPattern()"),R.stream=Ee[O].join(`
`),ui(_,R),Kt.publish("endTilingPattern",R),Xi.pop().restore()};var di,Sn=f.__private__.newObject=function(){var _=ss();return ls(_,!0),_},ss=f.__private__.newObjectDeferred=function(){return ge++,J[ge]=function(){return se},ge},ls=function(_,R){return R=typeof R=="boolean"&&R,J[_]=se,R&&G(_+" 0 obj"),_},ta=f.__private__.newAdditionalObject=function(){var _={objId:ss(),content:""};return me.push(_),_},ro=ss(),Ni=ss(),Qi=f.__private__.decodeColorString=function(_){var R=_.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var de=parseFloat(R[0]);R=[de,de,de,"r"]}for(var pe="#",ye=0;ye<3;ye++)pe+=("0"+Math.floor(255*parseFloat(R[ye])).toString(16)).slice(-2);return pe},Ii=f.__private__.encodeColorString=function(_){var R;typeof _=="string"&&(_={ch1:_});var de=_.ch1,pe=_.ch2,ye=_.ch3,$e=_.ch4,Fe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var tt=new mw(de);if(tt.ok)de=tt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var lt=parseInt(de.substr(1),16);de=lt>>16&255,pe=lt>>8&255,ye=255&lt}if(pe===void 0||$e===void 0&&de===pe&&pe===ye)R=typeof de=="string"?de+" "+Fe[0]:_.precision===2?L(de/255)+" "+Fe[0]:P(de/255)+" "+Fe[0];else if($e===void 0||nn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",Fe[1]].join(" ");R=typeof de=="string"?[de,pe,ye,Fe[1]].join(" "):_.precision===2?[L(de/255),L(pe/255),L(ye/255),Fe[1]].join(" "):[P(de/255),P(pe/255),P(ye/255),Fe[1]].join(" ")}else R=typeof de=="string"?[de,pe,ye,$e,Fe[2]].join(" "):_.precision===2?[L(de),L(pe),L(ye),L($e),Fe[2]].join(" "):[P(de),P(pe),P(ye),P($e),Fe[2]].join(" ");return R},Oi=f.__private__.getFilters=function(){return o},hi=f.__private__.putStream=function(_){var R=(_=_||{}).data||"",de=_.filters||Oi(),pe=_.alreadyAppliedFilters||[],ye=_.addLength1||!1,$e=R.length,Fe=_.objectId,tt=function(Kn){return Kn};if(u!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tt=In.encryptor(Fe,0));var lt={};de===!0&&(de=["FlateEncode"]);var xt=_.additionalKeyValues||[],St=(lt=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(R,de):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(lt.data.length!==0&&(xt.push({key:"Length",value:lt.data.length}),ye===!0&&xt.push({key:"Length1",value:$e})),St.length!=0)if(St.split("/").length-1==1)xt.push({key:"Filter",value:St});else{xt.push({key:"Filter",value:"["+St+"]"});for(var Gt=0;Gt<xt.length;Gt+=1)if(xt[Gt].key==="DecodeParms"){for(var xn=[],Vn=0;Vn<lt.reverseChain.split("/").length-1;Vn+=1)xn.push("null");xn.push(xt[Gt].value),xt[Gt].value="["+xn.join(" ")+"]"}}G("<<");for(var un=0;un<xt.length;un++)G("/"+xt[un].key+" "+xt[un].value);G(">>"),lt.data.length!==0&&(G("stream"),G(tt(lt.data)),G("endstream"))},na=f.__private__.putPage=function(_){var R=_.number,de=_.data,pe=_.objId,ye=_.contentsObjId;ls(pe,!0),G("<</Type /Page"),G("/Parent "+_.rootDictionaryObjId+" 0 R"),G("/Resources "+_.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(U(_.mediaBox.bottomLeftX))+" "+parseFloat(U(_.mediaBox.bottomLeftY))+" "+U(_.mediaBox.topRightX)+" "+U(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&G("/CropBox ["+U(_.cropBox.bottomLeftX)+" "+U(_.cropBox.bottomLeftY)+" "+U(_.cropBox.topRightX)+" "+U(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&G("/BleedBox ["+U(_.bleedBox.bottomLeftX)+" "+U(_.bleedBox.bottomLeftY)+" "+U(_.bleedBox.topRightX)+" "+U(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&G("/TrimBox ["+U(_.trimBox.bottomLeftX)+" "+U(_.trimBox.bottomLeftY)+" "+U(_.trimBox.topRightX)+" "+U(_.trimBox.topRightY)+"]"),_.artBox!==null&&G("/ArtBox ["+U(_.artBox.bottomLeftX)+" "+U(_.artBox.bottomLeftY)+" "+U(_.artBox.topRightX)+" "+U(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&G("/UserUnit "+_.userUnit),Kt.publish("putPage",{objId:pe,pageContext:Ct[R],pageNumber:R,page:de}),G("/Contents "+ye+" 0 R"),G(">>"),G("endobj");var $e=de.join(`
`);return S===k&&($e+=`
Q`),ls(ye,!0),hi({data:$e,filters:Oi(),objectId:ye}),G("endobj"),pe},er=f.__private__.putPages=function(){var _,R,de=[];for(_=1;_<=sn;_++)Ct[_].objId=ss(),Ct[_].contentsObjId=ss();for(_=1;_<=sn;_++)de.push(na({number:_,data:Ee[_],objId:Ct[_].objId,contentsObjId:Ct[_].contentsObjId,mediaBox:Ct[_].mediaBox,cropBox:Ct[_].cropBox,bleedBox:Ct[_].bleedBox,trimBox:Ct[_].trimBox,artBox:Ct[_].artBox,userUnit:Ct[_].userUnit,rootDictionaryObjId:ro,resourceDictionaryObjId:Ni}));ls(ro,!0),G("<</Type /Pages");var pe="/Kids [";for(R=0;R<sn;R++)pe+=de[R]+" 0 R ";G(pe+"]"),G("/Count "+sn),G(">>"),G("endobj"),Kt.publish("postPutPages")},sa=function(_){Kt.publish("putFont",{font:_,out:G,newObject:Sn,putStream:hi}),_.isAlreadyPutted!==!0&&(_.objectNumber=Sn(),G("<<"),G("/Type /Font"),G("/BaseFont /"+zl(_.postScriptName)),G("/Subtype /Type1"),typeof _.encoding=="string"&&G("/Encoding /"+_.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},hl=function(_){_.objectNumber=Sn();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[U(_.x),U(_.y),U(_.x+_.width),U(_.y+_.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var de=_.pages[1].join(`
`);hi({data:de,additionalKeyValues:R,objectId:_.objectNumber}),G("endobj")},fl=function(_,R){R||(R=21);var de=Sn(),pe=function(Fe,tt){var lt,xt=[],St=1/(tt-1);for(lt=0;lt<1;lt+=St)xt.push(lt);if(xt.push(1),Fe[0].offset!=0){var Gt={offset:0,color:Fe[0].color};Fe.unshift(Gt)}if(Fe[Fe.length-1].offset!=1){var xn={offset:1,color:Fe[Fe.length-1].color};Fe.push(xn)}for(var Vn="",un=0,Kn=0;Kn<xt.length;Kn++){for(lt=xt[Kn];lt>Fe[un+1].offset;)un++;var Hn=Fe[un].offset,cs=(lt-Hn)/(Fe[un+1].offset-Hn),pi=Fe[un].color,Bs=Fe[un+1].color;Vn+=he(Math.round((1-cs)*pi[0]+cs*Bs[0]).toString(16))+he(Math.round((1-cs)*pi[1]+cs*Bs[1]).toString(16))+he(Math.round((1-cs)*pi[2]+cs*Bs[2]).toString(16))}return Vn.trim()}(_.colors,R),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+R+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hi({data:pe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),G("endobj"),_.objectNumber=Sn(),G("<< /ShadingType "+_.type),G("/ColorSpace /DeviceRGB");var $e="/Coords ["+U(parseFloat(_.coords[0]))+" "+U(parseFloat(_.coords[1]))+" ";_.type===2?$e+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3])):$e+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3]))+" "+U(parseFloat(_.coords[4]))+" "+U(parseFloat(_.coords[5])),G($e+="]"),_.matrix&&G("/Matrix ["+_.matrix.toString()+"]"),G("/Function "+de+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},pl=function(_,R){var de=ss(),pe=Sn();R.push({resourcesOid:de,objectOid:pe}),_.objectNumber=pe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+_.boundingBox.map(U).join(" ")+"]"}),ye.push({key:"XStep",value:U(_.xStep)}),ye.push({key:"YStep",value:U(_.yStep)}),ye.push({key:"Resources",value:de+" 0 R"}),_.matrix&&ye.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),hi({data:_.stream,additionalKeyValues:ye,objectId:_.objectNumber}),G("endobj")},vf=function(_){for(var R in _.objectNumber=Sn(),G("<<"),_)switch(R){case"opacity":G("/ca "+L(_[R]));break;case"stroke-opacity":G("/CA "+L(_[R]))}G(">>"),G("endobj")},xc=function(_){ls(_.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in G("/Font <<"),st)st.hasOwnProperty(R)&&(h===!1||h===!0&&p.hasOwnProperty(R))&&G("/"+R+" "+st[R].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(mt).length>0){for(var R in G("/Shading <<"),mt)mt.hasOwnProperty(R)&&mt[R]instanceof Va&&mt[R].objectNumber>=0&&G("/"+R+" "+mt[R].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),G(">>")}}(),function(R){if(Object.keys(mt).length>0){for(var de in G("/Pattern <<"),mt)mt.hasOwnProperty(de)&&mt[de]instanceof f.TilingPattern&&mt[de].objectNumber>=0&&mt[de].objectNumber<R&&G("/"+de+" "+mt[de].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),G(">>")}}(_.objectOid),function(){if(Object.keys(Tt).length>0){var R;for(R in G("/ExtGState <<"),Tt)Tt.hasOwnProperty(R)&&Tt[R].objectNumber>=0&&G("/"+R+" "+Tt[R].objectNumber+" 0 R");Kt.publish("putGStateDict"),G(">>")}}(),function(){for(var R in G("/XObject <<"),vs)vs.hasOwnProperty(R)&&vs[R].objectNumber>=0&&G("/"+R+" "+vs[R].objectNumber+" 0 R");Kt.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},xd=function(_){ht[_.fontName]=ht[_.fontName]||{},ht[_.fontName][_.fontStyle]=_.id},Cd=function(_,R,de,pe,ye){var $e={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:_,fontName:R,fontStyle:de,encoding:pe,isStandardFont:ye||!1,metadata:{}};return Kt.publish("addFont",{font:$e,instance:this}),st[$e.id]=$e,xd($e),$e.id},fi=f.__private__.pdfEscape=f.pdfEscape=function(_,R){return function(de,pe){var ye,$e,Fe,tt,lt,xt,St,Gt,xn;if(Fe=(pe=pe||{}).sourceEncoding||"Unicode",lt=pe.outputEncoding,(pe.autoencode||lt)&&st[Je].metadata&&st[Je].metadata[Fe]&&st[Je].metadata[Fe].encoding&&(tt=st[Je].metadata[Fe].encoding,!lt&&st[Je].encoding&&(lt=st[Je].encoding),!lt&&tt.codePages&&(lt=tt.codePages[0]),typeof lt=="string"&&(lt=tt[lt]),lt)){for(St=!1,xt=[],ye=0,$e=de.length;ye<$e;ye++)(Gt=lt[de.charCodeAt(ye)])?xt.push(String.fromCharCode(Gt)):xt.push(de[ye]),xt[ye].charCodeAt(0)>>8&&(St=!0);de=xt.join("")}for(ye=de.length;St===void 0&&ye!==0;)de.charCodeAt(ye-1)>>8&&(St=!0),ye--;if(!St)return de;for(xt=pe.noBOM?[]:[254,255],ye=0,$e=de.length;ye<$e;ye++){if((xn=(Gt=de.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(xn),xt.push(Gt-(xn<<8))}return String.fromCharCode.apply(void 0,xt)}(_,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cc=f.__private__.beginPage=function(_){Ee[++sn]=[],Ct[sn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Sd(sn),oe(Ee[O])},kd=function(_,R){var de,pe,ye;switch(n=R||n,typeof _=="string"&&(de=w(_.toLowerCase()),Array.isArray(de)&&(pe=de[0],ye=de[1])),Array.isArray(_)&&(pe=_[0]*nt,ye=_[1]*nt),isNaN(pe)&&(pe=i[0],ye=i[1]),(pe>14400||ye>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),ye=Math.min(14400,ye)),i=[pe,ye],n.substr(0,1)){case"l":ye>pe&&(i=[ye,pe]);break;case"p":pe>ye&&(i=[ye,pe])}Cc(i),Af(Ec),G(ml),Pc!==0&&G(Pc+" J"),Nc!==0&&G(Nc+" j"),Kt.publish("addPage",{pageNumber:sn})},kc=function(_){_>0&&_<=sn&&(Ee.splice(_,1),Ct.splice(_,1),sn--,O>sn&&(O=sn),this.setPage(O))},Sd=function(_){_>0&&_<=sn&&(O=_)},Ad=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ee.length-1},Ld=function(_,R,de){var pe,ye=void 0;return de=de||{},_=_!==void 0?_:st[Je].fontName,R=R!==void 0?R:st[Je].fontStyle,pe=_.toLowerCase(),ht[pe]!==void 0&&ht[pe][R]!==void 0?ye=ht[pe][R]:ht[_]!==void 0&&ht[_][R]!==void 0?ye=ht[_][R]:de.disableWarning===!1&&an.warn("Unable to look up font label for font '"+_+"', '"+R+"'. Refer to getFontList() for available fonts."),ye||de.noFallback||(ye=ht.times[R])==null&&(ye=ht.times.normal),ye},gl=f.__private__.putInfo=function(){var _=Sn(),R=function(pe){return pe};for(var de in u!==null&&(R=In.encryptor(_,0)),G("<<"),G("/Producer ("+fi(R("jsPDF "+ot.version))+")"),Ze)Ze.hasOwnProperty(de)&&Ze[de]&&G("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+fi(R(Ze[de]))+")");G("/CreationDate ("+fi(R(j))+")"),G(">>"),G("endobj")},bf=f.__private__.putCatalog=function(_){var R=(_=_||{}).rootDictionaryObjId||ro;switch(Sn(),G("<<"),G("/Type /Catalog"),G("/Pages "+R+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Ne;de.substr(de.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&G("/OpenAction [3 0 R /XYZ null null "+L(Ne)+"]")}switch(He||(He="continuous"),He){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Ie&&G("/PageMode /"+Ie),Kt.publish("putCatalog"),G(">>"),G("endobj")},zn=f.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ge+1)),G("/Root "+ge+" 0 R"),G("/Info "+(ge-1)+" 0 R"),u!==null&&G("/Encrypt "+In.oid+" 0 R"),G("/ID [ <"+F+"> <"+F+"> ]"),G(">>")},Ed=f.__private__.putHeader=function(){G("%PDF-"+m),G("%")},Td=f.__private__.putXRef=function(){var _="0000000000";G("xref"),G("0 "+(ge+1)),G("0000000000 65535 f ");for(var R=1;R<=ge;R++)typeof J[R]=="function"?G((_+J[R]()).slice(-10)+" 00000 n "):J[R]!==void 0?G((_+J[R]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Cr=f.__private__.buildDocument=function(){var _;ge=0,se=0,X=[],J=[],me=[],ro=ss(),Ni=ss(),oe(X),Kt.publish("buildDocument"),Ed(),er(),function(){Kt.publish("putAdditionalObjects");for(var de=0;de<me.length;de++){var pe=me[de];ls(pe.objId,!0),G(pe.content),G("endobj")}Kt.publish("postPutAdditionalObjects")}(),_=[],function(){for(var de in st)st.hasOwnProperty(de)&&(h===!1||h===!0&&p.hasOwnProperty(de))&&sa(st[de])}(),function(){var de;for(de in Tt)Tt.hasOwnProperty(de)&&vf(Tt[de])}(),function(){for(var de in vs)vs.hasOwnProperty(de)&&hl(vs[de])}(),function(de){var pe;for(pe in mt)mt.hasOwnProperty(pe)&&(mt[pe]instanceof Va?fl(mt[pe]):mt[pe]instanceof Hl&&pl(mt[pe],de))}(_),Kt.publish("putResources"),_.forEach(xc),xc({resourcesOid:Ni,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),u!==null&&(In.oid=Sn(),G("<<"),G("/Filter /Standard"),G("/V "+In.v),G("/R "+In.r),G("/U <"+In.toHexString(In.U)+">"),G("/O <"+In.toHexString(In.O)+">"),G("/P "+In.P),G(">>"),G("endobj")),gl(),bf();var R=se;return Td(),zn(),G("startxref"),G(""+R),G("%%EOF"),oe(Ee[O]),X.join(`
`)},ia=f.__private__.getBlob=function(_){return new Blob([Ae(_)],{type:"application/pdf"})},Di=f.output=f.__private__.output=(di=function(_,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",_){case void 0:return Cr();case"save":f.save(R.filename);break;case"arraybuffer":return Ae(Cr());case"blob":return ia(Cr());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(ia(Cr()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",pe=Cr();try{de=vv(pe)}catch{de=vv(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+R.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ye=R.pdfObjectUrl,$e="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",tt=_t.open();return tt!==null&&tt.document.write(Fe),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',xt=_t.open();if(xt!==null){xt.document.write(lt);var St=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=R.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',xn=_t.open();if(xn!==null&&(xn.document.write(Gt),xn.document.title=R.filename),xn||typeof safari>"u")return xn;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",R);default:return null}},di.foo=function(){try{return di.apply(this,arguments)}catch(de){var _=de.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var R="Error in function "+_.split(`
`)[0].split("<")[0]+": "+de.message;if(!_t.console)throw new Error(R);_t.console.error(R,de),_t.alert&&alert(R)}},di.foo.bar=di,di.foo),ra=function(_){return Array.isArray(ea)===!0&&ea.indexOf(_)>-1};switch(s){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=ra("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);nt=s}var In=null;ae(),N();var Sc=f.__private__.getPageInfo=f.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[_].objId,pageNumber:_,pageContext:Ct[_]}},yf=f.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Ct)if(Ct[R].objId===_)break;return Sc(R)},wf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ct[O].objId,pageNumber:O,pageContext:Ct[O]}};f.addPage=function(){return kd.apply(this,arguments),this},f.setPage=function(){return Sd.apply(this,arguments),oe.call(this,Ee[O]),this},f.insertPage=function(_){return this.addPage(),this.movePage(O,_),this},f.movePage=function(_,R){var de,pe;if(_>R){de=Ee[_],pe=Ct[_];for(var ye=_;ye>R;ye--)Ee[ye]=Ee[ye-1],Ct[ye]=Ct[ye-1];Ee[R]=de,Ct[R]=pe,this.setPage(R)}else if(_<R){de=Ee[_],pe=Ct[_];for(var $e=_;$e<R;$e++)Ee[$e]=Ee[$e+1],Ct[$e]=Ct[$e+1];Ee[R]=de,Ct[R]=pe,this.setPage(R)}return this},f.deletePage=function(){return kc.apply(this,arguments),this},f.__private__.text=f.text=function(_,R,de,pe,ye){var $e,Fe,tt,lt,xt,St,Gt,xn,Vn,un=(pe=pe||{}).scope||this;if(typeof _=="number"&&typeof R=="number"&&(typeof de=="string"||Array.isArray(de))){var Kn=de;de=R,R=_,_=Kn}if(arguments[3]instanceof bt==0?(tt=arguments[4],lt=arguments[5],nn(Gt=arguments[3])==="object"&&Gt!==null||(typeof tt=="string"&&(lt=tt,tt=null),typeof Gt=="string"&&(lt=Gt,Gt=null),typeof Gt=="number"&&(tt=Gt,Gt=null),pe={flags:Gt,angle:tt,align:lt})):(T("The transform parameter of text() with a Matrix value"),Vn=ye),isNaN(R)||isNaN(de)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return un;var Hn,cs="",pi=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:aa,Bs=un.internal.scaleFactor;function $d(Yt){return Yt=Yt.split("	").join(Array(pe.TabLen||9).join(" ")),fi(Yt,Gt)}function wl(Yt){for(var rn,Dn=Yt.concat(),Yn=[],Pr=Dn.length;Pr--;)typeof(rn=Dn.shift())=="string"?Yn.push(rn):Array.isArray(Yt)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?Yn.push(rn[0]):Yn.push([rn[0],rn[1],rn[2]]);return Yn}function fa(Yt,rn){var Dn;if(typeof Yt=="string")Dn=rn(Yt)[0];else if(Array.isArray(Yt)){for(var Yn,Pr,Vc=Yt.concat(),Cl=[],Fd=Vc.length;Fd--;)typeof(Yn=Vc.shift())=="string"?Cl.push(rn(Yn)[0]):Array.isArray(Yn)&&typeof Yn[0]=="string"&&(Pr=rn(Yn[0],Yn[1],Yn[2]),Cl.push([Pr[0],Pr[1],Pr[2]]));Dn=Cl}return Dn}var lo=!1,pa=!0;if(typeof _=="string")lo=!0;else if(Array.isArray(_)){var ga=_.concat();Fe=[];for(var ma,bs=ga.length;bs--;)(typeof(ma=ga.shift())!="string"||Array.isArray(ma)&&typeof ma[0]!="string")&&(pa=!1);lo=pa}if(lo===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var va=we/un.internal.scaleFactor,ba=va*(pi-1);switch(pe.baseline){case"bottom":de-=ba;break;case"top":de+=va-ba;break;case"hanging":de+=va-2*ba;break;case"middle":de+=va/2-ba}if((St=pe.maxWidth||0)>0&&(typeof _=="string"?_=un.splitTextToSize(_,St):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Yt,rn){return Yt.concat(un.splitTextToSize(rn,St))},[]))),$e={text:_,x:R,y:de,options:pe,mutex:{pdfEscape:fi,activeFontKey:Je,fonts:st,activeFontSize:we}},Kt.publish("preProcessText",$e),_=$e.text,tt=(pe=$e.options).angle,Vn instanceof bt==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,pe.rotationDirection===0&&(tt=-tt),S===k&&(tt=-tt);var Dc=Math.cos(tt),Mc=Math.sin(tt);Vn=new bt(Dc,Mc,-Mc,Dc,0,0)}else tt&&tt instanceof bt&&(Vn=tt);S!==k||Vn||(Vn=xr),(xt=pe.charSpace||bl)!==void 0&&(cs+=U(ne(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xn=pe.horizontalScale)!==void 0&&(cs+=U(100*xn)+` Tz
`),pe.lang;var An=-1,Er=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,_l=un.internal.getCurrentPageInfo().pageContext;switch(Er){case 0:case!1:case"fill":An=0;break;case 1:case!0:case"stroke":An=1;break;case 2:case"fillThenStroke":An=2;break;case 3:case"invisible":An=3;break;case 4:case"fillAndAddForClipping":An=4;break;case 5:case"strokeAndAddPathForClipping":An=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":An=6;break;case 7:case"addToPathForClipping":An=7}var jd=_l.usedRenderingMode!==void 0?_l.usedRenderingMode:-1;An!==-1?cs+=An+` Tr
`:jd!==-1&&(cs+=`0 Tr
`),An!==-1&&(_l.usedRenderingMode=An),lt=pe.align||"left";var gi,ya=we*pi,Rc=un.internal.pageSize.getWidth(),$c=st[Je];xt=pe.charSpace||bl,St=pe.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var co=[],wa=function(Yt){return un.getStringUnitWidth(Yt,{font:$c,charSpace:xt,fontSize:we,doKerning:!1})*we/Bs};if(Object.prototype.toString.call(_)==="[object Array]"){var Ks;Fe=wl(_),lt!=="left"&&(gi=Fe.map(wa));var Ys,uo=0;if(lt==="right"){R-=gi[0],_=[],bs=Fe.length;for(var Tr=0;Tr<bs;Tr++)Tr===0?(Ys=kr(R),Ks=Sr(de)):(Ys=ne(uo-gi[Tr]),Ks=-ya),_.push([Fe[Tr],Ys,Ks]),uo=gi[Tr]}else if(lt==="center"){R-=gi[0]/2,_=[],bs=Fe.length;for(var ho=0;ho<bs;ho++)ho===0?(Ys=kr(R),Ks=Sr(de)):(Ys=ne((uo-gi[ho])/2),Ks=-ya),_.push([Fe[ho],Ys,Ks]),uo=gi[ho]}else if(lt==="left"){_=[],bs=Fe.length;for(var jc=0;jc<bs;jc++)_.push(Fe[jc])}else if(lt==="justify"&&$c.encoding==="Identity-H"){_=[],bs=Fe.length,St=St!==0?St:Rc;for(var xl=0,On=0;On<bs;On++)if(Ks=On===0?Sr(de):-ya,Ys=On===0?kr(R):xl,On<bs-1){var Bd=ne((St-gi[On])/(Fe[On].split(" ").length-1)),nr=Fe[On].split(" ");_.push([nr[0]+" ",Ys,Ks]),xl=0;for(var sr=1;sr<nr.length;sr++){var Bc=(wa(nr[sr-1]+" "+nr[sr])-wa(nr[sr]))*Bs+Bd;sr==nr.length-1?_.push([nr[sr],Bc,0]):_.push([nr[sr]+" ",Bc,0]),xl-=Bc}}else _.push([Fe[On],Ys,Ks]);_.push(["",xl,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],bs=Fe.length,St=St!==0?St:Rc,On=0;On<bs;On++){Ks=On===0?Sr(de):-ya,Ys=On===0?kr(R):0;var Fc=Fe[On].split(" ").length-1,Uc=Fc>0?(St-gi[On])/Fc:0;On<bs-1?co.push(U(ne(Uc))):co.push(0),_.push([Fe[On],Ys,Ks])}}}(typeof pe.R2L=="boolean"?pe.R2L:Ve)===!0&&(_=fa(_,function(Yt,rn,Dn){return[Yt.split("").reverse().join(""),rn,Dn]})),$e={text:_,x:R,y:de,options:pe,mutex:{pdfEscape:fi,activeFontKey:Je,fonts:st,activeFontSize:we}},Kt.publish("postProcessText",$e),_=$e.text,Hn=$e.mutex.isHex||!1;var zc=st[Je].encoding;zc!=="WinAnsiEncoding"&&zc!=="StandardEncoding"||(_=fa(_,function(Yt,rn,Dn){return[$d(Yt),rn,Dn]})),Fe=wl(_),_=[];for(var fo,po,go,_a=Array.isArray(Fe[0])?1:0,mo="",xa=function(Yt,rn,Dn){var Yn="";return Dn instanceof bt?(Dn=typeof pe.angle=="number"?_r(Dn,new bt(1,0,0,1,Yt,rn)):_r(new bt(1,0,0,1,Yt,rn),Dn),S===k&&(Dn=_r(new bt(1,0,0,-1,0,0),Dn)),Yn=Dn.join(" ")+` Tm
`):Yn=U(Yt)+" "+U(rn)+` Td
`,Yn},mi=0;mi<Fe.length;mi++){switch(mo="",_a){case 1:go=(Hn?"<":"(")+Fe[mi][0]+(Hn?">":")"),fo=parseFloat(Fe[mi][1]),po=parseFloat(Fe[mi][2]);break;case 0:go=(Hn?"<":"(")+Fe[mi]+(Hn?">":")"),fo=kr(R),po=Sr(de)}co!==void 0&&co[mi]!==void 0&&(mo=co[mi]+` Tw
`),mi===0?_.push(mo+xa(fo,po,Vn)+go):_a===0?_.push(mo+go):_a===1&&_.push(mo+xa(fo,po,Vn)+go)}_=_a===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var ir=`BT
/`;return ir+=Je+" "+we+` Tf
`,ir+=U(we*pi)+` TL
`,ir+=la+`
`,ir+=cs,ir+=_,G(ir+="ET"),p[Je]=!0,un};var _f=f.__private__.clip=f.clip=function(_){return G(_==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return _f("evenodd")},f.__private__.discardPath=f.discardPath=function(){return G("n"),this};var tr=f.__private__.isValidStyle=function(_){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(R=!0),R};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(_){return tr(_)&&(c=_),this};var Pd=f.__private__.getStyle=f.getStyle=function(_){var R=c;switch(_){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=_}return R},Nd=f.close=function(){return G("h"),this};f.stroke=function(){return G("S"),this},f.fill=function(_){return oo("f",_),this},f.fillEvenOdd=function(_){return oo("f*",_),this},f.fillStroke=function(_){return oo("B",_),this},f.fillStrokeEvenOdd=function(_){return oo("B*",_),this};var oo=function(_,R){nn(R)==="object"?Cf(R,_):G(_)},Ac=function(_){_===null||S===k&&_===void 0||(_=Pd(_),G(_))};function xf(_,R,de,pe,ye){var $e=new Hl(R||this.boundingBox,de||this.xStep,pe||this.yStep,this.gState,ye||this.matrix);$e.stream=this.stream;var Fe=_+"$$"+this.cloneIndex+++"$$";return ui(Fe,$e),$e}var Cf=function(_,R){var de=Ft[_.key],pe=mt[de];if(pe instanceof Va)G("q"),G(kf(R)),pe.gState&&f.setGState(pe.gState),G(_.matrix.toString()+" cm"),G("/"+de+" sh"),G("Q");else if(pe instanceof Hl){var ye=new bt(1,0,0,-1,0,ha());_.matrix&&(ye=ye.multiply(_.matrix||xr),de=xf.call(pe,_.key,_.boundingBox,_.xStep,_.yStep,ye).id),G("q"),G("/Pattern cs"),G("/"+de+" scn"),pe.gState&&f.setGState(pe.gState),G(R),G("Q")}},kf=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lc=f.moveTo=function(_,R){return G(U(ne(_))+" "+U(V(R))+" m"),this},oa=f.lineTo=function(_,R){return G(U(ne(_))+" "+U(V(R))+" l"),this},ao=f.curveTo=function(_,R,de,pe,ye,$e){return G([U(ne(_)),U(V(R)),U(ne(de)),U(V(pe)),U(ne(ye)),U(V($e)),"c"].join(" ")),this};f.__private__.line=f.line=function(_,R,de,pe,ye){if(isNaN(_)||isNaN(R)||isNaN(de)||isNaN(pe)||!tr(ye))throw new Error("Invalid arguments passed to jsPDF.line");return S===C?this.lines([[de-_,pe-R]],_,R,[1,1],ye||"S"):this.lines([[de-_,pe-R]],_,R,[1,1]).stroke()},f.__private__.lines=f.lines=function(_,R,de,pe,ye,$e){var Fe,tt,lt,xt,St,Gt,xn,Vn,un,Kn,Hn,cs;if(typeof _=="number"&&(cs=de,de=R,R=_,_=cs),pe=pe||[1,1],$e=$e||!1,isNaN(R)||isNaN(de)||!Array.isArray(_)||!Array.isArray(pe)||!tr(ye)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lc(R,de),Fe=pe[0],tt=pe[1],xt=_.length,Kn=R,Hn=de,lt=0;lt<xt;lt++)(St=_[lt]).length===2?(Kn=St[0]*Fe+Kn,Hn=St[1]*tt+Hn,oa(Kn,Hn)):(Gt=St[0]*Fe+Kn,xn=St[1]*tt+Hn,Vn=St[2]*Fe+Kn,un=St[3]*tt+Hn,Kn=St[4]*Fe+Kn,Hn=St[5]*tt+Hn,ao(Gt,xn,Vn,un,Kn,Hn));return $e&&Nd(),Ac(ye),this},f.path=function(_){for(var R=0;R<_.length;R++){var de=_[R],pe=de.c;switch(de.op){case"m":Lc(pe[0],pe[1]);break;case"l":oa(pe[0],pe[1]);break;case"c":ao.apply(this,pe);break;case"h":Nd()}}return this},f.__private__.rect=f.rect=function(_,R,de,pe,ye){if(isNaN(_)||isNaN(R)||isNaN(de)||isNaN(pe)||!tr(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C&&(pe=-pe),G([U(ne(_)),U(V(R)),U(ne(de)),U(ne(pe)),"re"].join(" ")),Ac(ye),this},f.__private__.triangle=f.triangle=function(_,R,de,pe,ye,$e,Fe){if(isNaN(_)||isNaN(R)||isNaN(de)||isNaN(pe)||isNaN(ye)||isNaN($e)||!tr(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-_,pe-R],[ye-de,$e-pe],[_-ye,R-$e]],_,R,[1,1],Fe,!0),this},f.__private__.roundedRect=f.roundedRect=function(_,R,de,pe,ye,$e,Fe){if(isNaN(_)||isNaN(R)||isNaN(de)||isNaN(pe)||isNaN(ye)||isNaN($e)||!tr(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*de),$e=Math.min($e,.5*pe),this.lines([[de-2*ye,0],[ye*tt,0,ye,$e-$e*tt,ye,$e],[0,pe-2*$e],[0,$e*tt,-ye*tt,$e,-ye,$e],[2*ye-de,0],[-ye*tt,0,-ye,-$e*tt,-ye,-$e],[0,2*$e-pe],[0,-$e*tt,ye*tt,-$e,ye,-$e]],_+ye,R,[1,1],Fe,!0),this},f.__private__.ellipse=f.ellipse=function(_,R,de,pe,ye){if(isNaN(_)||isNaN(R)||isNaN(de)||isNaN(pe)||!tr(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*de,Fe=4/3*(Math.SQRT2-1)*pe;return Lc(_+de,R),ao(_+de,R-Fe,_+$e,R-pe,_,R-pe),ao(_-$e,R-pe,_-de,R-Fe,_-de,R),ao(_-de,R+Fe,_-$e,R+pe,_,R+pe),ao(_+$e,R+pe,_+de,R+Fe,_+de,R),Ac(ye),this},f.__private__.circle=f.circle=function(_,R,de,pe){if(isNaN(_)||isNaN(R)||isNaN(de)||!tr(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,R,de,de,pe)},f.setFont=function(_,R,de){return de&&(R=H(R,de)),Je=Ld(_,R,{disableWarning:!1}),this};var Sf=f.__private__.getFont=f.getFont=function(){return st[Ld.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var _,R,de={};for(_ in ht)if(ht.hasOwnProperty(_))for(R in de[_]=[],ht[_])ht[_].hasOwnProperty(R)&&de[_].push(R);return de},f.addFont=function(_,R,de,pe,ye){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(de=H(de,pe)),Cd.call(this,_,R,de,ye=ye||"Identity-H")};var aa,Ec=t.lineWidth||.200025,kt=f.__private__.getLineWidth=f.getLineWidth=function(){return Ec},Af=f.__private__.setLineWidth=f.setLineWidth=function(_){return Ec=_,G(U(ne(_))+" w"),this};f.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(_,R){if(_=_||[],R=R||0,isNaN(R)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(de){return U(ne(de))}).join(" "),R=U(ne(R)),G("["+_+"] "+R+" d"),this};var Lf=f.__private__.getLineHeight=f.getLineHeight=function(){return we*aa};f.__private__.getLineHeight=f.getLineHeight=function(){return we*aa};var Ef=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(aa=_),this},Tf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return aa};Ef(t.lineHeight);var kr=f.__private__.getHorizontalCoordinate=function(_){return ne(_)},Sr=f.__private__.getVerticalCoordinate=function(_){return S===k?_:Ct[O].mediaBox.topRightY-Ct[O].mediaBox.bottomLeftY-ne(_)},Pf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(_){return U(kr(_))},Nf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(_){return U(Sr(_))},ml=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Qi(ml)},f.__private__.setStrokeColor=f.setDrawColor=function(_,R,de,pe){return ml=Ii({ch1:_,ch2:R,ch3:de,ch4:pe,pdfColorType:"draw",precision:2}),G(ml),this};var Tc=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Qi(Tc)},f.__private__.setFillColor=f.setFillColor=function(_,R,de,pe){return Tc=Ii({ch1:_,ch2:R,ch3:de,ch4:pe,pdfColorType:"fill",precision:2}),G(Tc),this};var la=t.textColor||"0 g",vl=f.__private__.getTextColor=f.getTextColor=function(){return Qi(la)};f.__private__.setTextColor=f.setTextColor=function(_,R,de,pe){return la=Ii({ch1:_,ch2:R,ch3:de,ch4:pe,pdfColorType:"text",precision:3}),this};var bl=t.charSpace,If=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(bl||0)};f.__private__.setCharSpace=f.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bl=_,this};var Pc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(_){var R=f.CapJoinStyles[_];if(R===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pc=R,G(R+" J"),this};var Nc=0;f.__private__.setLineJoin=f.setLineJoin=function(_){var R=f.CapJoinStyles[_];if(R===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nc=R,G(R+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(U(ne(_))+" M"),this},f.GState=k1,f.setGState=function(_){(_=typeof _=="string"?Tt[Nn[_]]:ca(null,_)).equals(Gn)||(G("/"+_.id+" gs"),Gn=_)};var ca=function(_,R){if(!_||!Nn[_]){var de=!1;for(var pe in Tt)if(Tt.hasOwnProperty(pe)&&Tt[pe].equals(R)){de=!0;break}if(de)R=Tt[pe];else{var ye="GS"+(Object.keys(Tt).length+1).toString(10);Tt[ye]=R,R.id=ye}return _&&(Nn[_]=R.id),Kt.publish("addGState",R),R}};f.addGState=function(_,R){return ca(_,R),this},f.saveGraphicsState=function(){return G("q"),Mt.push({key:Je,size:we,color:la}),this},f.restoreGraphicsState=function(){G("Q");var _=Mt.pop();return Je=_.key,we=_.size,la=_.color,Gn=null,this},f.setCurrentTransformationMatrix=function(_){return G(_.toString()+" cm"),this},f.comment=function(_){return G("#"+_),this};var ua=function(_,R){var de=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function($e){isNaN($e)||(de=parseFloat($e))}});var pe=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function($e){isNaN($e)||(pe=parseFloat($e))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function($e){ye=$e.toString()}}),this},Ic=function(_,R,de,pe){ua.call(this,_,R),this.type="rect";var ye=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var $e=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Fe){isNaN(Fe)||($e=parseFloat(Fe))}}),this},yl=function(){this.page=sn,this.currentPage=O,this.pages=Ee.slice(0),this.pagesContext=Ct.slice(0),this.x=Xe,this.y=Rt,this.matrix=$t,this.width=Id(O),this.height=Ar(O),this.outputDestination=re,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){sn=this.page,O=this.currentPage,Ct=this.pagesContext,Ee=this.pages,Xe=this.x,Rt=this.y,$t=this.matrix,Od(O,this.width),Lr(O,this.height),re=this.outputDestination};var Oc=function(_,R,de,pe,ye){Xi.push(new yl),sn=O=0,Ee=[],Xe=_,Rt=R,$t=ye,Cc([de,pe])};for(var da in f.beginFormObject=function(_,R,de,pe,ye){return Oc(_,R,de,pe,ye),this},f.endFormObject=function(_){return function(R){if(wr[R])Xi.pop().restore();else{var de=new yl,pe="Xo"+(Object.keys(vs).length+1).toString(10);de.id=pe,wr[R]=pe,vs[pe]=de,Kt.publish("addFormObject",de),Xi.pop().restore()}}(_),this},f.doFormObject=function(_,R){var de=vs[wr[_]];return G("q"),G(R.toString()+" cm"),G("/"+de.id+" Do"),G("Q"),this},f.getFormObject=function(_){var R=vs[wr[_]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},f.save=function(_,R){return _=_||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?($a(ia(Cr()),_),typeof $a.unload=="function"&&_t.setTimeout&&setTimeout($a.unload,911),this):new Promise(function(de,pe){try{var ye=$a(ia(Cr()),_);typeof $a.unload=="function"&&_t.setTimeout&&setTimeout($a.unload,911),de(ye)}catch($e){pe($e.message)}})},ot.API)ot.API.hasOwnProperty(da)&&(da==="events"&&ot.API.events.length?function(_,R){var de,pe,ye;for(ye=R.length-1;ye!==-1;ye--)de=R[ye][0],pe=R[ye][1],_.subscribe.apply(_,[de].concat(typeof pe=="function"?[pe]:pe))}(Kt,ot.API.events):f[da]=ot.API[da]);function Id(_){return Ct[_].mediaBox.topRightX-Ct[_].mediaBox.bottomLeftX}function Od(_,R){Ct[_].mediaBox.topRightX=R+Ct[_].mediaBox.bottomLeftX}function Ar(_){return Ct[_].mediaBox.topRightY-Ct[_].mediaBox.bottomLeftY}function Lr(_,R){Ct[_].mediaBox.topRightY=R+Ct[_].mediaBox.bottomLeftY}var Dd=f.getPageWidth=function(_){return Id(_=_||O)/nt},Md=f.setPageWidth=function(_,R){Od(_,R*nt)},ha=f.getPageHeight=function(_){return Ar(_=_||O)/nt},Rd=f.setPageHeight=function(_,R){Lr(_,R*nt)};return f.internal={pdfEscape:fi,getStyle:Pd,getFont:Sf,getFontSize:xe,getCharSpace:If,getTextColor:vl,getLineHeight:Lf,getLineHeightFactor:Tf,getLineWidth:kt,write:Pe,getHorizontalCoordinate:kr,getVerticalCoordinate:Sr,getCoordinateString:Pf,getVerticalCoordinateString:Nf,collections:{},newObject:Sn,newAdditionalObject:ta,newObjectDeferred:ss,newObjectDeferredBegin:ls,getFilters:Oi,putStream:hi,events:Kt,scaleFactor:nt,pageSize:{getWidth:function(){return Dd(O)},setWidth:function(_){Md(O,_)},getHeight:function(){return ha(O)},setHeight:function(_){Rd(O,_)}},encryptionOptions:u,encryption:In,getEncryptor:function(_){return u!==null?In.encryptor(_,0):function(R){return R}},output:Di,getNumberOfPages:Ad,pages:Ee,out:G,f2:L,f3:P,getPageInfo:Sc,getPageInfoByObjId:yf,getCurrentPageInfo:wf,getPDFVersion:b,Point:ua,Rectangle:Ic,Matrix:bt,hasHotfix:ra},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Dd(O)},set:function(_){Md(O,_)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ha(O)},set:function(_){Rd(O,_)},enumerable:!0,configurable:!0}),(function(_){for(var R=0,de=De.length;R<de;R++){var pe=Cd.call(this,_[R][0],_[R][1],_[R][2],De[R][3],!0);h===!1&&(p[pe]=!0);var ye=_[R][0].split("-");xd({id:pe,fontName:ye[0],fontStyle:ye[1]||""})}Kt.publish("addFonts",{fonts:st,dictionary:ht})}).call(f,De),Je="F1",kd(i,n),Kt.publish("initialized"),f}Ul.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ul.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ul.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ul.prototype.processOwnerPassword=function(t,e){return l0(a0(e).substr(0,5),t)},Ul.prototype.encryptor=function(t,e){var n=a0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return l0(n,s)}},k1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||nn(t)!==nn(this))return!1;var s=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&s--;return s===0},ot.API={events:[]},ot.version="3.0.3";var Tn=ot.API,_g=1,ul=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ol=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Lo=function(t){return t.toFixed(5)};Tn.__acroform__={};var Gs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},_v=function(t){return t*_g},ar=function(t){var e=new ww,n=et.internal.getHeight(t)||0,s=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(s)),Number(At(n))],e},Xj=Tn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Qj=Tn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eB=Tn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},$n=Tn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eB(t,e-1)},jn=Tn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Xj(t,e-1)},Bn=Tn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qj(t,e-1)},tB=Tn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,i=t[0],r=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=s(r+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=s(r)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},nB=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,s=c0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var r=ar(t);return r.scope=t.scope,r.stream=e.join(`
`),r}},c0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var r=n,o=et.internal.getHeight(t)||0;o=o<0?-o:o;var a=et.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(L,P,ne){if(L+1<i.length){var V=P+" "+i[L+1][0];return Sh(V,t,ne).width<=a-4}return!1};r++;e:for(;r>0;){e="",r--;var c,u,h=Sh("3",t,r).height,p=t.multiline?o-r:(o-h)/2,f=p+=2,m=0,b=0,y=0;if(r<=0){e=`(...) Tj
`,e+="% Width of Text: "+Sh(e,t,r=12).width+", FieldWidth:"+a+`
`;break}for(var w="",C=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var S=!1;if(i[k].length!==1&&y!==i[k].length-1){if((h+2)*(C+2)+2>o)continue e;w+=i[k][y],S=!0,b=k,k--}else{w=(w+=i[k][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var I=parseInt(k),z=l(I,w,r),H=k>=i.length-1;if(z&&!H){w+=" ",y=0;continue}if(z||H){if(H)b=I;else if(t.multiline&&(h+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(C+2)+2>o)continue e;b=I}}for(var U="",T=m;T<=b;T++){var q=i[T];if(t.multiline){if(T===b){U+=q[y]+" ",y=(y+1)%q.length;continue}if(T===m){U+=q[q.length-1]+" ";continue}}U+=q[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,u=Sh(U,t,r).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=At(c)+" "+At(f)+` Td
`,e+="("+ul(U)+`) Tj
`,e+=-At(c)+` 0 Td
`,f=-(r+2),u=0,m=S?b:b+1,C++,w=""}break}return s.text=e,s.fontSize=r,s},Sh=function(t,e,n){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},sB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iB=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},rB=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(sB)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_g=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _w,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var r=s[i];r.objId=void 0,r.hasAnnotation&&iB(r,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(s,i){var r=!s;for(var o in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var a=s[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tB(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=et.createDefaultAppearanceStream(a),nn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=nB(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(i,a)),h+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(i,a)),h+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}r&&function(b,y){for(var w in b)if(b.hasOwnProperty(w)){var C=w,k=b[w];y.internal.newObjectDeferredBegin(k.objId,!0),nn(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete b[C]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},yw=Tn.__acroform__.arrayToPdfArray=function(t,e,n){var s=function(o){return o};if(Array.isArray(t)){for(var i="[",r=0;r<t.length;r++)switch(r!==0&&(i+=" "),nn(t[r])){case"boolean":case"number":case"object":i+=t[r].toString();break;case"string":t[r].substr(0,1)!=="/"?(e!==void 0&&n&&(s=n.internal.getEncryptor(e)),i+="("+ul(s(t[r].toString()))+")"):i+=t[r].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gp=function(t,e,n){var s=function(i){return i};return e!==void 0&&n&&(s=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+ul(s(t))+")"},pr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pr.prototype.toString=function(){return this.objId+" 0 R"},pr.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},pr.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var s=e[n],i=this[s];i&&(Array.isArray(i)?t.push({key:s,value:yw(i,this.objId,this.scope)}):i instanceof pr?(i.scope=this.scope,t.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:s,value:i}))}return t};var ww=function(){pr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Gs(ww,pr);var _w=function(){pr.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ul(n(t))+")"}},set:function(n){t=n}})};Gs(_w,pr);var Zi=function t(){pr.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$n(e,3)},set:function(w){w?this.F=jn(e,3):this.F=Bn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(w){s=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(w){s[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(w){s[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(w){s[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(w){s[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof S1)return;r="FieldObject"+t.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+ul(w(r))+")"},set:function(w){r=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(w){r=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/_g:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof S1||this instanceof Ja))return Gp(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof is==0?Gp(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof is==0?w.substr(0,1)==="("?Ol(w.substr(1,w.length-2)):Ol(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof is==1?Ol(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof is==1?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof is==0?Gp(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof is==0?w.substr(0,1)==="("?Ol(w.substr(1,w.length-2)):Ol(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof is==1?Ol(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof is==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(w){m=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,1)},set:function(w){w?this.Ff=jn(this.Ff,1):this.Ff=Bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,2)},set:function(w){w?this.Ff=jn(this.Ff,2):this.Ff=Bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,3)},set:function(w){w?this.Ff=jn(this.Ff,3):this.Ff=Bn(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Gs(Zi,pr);var Zl=function(){Zi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yw(e,this.objId,this.scope)},set:function(n){var s,i;i=[],typeof(s=n)=="string"&&(i=function(r,o,a){a||(a=1);for(var l,c=[];l=o.exec(r);)c.push(l[a]);return c}(s,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,18)},set:function(n){n?this.Ff=jn(this.Ff,18):this.Ff=Bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=jn(this.Ff,19):this.Ff=Bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,20)},set:function(n){n?(this.Ff=jn(this.Ff,20),e.sort()):this.Ff=Bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,22)},set:function(n){n?this.Ff=jn(this.Ff,22):this.Ff=Bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(n){n?this.Ff=jn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,27)},set:function(n){n?this.Ff=jn(this.Ff,27):this.Ff=Bn(this.Ff,27)}}),this.hasAppearanceStream=!1};Gs(Zl,Zi);var Jl=function(){Zl.call(this),this.fontName="helvetica",this.combo=!1};Gs(Jl,Zl);var Xl=function(){Jl.call(this),this.combo=!0};Gs(Xl,Jl);var Xh=function(){Xl.call(this),this.edit=!0};Gs(Xh,Xl);var is=function(){Zi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,15)},set:function(n){n?this.Ff=jn(this.Ff,15):this.Ff=Bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,16)},set:function(n){n?this.Ff=jn(this.Ff,16):this.Ff=Bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,17)},set:function(n){n?this.Ff=jn(this.Ff,17):this.Ff=Bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(n){n?this.Ff=jn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(r){return r};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,i=[];for(s in i.push("<<"),e)i.push("/"+s+" ("+ul(n(e[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){nn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Gs(is,Zi);var Qh=function(){is.call(this),this.pushButton=!0};Gs(Qh,is);var Ql=function(){is.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Gs(Ql,is);var S1=function(){var t,e;Zi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),s)o.push("/"+r+" ("+ul(i(s[r]))+")");return o.push(">>"),o.join(`
`)},set:function(i){nn(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gs(S1,Zi),Ql.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ql.prototype.createOption=function(t){var e=new S1;return e.Parent=this,e.optionName=t,this.Kids.push(e),oB.call(this.scope,e),e};var e1=function(){is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Gs(e1,is);var Ja=function(){Zi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,13)},set:function(e){e?this.Ff=jn(this.Ff,13):this.Ff=Bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,21)},set:function(e){e?this.Ff=jn(this.Ff,21):this.Ff=Bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(e){e?this.Ff=jn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,24)},set:function(e){e?this.Ff=jn(this.Ff,24):this.Ff=Bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,25)},set:function(e){e?this.Ff=jn(this.Ff,25):this.Ff=Bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(e){e?this.Ff=jn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gs(Ja,Zi);var t1=function(){Ja.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,14)},set:function(t){t?this.Ff=jn(this.Ff,14):this.Ff=Bn(this.Ff,14)}}),this.password=!0};Gs(t1,Ja);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ar(t);e.scope=t.scope;var n=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=c0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+At(et.internal.getWidth(t))+" "+At(et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+At(r.fontSize)+" Tf "+i),n.push("BT"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ar(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=[],r=et.internal.getHeight(t),o=et.internal.getWidth(t),a=c0(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(o)+" "+At(r)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(o-1)+" "+At(r-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+At(a.fontSize)+" Tf "+s),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ar(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(et.internal.getWidth(t))+" "+At(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ar(t);e.scope=t.scope;var n=[],s=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=et.internal.Bezier_C,r=Number((s*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Lo(et.internal.getWidth(t)/2)+" "+Lo(et.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),n.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),n.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),n.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ar(t);e.scope=t.scope;var n=[],s=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),r=Number((i*et.internal.Bezier_C).toFixed(5)),o=Number((s*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lo(et.internal.getWidth(t)/2)+" "+Lo(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Lo(et.internal.getWidth(t)/2)+" "+Lo(et.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ar(t);e.scope=t.scope;var n=[],s=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),r=Number((i*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lo(et.internal.getWidth(t)/2)+" "+Lo(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ar(t);e.scope=t.scope;var n=[],s=et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+At(et.internal.getWidth(t)-2)+" "+At(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(s.x1.x)+" "+At(s.x1.y)+" m"),n.push(At(s.x2.x)+" "+At(s.x2.y)+" l"),n.push(At(s.x4.x)+" "+At(s.x4.y)+" m"),n.push(At(s.x3.x)+" "+At(s.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ar(t);e.scope=t.scope;var n=et.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+At(et.internal.getWidth(t))+" "+At(et.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+At(et.internal.getWidth(t)-2)+" "+At(et.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),s.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),s.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),s.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=ar(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(et.internal.getWidth(t))+" "+At(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),n=et.internal.getHeight(t),s=Math.min(e,n);return{x1:{x:(e-s)/2,y:(n-s)/2+s},x2:{x:(e-s)/2+s,y:(n-s)/2},x3:{x:(e-s)/2,y:(n-s)/2},x4:{x:(e-s)/2+s,y:(n-s)/2+s}}}},et.internal.getWidth=function(t){var e=0;return nn(t)==="object"&&(e=_v(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return nn(t)==="object"&&(e=_v(t.Rect[3])),e};var oB=Tn.addField=function(t){if(rB(this,t),!(t instanceof Zi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Tn.AcroFormChoiceField=Zl,Tn.AcroFormListBox=Jl,Tn.AcroFormComboBox=Xl,Tn.AcroFormEditBox=Xh,Tn.AcroFormButton=is,Tn.AcroFormPushButton=Qh,Tn.AcroFormRadioButton=Ql,Tn.AcroFormCheckBox=e1,Tn.AcroFormTextField=Ja,Tn.AcroFormPasswordField=t1,Tn.AcroFormAppearance=et,Tn.AcroForm={ChoiceField:Zl,ListBox:Jl,ComboBox:Xl,EditBox:Xh,Button:is,PushButton:Qh,RadioButton:Ql,CheckBox:e1,TextField:Ja,PasswordField:t1,Appearance:et},ot.AcroForm={ChoiceField:Zl,ListBox:Jl,ComboBox:Xl,EditBox:Xh,Button:is,PushButton:Qh,RadioButton:Ql,CheckBox:e1,TextField:Ja,PasswordField:t1,Appearance:et};ot.AcroForm;function xw(t){return t.reduce(function(e,n,s){return e[n]=s,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(L,P){var ne,V,j,F,D,N=n;if((P=P||n)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(z(L))for(D in s)for(j=s[D],ne=0;ne<j.length;ne+=1){for(F=!0,V=0;V<j[ne].length;V+=1)if(j[ne][V]!==void 0&&j[ne][V]!==L[V]){F=!1;break}if(F===!0){N=D;break}}else for(D in s)for(j=s[D],ne=0;ne<j.length;ne+=1){for(F=!0,V=0;V<j[ne].length;V+=1)if(j[ne][V]!==void 0&&j[ne][V]!==L.charCodeAt(V)){F=!1;break}if(F===!0){N=D;break}}return N===n&&P!==n&&(N=P),N},r=function L(P){for(var ne=this.internal.write,V=this.internal.putStream,j=(0,this.internal.getFilters)();j.indexOf("FlateEncode")!==-1;)j.splice(j.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:P.width}),F.push({key:"Height",value:P.height}),P.colorSpace===w.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===w.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var D="",N=0,ee=P.transparency.length;N<ee;N++)D+=P.transparency[N]+" "+P.transparency[N]+" ";F.push({key:"Mask",value:"["+D+"]"})}P.sMask!==void 0&&F.push({key:"SMask",value:P.objectId+1+" 0 R"});var fe=P.filter!==void 0?["/"+P.filter]:void 0;if(V({data:P.data,additionalKeyValues:F,alreadyAppliedFilters:fe,objectId:P.objectId}),ne("endobj"),"sMask"in P&&P.sMask!==void 0){var ae,A=(ae=P.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:P.bitsPerComponent,O={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:P.sMask};"filter"in P&&(O.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(P.width),O.filter=P.filter),L.call(this,O)}if(P.colorSpace===w.INDEXED){var Y=this.internal.newObject();V({data:U(new Uint8Array(P.palette)),objectId:Y}),ne("endobj")}},o=function(){var L=this.internal.collections[e+"images"];for(var P in L)r.call(this,L[P])},a=function(){var L,P=this.internal.collections[e+"images"],ne=this.internal.write;for(var V in P)ne("/I"+(L=P[V]).index,L.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var L=this.internal.collections[e+"images"];return l.call(this),L},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(L){return typeof t["process"+L.toUpperCase()]=="function"},p=function(L){return nn(L)==="object"&&L.nodeType===1},f=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var ne=""+L.getAttribute("src");if(ne.indexOf("data:image/")===0)return Jh(unescape(ne).split("base64,").pop());var V=t.loadFile(ne,!0);if(V!==void 0)return V}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var j;switch(P){case"PNG":j="image/png";break;case"WEBP":j="image/webp";break;default:j="image/jpeg"}return Jh(L.toDataURL(j,1).split("base64,").pop())}},m=function(L){var P=this.internal.collections[e+"images"];if(P){for(var ne in P)if(L===P[ne].alias)return P[ne]}},b=function(L,P,ne){return L||P||(L=-96,P=-96),L<0&&(L=-1*ne.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*ne.height*72/P/this.internal.scaleFactor),L===0&&(L=P*ne.width/ne.height),P===0&&(P=L*ne.height/ne.width),[L,P]},y=function(L,P,ne,V,j,F){var D=b.call(this,ne,V,j),N=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,fe=c.call(this);if(ne=D[0],V=D[1],fe[j.index]=j,F){F*=Math.PI/180;var ae=Math.cos(F),A=Math.sin(F),O=function(he){return he.toFixed(4)},Y=[O(ae),O(A),O(-1*A),O(ae),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,N(L),ee(P+V),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([N(ne),"0","0",N(V),"0","0","cm"].join(" "))):this.internal.write([N(ne),"0","0",N(V),N(L),ee(P+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+j.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(L){var P,ne,V=0;if(typeof L=="string")for(ne=L.length,P=0;P<ne;P++)V=(V<<5)-V+L.charCodeAt(P),V|=0;else if(z(L))for(ne=L.byteLength/2,P=0;P<ne;P++)V=(V<<5)-V+L[P],V|=0;return V},S=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},I=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var P=L.indexOf(",");return P<0?null:L.substring(0,P).trim().endsWith("base64")?L.substring(P+1):null};t.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},H=t.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,ne=new Uint8Array(P),V=0;V<P;V++)ne[V]=L.charCodeAt(V);return ne},U=t.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",ne=z(L)?L:new Uint8Array(L),V=0;V<ne.length;V+=8192)P+=String.fromCharCode.apply(null,ne.subarray(V,V+8192));return P};t.addImage=function(){var L,P,ne,V,j,F,D,N,ee;if(typeof arguments[1]=="number"?(P=n,ne=arguments[1],V=arguments[2],j=arguments[3],F=arguments[4],D=arguments[5],N=arguments[6],ee=arguments[7]):(P=arguments[1],ne=arguments[2],V=arguments[3],j=arguments[4],F=arguments[5],D=arguments[6],N=arguments[7],ee=arguments[8]),nn(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var fe=L;L=fe.imageData,P=fe.format||P||n,ne=fe.x||ne||0,V=fe.y||V||0,j=fe.w||fe.width||j,F=fe.h||fe.height||F,D=fe.alias||D,N=fe.compression||N,ee=fe.rotation||fe.angle||ee}var ae=this.internal.getFilters();if(N===void 0&&ae.indexOf("FlateEncode")!==-1&&(N="SLOW"),isNaN(ne)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var A=T.call(this,L,P,D,N);return y.call(this,ne,V,j,F,A,ee),this};var T=function(L,P,ne,V){var j,F,D;if(typeof L=="string"&&i(L)===n){L=unescape(L);var N=q(L,!1);(N!==""||(N=t.loadFile(L,!0))!==void 0)&&(L=N)}if(p(L)&&(L=f(L,P)),P=i(L,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((D=ne)==null||D.length===0)&&(ne=function(ee){return typeof ee=="string"||z(ee)?k(ee):z(ee.data)?k(ee.data):null}(L)),(j=m.call(this,ne))||(L instanceof Uint8Array||P==="RGBA"||(F=L,L=H(L)),j=this["process"+P.toUpperCase()](L,u.call(this),ne,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:C.NONE}(V),F)),!j)throw new Error("An unknown error occurred whilst processing the image.");return j},q=t.__addimage__.convertBase64ToBinaryString=function(L,P){P=typeof P!="boolean"||P;var ne,V="";if(typeof L=="string"){var j;ne=(j=I(L))!==null&&j!==void 0?j:L;try{V=Jh(ne)}catch(F){if(P)throw S(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(L){var P,ne,V="";if(p(L)&&(L=f(L)),typeof L=="string"&&i(L)===n&&((V=q(L,!1))===""&&(V=t.loadFile(L)||""),L=V),ne=i(L),!h(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(L instanceof Uint8Array||(L=H(L)),!(P=this["process"+ne.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=ne,P}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var s,i,r,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((s=c[h]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){s=c[p];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),C=s.title||"Note";r="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(s.bounds.x)+" "+a(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+a(s.bounds.y)+"] ")+"/Contents ("+f(w(s.contents))+")",r+=" /Popup "+y.objId+" 0 R",r+=" /P "+l.objId+" 0 R",r+=" /T ("+f(w(C))+") >>",b.content=r;var k=b.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(s.bounds.x+30)+" "+a(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+a(s.bounds.y)+"] ")+" /Parent "+k,s.open&&(r+=" /Open true"),r+=" >>",y.content=r,this.internal.write(b.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+o(s.bounds.x)+" "+a(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+a(s.bounds.y+s.bounds.h)+"] ";var S=s.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(m(s.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(s.options.name){var I=this.annotations._nameMap[s.options.name];s.options.pageNumber=I.page,s.options.top=I.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",r="",s.options.url)r="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(s.options.url))+") >>";else if(s.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,r+=" /FitV "+s.options.left+"]";break;default:var z=a(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),r+=" /XYZ "+s.options.left+" "+z+" "+s.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},t.link=function(n,s,i,r,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(s),w:l(n+i),h:c(s+r)},options:o,type:"link"})},t.textWithLink=function(n,s,i,r){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){a=r.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,s,i,r),i+=.2*c,r.align==="center"&&(s-=l/2),r.align==="right"&&(s-=l),this.link(s,i-c,a,o,r),l},t.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var r=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&r(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&r(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&r(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&r(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&r(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var y=0,w=n,C="",k=0;for(y=0;y<b.length;y+=1)w[b.charCodeAt(y)]!==void 0?(k++,typeof(w=w[b.charCodeAt(y)])=="number"&&(C+=String.fromCharCode(w),w=n,k=0),y===b.length-1&&(w=n,C+=b.charAt(y-(k-1)),y-=k-1,k=0)):(w=n,C+=b.charAt(y-k),y-=k,k=0);return C};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&s[b.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(b,y,w){return o(b)?r(b)===!1?-1:!c(b)||!o(y)&&!o(w)||!o(w)&&a(y)||a(b)&&!o(y)||a(b)&&l(y)||a(b)&&a(y)?0:u(b)&&o(y)&&!a(y)&&o(w)&&c(w)?3:a(b)||!o(w)?1:2:-1},f=function(b){var y=0,w=0,C=0,k="",S="",I="",z=(b=b||"").split("\\s+"),H=[];for(y=0;y<z.length;y+=1){for(H.push(""),w=0;w<z[y].length;w+=1)k=z[y][w],S=z[y][w-1],I=z[y][w+1],o(k)?(C=p(k,S,I),H[y]+=C!==-1?String.fromCharCode(e[k.charCodeAt(0)][C]):k):H[y]+=k;H[y]=h(H[y])}return H.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var b,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var C=0;for(w=[],C=0;C<y.length;C+=1)Array.isArray(y[C])?w.push([f(y[C][0]),y[C][1],y[C][2]]):w.push([f(y[C])]);b=w}else b=f(y);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",m])}(ot.API),ot.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(a){r=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,s){var i;if((n=n||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(b){m=b}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return s.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){s.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,b=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,S){return k.concat(y.splitTextToSize(S,w))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)f<(b=this.getStringUnitWidth(l[C],{font:h})*u)&&(f=b);return f!==0&&(m=l.length),{w:f/=p,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new r(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(s.call(this),!u)throw new Error("No data for PDF table.");var f,m,b,y,w=[],C=[],k=[],S={},I={},z=[],H=[],U=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,q=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,L=p.margins||Object.assign({width:this.getPageWidth()},e),P=typeof p.padding=="number"?p.padding:3,ne=p.headerBackgroundColor||"#c8c8c8",V=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=V,this.setFontSize(q),h==null)C=w=Object.keys(u[0]),k=w.map(function(){return"left"});else if(Array.isArray(h)&&nn(h[0])==="object")for(w=h.map(function(fe){return fe.name}),C=h.map(function(fe){return fe.prompt||fe.name||""}),k=h.map(function(fe){return fe.align||"left"}),f=0;f<h.length;f+=1)I[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(C=w=h,k=w.map(function(){return"left"}));if(U||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<w.length;f+=1){for(S[y=w[f]]=u.map(function(fe){return fe[y]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(C[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=S[y],this.setFont(void 0,"normal"),b=0;b<m.length;b+=1)z.push(this.getTextDimensions(m[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[y]=Math.max.apply(null,z)+P+P,z=[]}if(T){var j={};for(f=0;f<w.length;f+=1)j[w[f]]={},j[w[f]].text=C[f],j[w[f]].align=k[f];var F=a.call(this,j,I);H=w.map(function(fe){return new r(l,c,I[fe],F,j[fe].text,void 0,j[fe].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var D=h.reduce(function(fe,ae){return fe[ae.name]=ae.align,fe},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var N=a.call(this,u[f],I);for(b=0;b<w.length;b+=1){var ee=u[f][w[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:b,data:ee},this),o.call(this,new r(l,c,I[w[b]],N,ee,f+2,D[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(l){s.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ot.API);var Cw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u0=xw(kw),Sw=[100,200,300,400,500,600,700,800,900],aB=xw(Sw);function Kp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(r){return Cw[r=r||"normal"]?r:"normal"}(t.style),s=function(r){return r?typeof r=="number"?r>=100&&r<=900&&r%100==0?r:400:/^\d00$/.test(r)?parseInt(r):r==="bold"?700:400:400}(t.weight),i=function(r){return typeof u0[r=r||"normal"]=="number"?r:"normal"}(t.stretch);return{family:e,style:n,weight:s,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,s].join(" ")}}}function xv(t,e,n,s){var i;for(i=n;i>=0&&i<e.length;i+=s)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=s)if(t[e[i]])return t[e[i]]}var lB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Sv(t){return t.trimLeft()}function cB(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function uB(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ah,Av,Lv,Dl,Lh,Ev,Tv,Pv,Yp=["times"];function Nv(t,e,n,s,i){var r=4,o=Ov;switch(i){case ot.API.image_compression.FAST:r=1,o=Iv;break;case ot.API.image_compression.MEDIUM:r=6,o=Dv;break;case ot.API.image_compression.SLOW:r=9,o=Mv}t=function(l,c,u,h){for(var p,f=l.length/c,m=new Uint8Array(l.length+f),b=[dB,Iv,Ov,Dv,Mv],y=0;y<f;y+=1){var w=y*c,C=l.subarray(w,w+c);if(h)m.set(h(C,u,p),w+y);else{for(var k=b.length,S=[],I=0;I<k;I+=1)S[I]=b[I](C,u,p);var z=fB(S.concat());m.set(S[z],w+y)}p=C}return m}(t,e,Math.ceil(n*s/8),o);var a=s0(t,{level:r});return ot.API.__addimage__.arrayBufferToBinaryString(a)}function dB(t){var e=Array.apply([],t);return e.unshift(0),e}function Iv(t,e){var n=t.length,s=[];s[0]=1;for(var i=0;i<n;i+=1){var r=t[i-e]||0;s[i+1]=t[i]-r+256&255}return s}function Ov(t,e,n){var s=t.length,i=[];i[0]=2;for(var r=0;r<s;r+=1){var o=n&&n[r]||0;i[r+1]=t[r]-o+256&255}return i}function Dv(t,e,n){var s=t.length,i=[];i[0]=3;for(var r=0;r<s;r+=1){var o=t[r-e]||0,a=n&&n[r]||0;i[r+1]=t[r]+256-(o+a>>>1)&255}return i}function Mv(t,e,n){var s=t.length,i=[];i[0]=4;for(var r=0;r<s;r+=1){var o=hB(t[r-e]||0,n&&n[r]||0,n&&n[r-e]||0);i[r+1]=t[r]-o+256&255}return i}function hB(t,e,n){if(t===e&&e===n)return t;var s=Math.abs(e-n),i=Math.abs(t-n),r=Math.abs(t+e-n-n);return s<=i&&s<=r?t:i<=r?e:n}function fB(t){var e=t.map(function(n){return n.reduce(function(s,i){return s+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Zp(t,e,n){var s=e*n,i=Math.floor(s/8),r=16-(s-8*i+n),o=(1<<n)-1;return Aw(t,i)>>r&o}function Rv(t,e,n,s){var i=n*s,r=Math.floor(i/8),o=16-(i-8*r+s),a=(1<<s)-1,l=(e&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(t,r,Aw(t,r)&~(a<<o)&65535|l)}function Aw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function pB(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,i=t[e++],r=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;r&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,p=null,f=0,m=null;for(this.width=n,this.height=s;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&b||(p=null),f=b>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,S=t[e++],I=S>>6&1,z=1<<1+(7&S),H=a,U=l,T=!1;S>>7&&(T=!0,H=e,U=z,e+=3*z);var q=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x:y,y:w,width:C,height:k,has_local_palette:T,palette_offset:H,palette_size:U,data_offset:q,data_length:e-q,transparent_index:p,interlaced:!!I,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,ne){var V=this.frameInfo(P),j=V.width*V.height,F=new Uint8Array(j);$v(t,V.data_offset,F,j);var D=V.palette_offset,N=V.transparent_index;N===null&&(N=256);var ee=V.width,fe=n-ee,ae=ee,A=4*(V.y*n+V.x),O=4*((V.y+V.height)*n+V.x),Y=A,he=4*fe;V.interlaced===!0&&(he+=4*n*7);for(var ge=8,J=0,X=F.length;J<X;++J){var se=F[J];if(ae===0&&(ae=ee,(Y+=he)>=O&&(he=4*fe+4*n*(ge-1),Y=A+(ee+fe)*(ge<<1),ge>>=1)),se===N)Y+=4;else{var me=t[D+3*se],Ee=t[D+3*se+1],te=t[D+3*se+2];ne[Y++]=te,ne[Y++]=Ee,ne[Y++]=me,ne[Y++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(P,ne){var V=this.frameInfo(P),j=V.width*V.height,F=new Uint8Array(j);$v(t,V.data_offset,F,j);var D=V.palette_offset,N=V.transparent_index;N===null&&(N=256);var ee=V.width,fe=n-ee,ae=ee,A=4*(V.y*n+V.x),O=4*((V.y+V.height)*n+V.x),Y=A,he=4*fe;V.interlaced===!0&&(he+=4*n*7);for(var ge=8,J=0,X=F.length;J<X;++J){var se=F[J];if(ae===0&&(ae=ee,(Y+=he)>=O&&(he=4*fe+4*n*(ge-1),Y=A+(ee+fe)*(ge<<1),ge>>=1)),se===N)Y+=4;else{var me=t[D+3*se],Ee=t[D+3*se+1],te=t[D+3*se+2];ne[Y++]=me,ne[Y++]=Ee,ne[Y++]=te,ne[Y++]=255}--ae}}}function $v(t,e,n,s){for(var i=t[e++],r=1<<i,o=r+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=t[e++],m=new Int32Array(4096),b=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var y=h&c;if(h>>=l,u-=l,y!==r){if(y===o)break;for(var w=y<a?y:b,C=0,k=w;k>r;)k=m[k]>>8,++C;var S=k;if(p+C+(w!==y?1:0)>s)return void an.log("Warning, gif stream longer than expected.");n[p++]=S;var I=p+=C;for(w!==y&&(n[p++]=S),k=w;C--;)k=m[k],n[--I]=255&k,k>>=8;b!==null&&a<4096&&(m[a++]=b<<8|S,a>=c+1&&l<12&&(++l,c=c<<1|1)),b=y}else a=o+1,c=(1<<(l=i+1))-1,b=null}return p!==s&&an.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Jp(t){var e,n,s,i,r,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),m=new Array(64),b=[],y=0,w=7,C=new Array(64),k=new Array(64),S=new Array(64),I=new Array(256),z=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(A,O){for(var Y=0,he=0,ge=new Array,J=1;J<=16;J++){for(var X=1;X<=A[J];X++)ge[O[he]]=[],ge[O[he]][0]=Y,ge[O[he]][1]=J,he++,Y++;Y*=2}return ge}function D(A){for(var O=A[0],Y=A[1]-1;Y>=0;)O&1<<Y&&(y|=1<<w),Y--,--w<0&&(y==255?(N(255),N(0)):N(y),w=7,y=0)}function N(A){b.push(A)}function ee(A){N(A>>8&255),N(255&A)}function fe(A,O,Y,he,ge){for(var J,X=ge[0],se=ge[240],me=function(we,Ne){var xe,Ve,Ie,qe,He,Ke,gt,Ze,Je,nt,Xe=0;for(Je=0;Je<8;++Je){xe=we[Xe],Ve=we[Xe+1],Ie=we[Xe+2],qe=we[Xe+3],He=we[Xe+4],Ke=we[Xe+5],gt=we[Xe+6];var Rt=xe+(Ze=we[Xe+7]),$t=xe-Ze,st=Ve+gt,ht=Ve-gt,Mt=Ie+Ke,mt=Ie-Ke,Ft=qe+He,Tt=qe-He,Nn=Rt+Ft,Gn=Rt-Ft,sn=st+Mt,Ct=st-Mt;we[Xe]=Nn+sn,we[Xe+4]=Nn-sn;var Kt=.707106781*(Ct+Gn);we[Xe+2]=Gn+Kt,we[Xe+6]=Gn-Kt;var ea=.382683433*((Nn=Tt+mt)-(Ct=ht+$t)),vs=.5411961*Nn+ea,wr=1.306562965*Ct+ea,Xi=.707106781*(sn=mt+ht),bt=$t+Xi,_r=$t-Xi;we[Xe+5]=_r+vs,we[Xe+3]=_r-vs,we[Xe+1]=bt+wr,we[Xe+7]=bt-wr,Xe+=8}for(Xe=0,Je=0;Je<8;++Je){xe=we[Xe],Ve=we[Xe+8],Ie=we[Xe+16],qe=we[Xe+24],He=we[Xe+32],Ke=we[Xe+40],gt=we[Xe+48];var xr=xe+(Ze=we[Xe+56]),ui=xe-Ze,di=Ve+gt,Sn=Ve-gt,ss=Ie+Ke,ls=Ie-Ke,ta=qe+He,ro=qe-He,Ni=xr+ta,Qi=xr-ta,Ii=di+ss,Oi=di-ss;we[Xe]=Ni+Ii,we[Xe+32]=Ni-Ii;var hi=.707106781*(Oi+Qi);we[Xe+16]=Qi+hi,we[Xe+48]=Qi-hi;var na=.382683433*((Ni=ro+ls)-(Oi=Sn+ui)),er=.5411961*Ni+na,sa=1.306562965*Oi+na,hl=.707106781*(Ii=ls+Sn),fl=ui+hl,pl=ui-hl;we[Xe+40]=pl+er,we[Xe+24]=pl-er,we[Xe+8]=fl+sa,we[Xe+56]=fl-sa,Xe++}for(Je=0;Je<64;++Je)nt=we[Je]*Ne[Je],f[Je]=nt>0?nt+.5|0:nt-.5|0;return f}(A,O),Ee=0;Ee<64;++Ee)m[H[Ee]]=me[Ee];var te=m[0]-Y;Y=m[0],te==0?D(he[0]):(D(he[p[J=32767+te]]),D(h[J]));for(var re=63;re>0&&m[re]==0;)re--;if(re==0)return D(X),Y;for(var oe,G=1;G<=re;){for(var Pe=G;m[G]==0&&G<=re;)++G;var Ae=G-Pe;if(Ae>=16){oe=Ae>>4;for(var De=1;De<=oe;++De)D(se);Ae&=15}J=32767+m[G],D(ge[(Ae<<4)+p[J]]),D(h[J]),G++}return re!=63&&D(X),Y}function ae(A){A=Math.min(Math.max(A,1),100),r!=A&&(function(O){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var ge=o((Y[he]*O+50)/100);ge=Math.min(Math.max(ge,1),255),a[H[he]]=ge}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],X=0;X<64;X++){var se=o((J[X]*O+50)/100);se=Math.min(Math.max(se,1),255),l[H[X]]=se}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,te=0;te<8;te++)for(var re=0;re<8;re++)c[Ee]=1/(a[H[Ee]]*me[te]*me[re]*8),u[Ee]=1/(l[H[Ee]]*me[te]*me[re]*8),Ee++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),r=A)}this.encode=function(A,O){O&&ae(O),b=new Array,y=0,w=7,ee(65496),ee(65504),ee(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),ee(1),ee(1),N(0),N(0),function(){ee(65499),ee(132),N(0);for(var Ve=0;Ve<64;Ve++)N(a[Ve]);N(1);for(var Ie=0;Ie<64;Ie++)N(l[Ie])}(),function(Ve,Ie){ee(65472),ee(17),N(8),ee(Ie),ee(Ve),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(A.width,A.height),function(){ee(65476),ee(418),N(0);for(var Ve=0;Ve<16;Ve++)N(U[Ve+1]);for(var Ie=0;Ie<=11;Ie++)N(T[Ie]);N(16);for(var qe=0;qe<16;qe++)N(q[qe+1]);for(var He=0;He<=161;He++)N(L[He]);N(1);for(var Ke=0;Ke<16;Ke++)N(P[Ke+1]);for(var gt=0;gt<=11;gt++)N(ne[gt]);N(17);for(var Ze=0;Ze<16;Ze++)N(V[Ze+1]);for(var Je=0;Je<=161;Je++)N(j[Je])}(),ee(65498),ee(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var Y=0,he=0,ge=0;y=0,w=7,this.encode.displayName="_encode_";for(var J,X,se,me,Ee,te,re,oe,G,Pe=A.data,Ae=A.width,De=A.height,we=4*Ae,Ne=0;Ne<De;){for(J=0;J<we;){for(Ee=we*Ne+J,re=-1,oe=0,G=0;G<64;G++)te=Ee+(oe=G>>3)*we+(re=4*(7&G)),Ne+oe>=De&&(te-=we*(Ne+1+oe-De)),J+re>=we&&(te-=J+re-we+4),X=Pe[te++],se=Pe[te++],me=Pe[te++],C[G]=(z[X]+z[se+256|0]+z[me+512|0]>>16)-128,k[G]=(z[X+768|0]+z[se+1024|0]+z[me+1280|0]>>16)-128,S[G]=(z[X+1280|0]+z[se+1536|0]+z[me+1792|0]>>16)-128;Y=fe(C,c,Y,e,s),he=fe(k,u,he,n,i),ge=fe(S,u,ge,n,i),J+=32}Ne+=8}if(w>=0){var xe=[];xe[1]=w+1,xe[0]=(1<<w+1)-1,D(xe)}return ee(65497),new Uint8Array(b)},t=t||50,function(){for(var A=String.fromCharCode,O=0;O<256;O++)I[O]=A(O)}(),e=F(U,T),n=F(P,ne),s=F(q,L),i=F(V,j),function(){for(var A=1,O=2,Y=1;Y<=15;Y++){for(var he=A;he<O;he++)p[32767+he]=Y,h[32767+he]=[],h[32767+he][1]=Y,h[32767+he][0]=he;for(var ge=-(O-1);ge<=-A;ge++)p[32767+ge]=Y,h[32767+ge]=[],h[32767+ge][1]=Y,h[32767+ge][0]=O-1+ge;A<<=1,O<<=1}}(),function(){for(var A=0;A<256;A++)z[A]=19595*A,z[A+256|0]=38470*A,z[A+512|0]=7471*A+32768,z[A+768|0]=-11059*A,z[A+1024|0]=-21709*A,z[A+1280|0]=32768*A+8421375,z[A+1536|0]=-27439*A,z[A+1792|0]=-5329*A}(),ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ji(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jv(t){function e(T){if(!T)throw Error("assert :P")}function n(T,q,L){for(var P=0;4>P;P++)if(T[q+P]!=L.charCodeAt(P))return!0;return!1}function s(T,q,L,P,ne){for(var V=0;V<ne;V++)T[q+V]=L[P+V]}function i(T,q,L,P){for(var ne=0;ne<P;ne++)T[q+ne]=L}function r(T){return new Int32Array(T)}function o(T,q){for(var L=[],P=0;P<T;P++)L.push(new q);return L}function a(T,q){var L=[];return function P(ne,V,j){for(var F=j[V],D=0;D<F&&(ne.push(j.length>V+1?[]:new q),!(j.length<V+1));D++)P(ne[D],V+1,j)}(L,0,T),L}var l=function(){var T=this;function q(g,v){for(var x=1<<v-1>>>0;g&x;)x>>>=1;return x?(g&x-1)+x:g}function L(g,v,x,E,$){e(!(E%x));do g[v+(E-=x)]=$;while(0<E)}function P(g,v,x,E,$){if(e(2328>=$),512>=$)var W=r(512);else if((W=r($))==null)return 0;return function(K,Q,ie,ce,ve,Se){var ue,be,_e=Q,Oe=1<<ie,ke=r(16),Me=r(16);for(e(ve!=0),e(ce!=null),e(K!=null),e(0<ie),be=0;be<ve;++be){if(15<ce[be])return 0;++ke[ce[be]]}if(ke[0]==ve)return 0;for(Me[1]=0,ue=1;15>ue;++ue){if(ke[ue]>1<<ue)return 0;Me[ue+1]=Me[ue]+ke[ue]}for(be=0;be<ve;++be)ue=ce[be],0<ce[be]&&(Se[Me[ue]++]=be);if(Me[15]==1)return(ce=new ne).g=0,ce.value=Se[0],L(K,_e,1,Oe,ce),Oe;var je,ze=-1,Be=Oe-1,ut=0,Qe=1,Ot=1,it=1<<ie;for(be=0,ue=1,ve=2;ue<=ie;++ue,ve<<=1){if(Qe+=Ot<<=1,0>(Ot-=ke[ue]))return 0;for(;0<ke[ue];--ke[ue])(ce=new ne).g=ue,ce.value=Se[be++],L(K,_e+ut,ve,it,ce),ut=q(ut,ue)}for(ue=ie+1,ve=2;15>=ue;++ue,ve<<=1){if(Qe+=Ot<<=1,0>(Ot-=ke[ue]))return 0;for(;0<ke[ue];--ke[ue]){if(ce=new ne,(ut&Be)!=ze){for(_e+=it,je=1<<(ze=ue)-ie;15>ze&&!(0>=(je-=ke[ze]));)++ze,je<<=1;Oe+=it=1<<(je=ze-ie),K[Q+(ze=ut&Be)].g=je+ie,K[Q+ze].value=_e-Q-ze}ce.g=ue-ie,ce.value=Se[be++],L(K,_e+(ut>>ie),ve,it,ce),ut=q(ut,ue)}}return Qe!=2*Me[15]-1?0:Oe}(g,v,x,E,$,W)}function ne(){this.value=this.g=0}function V(){this.value=this.g=0}function j(){this.G=o(5,ne),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(wa,V)}function F(g,v,x,E){e(g!=null),e(v!=null),e(2147483648>E),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=x,g.Jd=v,g.Yc=x+E,g.Zc=4<=E?x+E-4+1:x,X(g)}function D(g,v){for(var x=0;0<v--;)x|=me(g,128)<<v;return x}function N(g,v){var x=D(g,v);return se(g)?-x:x}function ee(g,v,x,E){var $,W=0;for(e(g!=null),e(v!=null),e(4294967288>E),g.Sb=E,g.Ra=0,g.u=0,g.h=0,4<E&&(E=4),$=0;$<E;++$)W+=v[x+$]<<8*$;g.Ra=W,g.bb=E,g.oa=v,g.pa=x}function fe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<uo-8>>>0,++g.bb,g.u-=8;he(g)&&(g.h=1,g.u=0)}function ae(g,v){if(e(0<=v),!g.h&&v<=Ys){var x=Y(g)&Ks[v];return g.u+=v,fe(g),x}return g.h=1,g.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&uo-1)>>>0}function he(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>uo}function ge(g,v){g.u=v,g.h=he(g)}function J(g){g.u>=Tr&&(e(g.u>=Tr),fe(g))}function X(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function se(g){return D(g,1)}function me(g,v){var x=g.Ca;0>g.b&&X(g);var E=g.b,$=x*v>>>8,W=(g.I>>>E>$)+0;for(W?(x-=$,g.I-=$+1<<E>>>0):x=$+1,E=x,$=0;256<=E;)$+=8,E>>=8;return E=7^$+ho[E],g.b-=E,g.Ca=(x<<E)-1,W}function Ee(g,v,x){g[v+0]=x>>24&255,g[v+1]=x>>16&255,g[v+2]=x>>8&255,g[v+3]=255&x}function te(g,v){return g[v+0]|g[v+1]<<8}function re(g,v){return te(g,v)|g[v+2]<<16}function oe(g,v){return te(g,v)|te(g,v+2)<<16}function G(g,v){var x=1<<v;return e(g!=null),e(0<v),g.X=r(x),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function Pe(g,v){e(g!=null),e(v!=null),e(g.Xa==v.Xa),s(v.X,0,g.X,0,1<<v.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function De(g,v,x,E){e(x!=null),e(E!=null);var $=x[0],W=E[0];return $==0&&($=(g*W+v/2)/v),W==0&&(W=(v*$+g/2)/g),0>=$||0>=W?0:(x[0]=$,E[0]=W,1)}function we(g,v){return g+(1<<v)-1>>>v}function Ne(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function xe(g,v){T[v]=function(x,E,$,W,K,Q,ie){var ce;for(ce=0;ce<K;++ce){var ve=T[g](Q[ie+ce-1],$,W+ce);Q[ie+ce]=Ne(x[E+ce],ve)}}}function Ve(){this.ud=this.hd=this.jd=0}function Ie(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function qe(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function He(g,v){return qe(g+(g-v+.5>>1))}function Ke(g,v,x){return Math.abs(v-x)-Math.abs(g-x)}function gt(g,v,x,E,$,W,K){for(E=W[K-1],x=0;x<$;++x)W[K+x]=E=Ne(g[v+x],E)}function Ze(g,v,x,E,$){var W;for(W=0;W<x;++W){var K=g[v+W],Q=K>>8&255,ie=16711935&(ie=(ie=16711935&K)+((Q<<16)+Q));E[$+W]=(4278255360&K)+ie>>>0}}function Je(g,v){v.jd=255&g,v.hd=g>>8&255,v.ud=g>>16&255}function nt(g,v,x,E,$,W){var K;for(K=0;K<E;++K){var Q=v[x+K],ie=Q>>>8,ce=Q,ve=255&(ve=(ve=Q>>>16)+((g.jd<<24>>24)*(ie<<24>>24)>>>5));ce=255&(ce=(ce+=(g.hd<<24>>24)*(ie<<24>>24)>>>5)+((g.ud<<24>>24)*(ve<<24>>24)>>>5)),$[W+K]=(4278255360&Q)+(ve<<16)+ce}}function Xe(g,v,x,E,$){T[v]=function(W,K,Q,ie,ce,ve,Se,ue,be){for(ie=Se;ie<ue;++ie)for(Se=0;Se<be;++Se)ce[ve++]=$(Q[E(W[K++])])},T[g]=function(W,K,Q,ie,ce,ve,Se){var ue=8>>W.b,be=W.Ea,_e=W.K[0],Oe=W.w;if(8>ue)for(W=(1<<W.b)-1,Oe=(1<<ue)-1;K<Q;++K){var ke,Me=0;for(ke=0;ke<be;++ke)ke&W||(Me=E(ie[ce++])),ve[Se++]=$(_e[Me&Oe]),Me>>=ue}else T["VP8LMapColor"+x](ie,ce,_e,Oe,ve,Se,K,Q,be)}}function Rt(g,v,x,E,$){for(x=v+x;v<x;){var W=g[v++];E[$++]=W>>16&255,E[$++]=W>>8&255,E[$++]=255&W}}function $t(g,v,x,E,$){for(x=v+x;v<x;){var W=g[v++];E[$++]=W>>16&255,E[$++]=W>>8&255,E[$++]=255&W,E[$++]=W>>24&255}}function st(g,v,x,E,$){for(x=v+x;v<x;){var W=(K=g[v++])>>16&240|K>>12&15,K=240&K|K>>28&15;E[$++]=W,E[$++]=K}}function ht(g,v,x,E,$){for(x=v+x;v<x;){var W=(K=g[v++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;E[$++]=W,E[$++]=K}}function Mt(g,v,x,E,$){for(x=v+x;v<x;){var W=g[v++];E[$++]=255&W,E[$++]=W>>8&255,E[$++]=W>>16&255}}function mt(g,v,x,E,$,W){if(W==0)for(x=v+x;v<x;)Ee(E,((W=g[v++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),$+=32;else s(E,$,g,v,x)}function Ft(g,v){T[v][0]=T[g+"0"],T[v][1]=T[g+"1"],T[v][2]=T[g+"2"],T[v][3]=T[g+"3"],T[v][4]=T[g+"4"],T[v][5]=T[g+"5"],T[v][6]=T[g+"6"],T[v][7]=T[g+"7"],T[v][8]=T[g+"8"],T[v][9]=T[g+"9"],T[v][10]=T[g+"10"],T[v][11]=T[g+"11"],T[v][12]=T[g+"12"],T[v][13]=T[g+"13"],T[v][14]=T[g+"0"],T[v][15]=T[g+"0"]}function Tt(g){return g==Mf||g==Rf||g==Wd||g==$f}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new Gn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ea(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function vs(g,v){var x=g.T,E=v.ba.f.RGBA,$=E.eb,W=E.fb+g.ka*E.A,K=bi[v.ba.S],Q=g.y,ie=g.O,ce=g.f,ve=g.N,Se=g.ea,ue=g.W,be=v.cc,_e=v.dc,Oe=v.Mc,ke=v.Nc,Me=g.ka,je=g.ka+g.T,ze=g.U,Be=ze+1>>1;for(Me==0?K(Q,ie,null,null,ce,ve,Se,ue,ce,ve,Se,ue,$,W,null,null,ze):(K(v.ec,v.fc,Q,ie,be,_e,Oe,ke,ce,ve,Se,ue,$,W-E.A,$,W,ze),++x);Me+2<je;Me+=2)be=ce,_e=ve,Oe=Se,ke=ue,ve+=g.Rc,ue+=g.Rc,W+=2*E.A,K(Q,(ie+=2*g.fa)-g.fa,Q,ie,be,_e,Oe,ke,ce,ve,Se,ue,$,W-E.A,$,W,ze);return ie+=g.fa,g.j+je<g.o?(s(v.ec,v.fc,Q,ie,ze),s(v.cc,v.dc,ce,ve,Be),s(v.Mc,v.Nc,Se,ue,Be),x--):1&je||K(Q,ie,null,null,ce,ve,Se,ue,ce,ve,Se,ue,$,W+E.A,null,null,ze),x}function wr(g,v,x){var E=g.F,$=[g.J];if(E!=null){var W=g.U,K=v.ba.S,Q=K==qd||K==Wd;v=v.ba.f.RGBA;var ie=[0],ce=g.ka;ie[0]=g.T,g.Kb&&(ce==0?--ie[0]:(--ce,$[0]-=g.width),g.j+g.ka+g.T==g.o&&(ie[0]=g.o-g.j-ce));var ve=v.eb;ce=v.fb+ce*v.A,g=Gg(E,$[0],g.width,W,ie,ve,ce+(Q?0:3),v.A),e(x==ie),g&&Tt(K)&&Hc(ve,ce,Q,W,ie,v.A)}return 0}function Xi(g){var v=g.ma,x=v.ba.S,E=11>x,$=x==Vd||x==Hd||x==qd||x==Df||x==12||Tt(x);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Rc(v.Oa,g,$?11:12))return 0;if($&&Tt(x)&&$d(),g.da)alert("todo:use_scaling");else{if(E){if(v.Ib=ea,g.Kb){if(x=g.U+1>>1,v.memory=r(g.U+2*x),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+x,v.Ib=vs,$d()}}else alert("todo:EmitYUV");$&&(v.Jb=wr,E&&pi())}if(E&&!c5){for(g=0;256>g;++g)G8[g]=89858*(g-128)+Kd>>Gd,Z8[g]=-22014*(g-128)+Kd,Y8[g]=-45773*(g-128),K8[g]=113618*(g-128)+Kd>>Gd;for(g=Wc;g<Ff;++g)v=76283*(g-16)+Kd>>Gd,J8[g-Wc]=An(v,255),X8[g-Wc]=An(v+8>>4,15);c5=1}return 1}function bt(g){var v=g.ma,x=g.U,E=g.T;return e(!(1&g.ka)),0>=x||0>=E?0:(x=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,x),v.Dc+=x,1)}function _r(g){g.ma.memory=null}function xr(g,v,x,E){return ae(g,8)!=47?0:(v[0]=ae(g,14)+1,x[0]=ae(g,14)+1,E[0]=ae(g,1),ae(g,3)!=0?0:!g.h)}function ui(g,v){if(4>g)return g+1;var x=g-2>>1;return(2+(1&g)<<x)+ae(v,x)+1}function di(g,v){return 120<v?v-120:1<=(x=((x=O8[v-1])>>4)*g+(8-(15&x)))?x:1;var x}function Sn(g,v,x){var E=Y(x),$=g[v+=255&E].g-8;return 0<$&&(ge(x,x.u+8),E=Y(x),v+=g[v].value,v+=E&(1<<$)-1),ge(x,x.u+g[v].g),g[v].value}function ss(g,v,x){return x.g+=g.g,x.value+=g.value<<v>>>0,e(8>=x.g),g.g}function ls(g,v,x){var E=g.xc;return e((v=E==0?0:g.vc[g.md*(x>>E)+(v>>E)])<g.Wb),g.Ya[v]}function ta(g,v,x,E){var $=g.ab,W=g.c*v,K=g.C;v=K+v;var Q=x,ie=E;for(E=g.Ta,x=g.Ua;0<$--;){var ce=g.gc[$],ve=K,Se=v,ue=Q,be=ie,_e=(ie=E,Q=x,ce.Ea);switch(e(ve<Se),e(Se<=ce.nc),ce.hc){case 2:On(ue,be,(Se-ve)*_e,ie,Q);break;case 0:var Oe=ve,ke=Se,Me=ie,je=Q,ze=(it=ce).Ea;Oe==0&&(jc(ue,be,null,null,1,Me,je),gt(ue,be+1,0,0,ze-1,Me,je+1),be+=ze,je+=ze,++Oe);for(var Be=1<<it.b,ut=Be-1,Qe=we(ze,it.b),Ot=it.K,it=it.w+(Oe>>it.b)*Qe;Oe<ke;){var Ut=Ot,Zn=it,Dt=1;for(xl(ue,be,Me,je-ze,1,Me,je);Dt<ze;){var rt=(Dt&~ut)+Be;rt>ze&&(rt=ze),(0,Fc[Ut[Zn++]>>8&15])(ue,be+ +Dt,Me,je+Dt-ze,rt-Dt,Me,je+Dt),Dt=rt}be+=ze,je+=ze,++Oe&ut||(it+=Qe)}Se!=ce.nc&&s(ie,Q-_e,ie,Q+(Se-ve-1)*_e,_e);break;case 1:for(_e=ue,ke=be,ze=(ue=ce.Ea)-(je=ue&~(Me=(be=1<<ce.b)-1)),Oe=we(ue,ce.b),Be=ce.K,ce=ce.w+(ve>>ce.b)*Oe;ve<Se;){for(ut=Be,Qe=ce,Ot=new Ve,it=ke+je,Ut=ke+ue;ke<it;)Je(ut[Qe++],Ot),Uc(Ot,_e,ke,be,ie,Q),ke+=be,Q+=be;ke<Ut&&(Je(ut[Qe++],Ot),Uc(Ot,_e,ke,ze,ie,Q),ke+=ze,Q+=ze),++ve&Me||(ce+=Oe)}break;case 3:if(ue==ie&&be==Q&&0<ce.b){for(ke=ie,ue=_e=Q+(Se-ve)*_e-(je=(Se-ve)*we(ce.Ea,ce.b)),be=ie,Me=Q,Oe=[],je=(ze=je)-1;0<=je;--je)Oe[je]=be[Me+je];for(je=ze-1;0<=je;--je)ke[ue+je]=Oe[je];Bd(ce,ve,Se,ie,_e,ie,Q)}else Bd(ce,ve,Se,ue,be,ie,Q)}Q=E,ie=x}ie!=x&&s(E,x,Q,ie,W)}function ro(g,v){var x=g.V,E=g.Ba+g.c*g.C,$=v-g.C;if(e(v<=g.l.o),e(16>=$),0<$){var W=g.l,K=g.Ta,Q=g.Ua,ie=W.width;if(ta(g,$,x,E),$=Q=[Q],e((x=g.C)<(E=v)),e(W.v<W.va),E>W.o&&(E=W.o),x<W.j){var ce=W.j-x;x=W.j,$[0]+=ce*ie}if(x>=E?x=0:($[0]+=4*W.v,W.ka=x-W.j,W.U=W.va-W.v,W.T=E-x,x=1),x){if(Q=Q[0],11>(x=g.ca).S){var ve=x.f.RGBA,Se=(E=x.S,$=W.U,W=W.T,ce=ve.eb,ve.A),ue=W;for(ve=ve.fb+g.Ma*ve.A;0<ue--;){var be=K,_e=Q,Oe=$,ke=ce,Me=ve;switch(E){case zd:zc(be,_e,Oe,ke,Me);break;case Vd:fo(be,_e,Oe,ke,Me);break;case Mf:fo(be,_e,Oe,ke,Me),Hc(ke,Me,0,Oe,1,0);break;case e5:_a(be,_e,Oe,ke,Me);break;case Hd:mt(be,_e,Oe,ke,Me,1);break;case Rf:mt(be,_e,Oe,ke,Me,1),Hc(ke,Me,0,Oe,1,0);break;case qd:mt(be,_e,Oe,ke,Me,0);break;case Wd:mt(be,_e,Oe,ke,Me,0),Hc(ke,Me,1,Oe,1,0);break;case Df:po(be,_e,Oe,ke,Me);break;case $f:po(be,_e,Oe,ke,Me),Wg(ke,Me,Oe,1,0);break;case t5:go(be,_e,Oe,ke,Me);break;default:e(0)}Q+=ie,ve+=Se}g.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=x.height)}}g.C=v,e(g.C<=g.i)}function Ni(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var x=g.Ya[v].G,E=g.Ya[v].H;if(0<x[1][E[1]+0].g||0<x[2][E[2]+0].g||0<x[3][E[3]+0].g)return 0}return 1}function Qi(g,v,x,E,$,W){if(g.Z!=0){var K=g.qd,Q=g.rd;for(e(bo[g.Z]!=null);v<x;++v)bo[g.Z](K,Q,E,$,E,$,W),K=E,Q=$,$+=W;g.qd=K,g.rd=Q}}function Ii(g,v){var x=g.l.ma,E=x.Z==0||x.Z==1?g.l.j:g.C;if(E=g.C<E?E:g.C,e(v<=g.l.o),v>E){var $=g.l.width,W=x.ca,K=x.tb+$*E,Q=g.V,ie=g.Ba+g.c*E,ce=g.gc;e(g.ab==1),e(ce[0].hc==3),sr(ce[0],E,v,Q,ie,W,K),Qi(x,E,v,W,K,$)}g.C=g.Ma=v}function Oi(g,v,x,E,$,W,K){var Q=g.$/E,ie=g.$%E,ce=g.m,ve=g.s,Se=x+g.$,ue=Se;$=x+E*$;var be=x+E*W,_e=280+ve.ua,Oe=g.Pb?Q:16777216,ke=0<ve.ua?ve.Wa:null,Me=ve.wc,je=Se<be?ls(ve,ie,Q):null;e(g.C<W),e(be<=$);var ze=!1;e:for(;;){for(;ze||Se<be;){var Be=0;if(Q>=Oe){var ut=Se-x;e((Oe=g).Pb),Oe.wd=Oe.m,Oe.xd=ut,0<Oe.s.ua&&Pe(Oe.s.Wa,Oe.s.vb),Oe=Q+M8}if(ie&Me||(je=ls(ve,ie,Q)),e(je!=null),je.Qb&&(v[Se]=je.qb,ze=!0),!ze)if(J(ce),je.jc){Be=ce,ut=v;var Qe=Se,Ot=je.pd[Y(Be)&wa-1];e(je.jc),256>Ot.g?(ge(Be,Be.u+Ot.g),ut[Qe]=Ot.value,Be=0):(ge(Be,Be.u+Ot.g-256),e(256<=Ot.value),Be=Ot.value),Be==0&&(ze=!0)}else Be=Sn(je.G[0],je.H[0],ce);if(ce.h)break;if(ze||256>Be){if(!ze)if(je.nd)v[Se]=(je.qb|Be<<8)>>>0;else{if(J(ce),ze=Sn(je.G[1],je.H[1],ce),J(ce),ut=Sn(je.G[2],je.H[2],ce),Qe=Sn(je.G[3],je.H[3],ce),ce.h)break;v[Se]=(Qe<<24|ze<<16|Be<<8|ut)>>>0}if(ze=!1,++Se,++ie>=E&&(ie=0,++Q,K!=null&&Q<=W&&!(Q%16)&&K(g,Q),ke!=null))for(;ue<Se;)Be=v[ue++],ke.X[(506832829*Be&4294967295)>>>ke.Mb]=Be}else if(280>Be){if(Be=ui(Be-256,ce),ut=Sn(je.G[4],je.H[4],ce),J(ce),ut=di(E,ut=ui(ut,ce)),ce.h)break;if(Se-x<ut||$-Se<Be)break e;for(Qe=0;Qe<Be;++Qe)v[Se+Qe]=v[Se+Qe-ut];for(Se+=Be,ie+=Be;ie>=E;)ie-=E,++Q,K!=null&&Q<=W&&!(Q%16)&&K(g,Q);if(e(Se<=$),ie&Me&&(je=ls(ve,ie,Q)),ke!=null)for(;ue<Se;)Be=v[ue++],ke.X[(506832829*Be&4294967295)>>>ke.Mb]=Be}else{if(!(Be<_e))break e;for(ze=Be-280,e(ke!=null);ue<Se;)Be=v[ue++],ke.X[(506832829*Be&4294967295)>>>ke.Mb]=Be;Be=Se,e(!(ze>>>(ut=ke).Xa)),v[Be]=ut.X[ze],ze=!0}ze||e(ce.h==he(ce))}if(g.Pb&&ce.h&&Se<$)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Pe(g.s.vb,g.s.Wa);else{if(ce.h)break e;K?.(g,Q>W?W:Q),g.a=0,g.$=Se-x}return 1}return g.a=3,0}function hi(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,e(g!=null)}function na(){var g=new lt;return g==null?null:(g.a=0,g.xb=i5,Ft("Predictor","VP8LPredictors"),Ft("Predictor","VP8LPredictors_C"),Ft("PredictorAdd","VP8LPredictorsAdd"),Ft("PredictorAdd","VP8LPredictorsAdd_C"),On=Ze,Uc=nt,zc=Rt,fo=$t,po=st,go=ht,_a=Mt,T.VP8LMapColor32b=nr,T.VP8LMapColor8b=Bc,g)}function er(g,v,x,E,$){var W=1,K=[g],Q=[v],ie=E.m,ce=E.s,ve=null,Se=0;e:for(;;){if(x)for(;W&&ae(ie,1);){var ue=K,be=Q,_e=E,Oe=1,ke=_e.m,Me=_e.gc[_e.ab],je=ae(ke,2);if(_e.Oc&1<<je)W=0;else{switch(_e.Oc|=1<<je,Me.hc=je,Me.Ea=ue[0],Me.nc=be[0],Me.K=[null],++_e.ab,e(4>=_e.ab),je){case 0:case 1:Me.b=ae(ke,3)+2,Oe=er(we(Me.Ea,Me.b),we(Me.nc,Me.b),0,_e,Me.K),Me.K=Me.K[0];break;case 3:var ze,Be=ae(ke,8)+1,ut=16<Be?0:4<Be?1:2<Be?2:3;if(ue[0]=we(Me.Ea,ut),Me.b=ut,ze=Oe=er(Be,1,0,_e,Me.K)){var Qe,Ot=Be,it=Me,Ut=1<<(8>>it.b),Zn=r(Ut);if(Zn==null)ze=0;else{var Dt=it.K[0],rt=it.w;for(Zn[0]=it.K[0][0],Qe=1;Qe<1*Ot;++Qe)Zn[Qe]=Ne(Dt[rt+Qe],Zn[Qe-1]);for(;Qe<4*Ut;++Qe)Zn[Qe]=0;it.K[0]=null,it.K[0]=Zn,ze=1}}Oe=ze;break;case 2:break;default:e(0)}W=Oe}}if(K=K[0],Q=Q[0],W&&ae(ie,1)&&!(W=1<=(Se=ae(ie,4))&&11>=Se)){E.a=3;break e}var Ge;if(Ge=W)t:{var Mn,Pt,zt,gn=E,us=K,Is=Q,Ln=Se,ys=x,Os=gn.m,Jn=gn.s,Vt=[null],Qt=1,En=0,en=D8[Ln];n:for(;;){if(ys&&ae(Os,1)){var ds=ae(Os,3)+2,Ri=we(us,ds),Rn=we(Is,ds),Fs=Ri*Rn;if(!er(Ri,Rn,0,gn,Vt))break n;for(Vt=Vt[0],Jn.xc=ds,Mn=0;Mn<Fs;++Mn){var on=Vt[Mn]>>8&65535;Vt[Mn]=on,on>=Qt&&(Qt=on+1)}}if(Os.h)break n;for(Pt=0;5>Pt;++Pt){var Xn=n5[Pt];!Pt&&0<Ln&&(Xn+=1<<Ln),En<Xn&&(En=Xn)}var Js=o(Qt*en,ne),Ds=Qt,Xs=o(Ds,j);if(Xs==null)var Qs=null;else e(65536>=Ds),Qs=Xs;var Us=r(En);if(Qs==null||Us==null||Js==null){gn.a=1;break n}var ei=Js;for(Mn=zt=0;Mn<Qt;++Mn){var dn=Qs[Mn],ti=dn.G,$i=dn.H,Ca=0,Ir=1,hs=0;for(Pt=0;5>Pt;++Pt){Xn=n5[Pt],ti[Pt]=ei,$i[Pt]=zt,!Pt&&0<Ln&&(Xn+=1<<Ln);i:{var Zd,Uf=Xn,Jd=gn,Gc=Us,t7=ei,n7=zt,zf=0,yo=Jd.m,s7=ae(yo,1);if(i(Gc,0,0,Uf),s7){var i7=ae(yo,1)+1,r7=ae(yo,1),h5=ae(yo,r7==0?1:8);Gc[h5]=1,i7==2&&(Gc[h5=ae(yo,8)]=1);var Xd=1}else{var f5=r(19),p5=ae(yo,4)+4;if(19<p5){Jd.a=3;var Qd=0;break i}for(Zd=0;Zd<p5;++Zd)f5[I8[Zd]]=ae(yo,3);var Vf=void 0,Kc=void 0,g5=Jd,o7=f5,eh=Uf,m5=Gc,Hf=0,wo=g5.m,v5=8,b5=o(128,ne);s:for(;P(b5,0,7,o7,19);){if(ae(wo,1)){var a7=2+2*ae(wo,3);if((Vf=2+ae(wo,a7))>eh)break s}else Vf=eh;for(Kc=0;Kc<eh&&Vf--;){J(wo);var y5=b5[0+(127&Y(wo))];ge(wo,wo.u+y5.g);var kl=y5.value;if(16>kl)m5[Kc++]=kl,kl!=0&&(v5=kl);else{var l7=kl==16,w5=kl-16,c7=P8[w5],_5=ae(wo,T8[w5])+c7;if(Kc+_5>eh)break s;for(var u7=l7?v5:0;0<_5--;)m5[Kc++]=u7}}Hf=1;break s}Hf||(g5.a=3),Xd=Hf}(Xd=Xd&&!yo.h)&&(zf=P(t7,n7,8,Gc,Uf)),Xd&&zf!=0?Qd=zf:(Jd.a=3,Qd=0)}if(Qd==0)break n;if(Ir&&N8[Pt]==1&&(Ir=ei[zt].g==0),Ca+=ei[zt].g,zt+=Qd,3>=Pt){var Yc,qf=Us[0];for(Yc=1;Yc<Xn;++Yc)Us[Yc]>qf&&(qf=Us[Yc]);hs+=qf}}if(dn.nd=Ir,dn.Qb=0,Ir&&(dn.qb=(ti[3][$i[3]+0].value<<24|ti[1][$i[1]+0].value<<16|ti[2][$i[2]+0].value)>>>0,Ca==0&&256>ti[0][$i[0]+0].value&&(dn.Qb=1,dn.qb+=ti[0][$i[0]+0].value<<8)),dn.jc=!dn.Qb&&6>hs,dn.jc){var th,Or=dn;for(th=0;th<wa;++th){var _o=th,xo=Or.pd[_o],nh=Or.G[0][Or.H[0]+_o];256<=nh.value?(xo.g=nh.g+256,xo.value=nh.value):(xo.g=0,xo.value=0,_o>>=ss(nh,8,xo),_o>>=ss(Or.G[1][Or.H[1]+_o],16,xo),_o>>=ss(Or.G[2][Or.H[2]+_o],0,xo),ss(Or.G[3][Or.H[3]+_o],24,xo))}}}Jn.vc=Vt,Jn.Wb=Qt,Jn.Ya=Qs,Jn.yc=Js,Ge=1;break t}Ge=0}if(!(W=Ge)){E.a=3;break e}if(0<Se){if(ce.ua=1<<Se,!G(ce.Wa,Se)){E.a=1,W=0;break e}}else ce.ua=0;var Wf=E,x5=K,d7=Q,Gf=Wf.s,Kf=Gf.xc;if(Wf.c=x5,Wf.i=d7,Gf.md=we(x5,Kf),Gf.wc=Kf==0?-1:(1<<Kf)-1,x){E.xb=z8;break e}if((ve=r(K*Q))==null){E.a=1,W=0;break e}W=(W=Oi(E,ve,0,K,Q,Q,null))&&!ie.h;break e}return W?($!=null?$[0]=ve:(e(ve==null),e(x)),E.$=0,x||hi(ce)):hi(ce),W}function sa(g,v){var x=g.c*g.i,E=x+v+16*v;return e(g.c<=v),g.V=r(E),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+x+v,1)}function hl(g,v){var x=g.C,E=v-x,$=g.V,W=g.Ba+g.c*x;for(e(v<=g.l.o);0<E;){var K=16<E?16:E,Q=g.l.ma,ie=g.l.width,ce=ie*K,ve=Q.ca,Se=Q.tb+ie*x,ue=g.Ta,be=g.Ua;ta(g,K,$,W),Kg(ue,be,ve,Se,ce),Qi(Q,x,x+K,ve,Se,ie),E-=K,$+=K*g.c,x+=K}e(x==v),g.C=g.Ma=v}function fl(){this.ub=this.yd=this.td=this.Rb=0}function pl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vf(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function xc(){this.Yb=function(){var g=[];return function v(x,E,$){for(var W=$[E],K=0;K<W&&(x.push($.length>E+1?[]:0),!($.length<E+1));K++)v(x[K],E+1,$)}(g,0,[3,11]),g}()}function xd(){this.jb=r(3),this.Wc=a([4,8],xc),this.Xc=a([4,17],xc)}function Cd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function fi(){this.ld=this.La=this.dd=this.tc=0}function Cc(){this.Na=this.la=0}function kd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kc(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sd(){this.uc=this.M=this.Nb=0,this.wa=Array(new fi),this.Y=0,this.ya=Array(new kc),this.aa=0,this.l=new gl}function Ad(){this.y=r(16),this.f=r(8),this.ea=r(8)}function Ld(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new fl,this.Kc=new pl,this.ed=new Cd,this.Qa=new vf,this.Ic=this.$c=this.Aa=0,this.D=new Sd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,A),this.ia=0,this.pb=o(4,kd),this.Pa=new xd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ad),this.Hd=0,this.rb=Array(new Cc),this.sb=0,this.wa=Array(new fi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kc),this.L=this.aa=0,this.gd=a([4,2],fi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bf(){var g=new Ld;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,qc||(qc=Cr)),g}function zn(g,v,x){return g.a==0&&(g.a=v,g.sc=x,g.cb=0),0}function Ed(g,v,x){return 3<=x&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function Td(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return zn(g,2,"null VP8Io passed to VP8GetHeaders()");var x=v.data,E=v.w,$=v.ha;if(4>$)return zn(g,7,"Truncated header.");var W=x[E+0]|x[E+1]<<8|x[E+2]<<16,K=g.Od;if(K.Rb=!(1&W),K.td=W>>1&7,K.yd=W>>4&1,K.ub=W>>5,3<K.td)return zn(g,3,"Incorrect keyframe parameters.");if(!K.yd)return zn(g,4,"Frame not displayable.");E+=3,$-=3;var Q=g.Kc;if(K.Rb){if(7>$)return zn(g,7,"cannot parse picture header");if(!Ed(x,E,$))return zn(g,3,"Bad code word");Q.c=16383&(x[E+4]<<8|x[E+3]),Q.Td=x[E+4]>>6,Q.i=16383&(x[E+6]<<8|x[E+5]),Q.Ud=x[E+6]>>6,E+=7,$-=7,g.za=Q.c+15>>4,g.Ub=Q.i+15>>4,v.width=Q.c,v.height=Q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((W=g.Pa).jb,0,255,W.jb.length),e((W=g.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(K.ub>$)return zn(g,7,"bad partition length");F(W=g.m,x,E,K.ub),E+=K.ub,$-=K.ub,K.Rb&&(Q.Ld=se(W),Q.Kd=se(W)),Q=g.Qa;var ie,ce=g.Pa;if(e(W!=null),e(Q!=null),Q.Cb=se(W),Q.Cb){if(Q.Bb=se(W),se(W)){for(Q.Fb=se(W),ie=0;4>ie;++ie)Q.Zb[ie]=se(W)?N(W,7):0;for(ie=0;4>ie;++ie)Q.Lb[ie]=se(W)?N(W,6):0}if(Q.Bb)for(ie=0;3>ie;++ie)ce.jb[ie]=se(W)?D(W,8):255}else Q.Bb=0;if(W.Ka)return zn(g,3,"cannot parse segment header");if((Q=g.ed).zd=se(W),Q.Tb=D(W,6),Q.wb=D(W,3),Q.Pc=se(W),Q.Pc&&se(W)){for(ce=0;4>ce;++ce)se(W)&&(Q.vd[ce]=N(W,6));for(ce=0;4>ce;++ce)se(W)&&(Q.od[ce]=N(W,6))}if(g.L=Q.Tb==0?0:Q.zd?1:2,W.Ka)return zn(g,3,"cannot parse filter header");var ve=$;if($=ie=E,E=ie+ve,Q=ve,g.Xb=(1<<D(g.m,2))-1,ve<3*(ce=g.Xb))x=7;else{for(ie+=3*ce,Q-=3*ce,ve=0;ve<ce;++ve){var Se=x[$+0]|x[$+1]<<8|x[$+2]<<16;Se>Q&&(Se=Q),F(g.Jc[+ve],x,ie,Se),ie+=Se,Q-=Se,$+=3}F(g.Jc[+ce],x,ie,Q),x=ie<E?0:5}if(x!=0)return zn(g,x,"cannot parse partitions");for(x=D(ie=g.m,7),$=se(ie)?N(ie,4):0,E=se(ie)?N(ie,4):0,Q=se(ie)?N(ie,4):0,ce=se(ie)?N(ie,4):0,ie=se(ie)?N(ie,4):0,ve=g.Qa,Se=0;4>Se;++Se){if(ve.Cb){var ue=ve.Zb[Se];ve.Fb||(ue+=x)}else{if(0<Se){g.pb[Se]=g.pb[0];continue}ue=x}var be=g.pb[Se];be.Sc[0]=jf[An(ue+$,127)],be.Sc[1]=Bf[An(ue+0,127)],be.Eb[0]=2*jf[An(ue+E,127)],be.Eb[1]=101581*Bf[An(ue+Q,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=jf[An(ue+ce,117)],be.Qc[1]=Bf[An(ue+ie,127)],be.lc=ue+ie}if(!K.Rb)return zn(g,4,"Not a key frame.");for(se(W),K=g.Pa,x=0;4>x;++x){for($=0;8>$;++$)for(E=0;3>E;++E)for(Q=0;11>Q;++Q)ce=me(W,F8[x][$][E][Q])?D(W,8):j8[x][$][E][Q],K.Wc[x][$].Yb[E][Q]=ce;for($=0;17>$;++$)K.Xc[x][$]=K.Wc[x][U8[$]]}return g.kc=se(W),g.kc&&(g.Bd=D(W,8)),g.cb=1}function Cr(g,v,x,E,$,W,K){var Q=v[$].Yb[x];for(x=0;16>$;++$){if(!me(g,Q[x+0]))return $;for(;!me(g,Q[x+1]);)if(Q=v[++$].Yb[0],x=0,$==16)return 16;var ie=v[$+1].Yb;if(me(g,Q[x+2])){var ce=g,ve=0;if(me(ce,(ue=Q)[(Se=x)+3]))if(me(ce,ue[Se+6])){for(Q=0,Se=2*(ve=me(ce,ue[Se+8]))+(ue=me(ce,ue[Se+9+ve])),ve=0,ue=R8[Se];ue[Q];++Q)ve+=ve+me(ce,ue[Q]);ve+=3+(8<<Se)}else me(ce,ue[Se+7])?(ve=7+2*me(ce,165),ve+=me(ce,145)):ve=5+me(ce,159);else ve=me(ce,ue[Se+4])?3+me(ce,ue[Se+5]):2;Q=ie[2]}else ve=1,Q=ie[1];ie=K+$8[$],0>(ce=g).b&&X(ce);var Se,ue=ce.b,be=(Se=ce.Ca>>1)-(ce.I>>ue)>>31;--ce.b,ce.Ca+=be,ce.Ca|=1,ce.I-=(Se+1&be)<<ue,W[ie]=((ve^be)-be)*E[(0<$)+0]}return 16}function ia(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Di(g,v,x,E,$){$=g[v+x+32*E]+($>>3),g[v+x+32*E]=-256&$?0>$?0:255:$}function ra(g,v,x,E,$,W){Di(g,v,0,x,E+$),Di(g,v,1,x,E+W),Di(g,v,2,x,E-W),Di(g,v,3,x,E-$)}function In(g){return(20091*g>>16)+g}function Sc(g,v,x,E){var $,W=0,K=r(16);for($=0;4>$;++$){var Q=g[v+0]+g[v+8],ie=g[v+0]-g[v+8],ce=(35468*g[v+4]>>16)-In(g[v+12]),ve=In(g[v+4])+(35468*g[v+12]>>16);K[W+0]=Q+ve,K[W+1]=ie+ce,K[W+2]=ie-ce,K[W+3]=Q-ve,W+=4,v++}for($=W=0;4>$;++$)Q=(g=K[W+0]+4)+K[W+8],ie=g-K[W+8],ce=(35468*K[W+4]>>16)-In(K[W+12]),Di(x,E,0,0,Q+(ve=In(K[W+4])+(35468*K[W+12]>>16))),Di(x,E,1,0,ie+ce),Di(x,E,2,0,ie-ce),Di(x,E,3,0,Q-ve),W++,E+=32}function yf(g,v,x,E){var $=g[v+0]+4,W=35468*g[v+4]>>16,K=In(g[v+4]),Q=35468*g[v+1]>>16;ra(x,E,0,$+K,g=In(g[v+1]),Q),ra(x,E,1,$+W,g,Q),ra(x,E,2,$-W,g,Q),ra(x,E,3,$-K,g,Q)}function wf(g,v,x,E,$){Sc(g,v,x,E),$&&Sc(g,v+16,x,E+4)}function _f(g,v,x,E){xa(g,v+0,x,E,1),xa(g,v+32,x,E+128,1)}function tr(g,v,x,E){var $;for(g=g[v+0]+4,$=0;4>$;++$)for(v=0;4>v;++v)Di(x,E,v,$,g)}function Pd(g,v,x,E){g[v+0]&&Yt(g,v+0,x,E),g[v+16]&&Yt(g,v+16,x,E+4),g[v+32]&&Yt(g,v+32,x,E+128),g[v+48]&&Yt(g,v+48,x,E+128+4)}function Nd(g,v,x,E){var $,W=r(16);for($=0;4>$;++$){var K=g[v+0+$]+g[v+12+$],Q=g[v+4+$]+g[v+8+$],ie=g[v+4+$]-g[v+8+$],ce=g[v+0+$]-g[v+12+$];W[0+$]=K+Q,W[8+$]=K-Q,W[4+$]=ce+ie,W[12+$]=ce-ie}for($=0;4>$;++$)K=(g=W[0+4*$]+3)+W[3+4*$],Q=W[1+4*$]+W[2+4*$],ie=W[1+4*$]-W[2+4*$],ce=g-W[3+4*$],x[E+0]=K+Q>>3,x[E+16]=ce+ie>>3,x[E+32]=K-Q>>3,x[E+48]=ce-ie>>3,E+=64}function oo(g,v,x){var E,$=v-32,W=Zs,K=255-g[$-1];for(E=0;E<x;++E){var Q,ie=W,ce=K+g[v-1];for(Q=0;Q<x;++Q)g[v+Q]=ie[ce+g[$+Q]];v+=32}}function Ac(g,v){oo(g,v,4)}function xf(g,v){oo(g,v,8)}function Cf(g,v){oo(g,v,16)}function kf(g,v){var x;for(x=0;16>x;++x)s(g,v+32*x,g,v-32,16)}function Lc(g,v){var x;for(x=16;0<x;--x)i(g,v,g[v-1],16),v+=32}function oa(g,v,x){var E;for(E=0;16>E;++E)i(v,x+32*E,g,16)}function ao(g,v){var x,E=16;for(x=0;16>x;++x)E+=g[v-1+32*x]+g[v+x-32];oa(E>>5,g,v)}function Sf(g,v){var x,E=8;for(x=0;16>x;++x)E+=g[v-1+32*x];oa(E>>4,g,v)}function aa(g,v){var x,E=8;for(x=0;16>x;++x)E+=g[v+x-32];oa(E>>4,g,v)}function Ec(g,v){oa(128,g,v)}function kt(g,v,x){return g+2*v+x+2>>2}function Af(g,v){var x,E=v-32;for(E=new Uint8Array([kt(g[E-1],g[E+0],g[E+1]),kt(g[E+0],g[E+1],g[E+2]),kt(g[E+1],g[E+2],g[E+3]),kt(g[E+2],g[E+3],g[E+4])]),x=0;4>x;++x)s(g,v+32*x,E,0,E.length)}function Lf(g,v){var x=g[v-1],E=g[v-1+32],$=g[v-1+64],W=g[v-1+96];Ee(g,v+0,16843009*kt(g[v-1-32],x,E)),Ee(g,v+32,16843009*kt(x,E,$)),Ee(g,v+64,16843009*kt(E,$,W)),Ee(g,v+96,16843009*kt($,W,W))}function Ef(g,v){var x,E=4;for(x=0;4>x;++x)E+=g[v+x-32]+g[v-1+32*x];for(E>>=3,x=0;4>x;++x)i(g,v+32*x,E,4)}function Tf(g,v){var x=g[v-1+0],E=g[v-1+32],$=g[v-1+64],W=g[v-1-32],K=g[v+0-32],Q=g[v+1-32],ie=g[v+2-32],ce=g[v+3-32];g[v+0+96]=kt(E,$,g[v-1+96]),g[v+1+96]=g[v+0+64]=kt(x,E,$),g[v+2+96]=g[v+1+64]=g[v+0+32]=kt(W,x,E),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=kt(K,W,x),g[v+3+64]=g[v+2+32]=g[v+1+0]=kt(Q,K,W),g[v+3+32]=g[v+2+0]=kt(ie,Q,K),g[v+3+0]=kt(ce,ie,Q)}function kr(g,v){var x=g[v+1-32],E=g[v+2-32],$=g[v+3-32],W=g[v+4-32],K=g[v+5-32],Q=g[v+6-32],ie=g[v+7-32];g[v+0+0]=kt(g[v+0-32],x,E),g[v+1+0]=g[v+0+32]=kt(x,E,$),g[v+2+0]=g[v+1+32]=g[v+0+64]=kt(E,$,W),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=kt($,W,K),g[v+3+32]=g[v+2+64]=g[v+1+96]=kt(W,K,Q),g[v+3+64]=g[v+2+96]=kt(K,Q,ie),g[v+3+96]=kt(Q,ie,ie)}function Sr(g,v){var x=g[v-1+0],E=g[v-1+32],$=g[v-1+64],W=g[v-1-32],K=g[v+0-32],Q=g[v+1-32],ie=g[v+2-32],ce=g[v+3-32];g[v+0+0]=g[v+1+64]=W+K+1>>1,g[v+1+0]=g[v+2+64]=K+Q+1>>1,g[v+2+0]=g[v+3+64]=Q+ie+1>>1,g[v+3+0]=ie+ce+1>>1,g[v+0+96]=kt($,E,x),g[v+0+64]=kt(E,x,W),g[v+0+32]=g[v+1+96]=kt(x,W,K),g[v+1+32]=g[v+2+96]=kt(W,K,Q),g[v+2+32]=g[v+3+96]=kt(K,Q,ie),g[v+3+32]=kt(Q,ie,ce)}function Pf(g,v){var x=g[v+0-32],E=g[v+1-32],$=g[v+2-32],W=g[v+3-32],K=g[v+4-32],Q=g[v+5-32],ie=g[v+6-32],ce=g[v+7-32];g[v+0+0]=x+E+1>>1,g[v+1+0]=g[v+0+64]=E+$+1>>1,g[v+2+0]=g[v+1+64]=$+W+1>>1,g[v+3+0]=g[v+2+64]=W+K+1>>1,g[v+0+32]=kt(x,E,$),g[v+1+32]=g[v+0+96]=kt(E,$,W),g[v+2+32]=g[v+1+96]=kt($,W,K),g[v+3+32]=g[v+2+96]=kt(W,K,Q),g[v+3+64]=kt(K,Q,ie),g[v+3+96]=kt(Q,ie,ce)}function Nf(g,v){var x=g[v-1+0],E=g[v-1+32],$=g[v-1+64],W=g[v-1+96];g[v+0+0]=x+E+1>>1,g[v+2+0]=g[v+0+32]=E+$+1>>1,g[v+2+32]=g[v+0+64]=$+W+1>>1,g[v+1+0]=kt(x,E,$),g[v+3+0]=g[v+1+32]=kt(E,$,W),g[v+3+32]=g[v+1+64]=kt($,W,W),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=W}function ml(g,v){var x=g[v-1+0],E=g[v-1+32],$=g[v-1+64],W=g[v-1+96],K=g[v-1-32],Q=g[v+0-32],ie=g[v+1-32],ce=g[v+2-32];g[v+0+0]=g[v+2+32]=x+K+1>>1,g[v+0+32]=g[v+2+64]=E+x+1>>1,g[v+0+64]=g[v+2+96]=$+E+1>>1,g[v+0+96]=W+$+1>>1,g[v+3+0]=kt(Q,ie,ce),g[v+2+0]=kt(K,Q,ie),g[v+1+0]=g[v+3+32]=kt(x,K,Q),g[v+1+32]=g[v+3+64]=kt(E,x,K),g[v+1+64]=g[v+3+96]=kt($,E,x),g[v+1+96]=kt(W,$,E)}function Tc(g,v){var x;for(x=0;8>x;++x)s(g,v+32*x,g,v-32,8)}function la(g,v){var x;for(x=0;8>x;++x)i(g,v,g[v-1],8),v+=32}function vl(g,v,x){var E;for(E=0;8>E;++E)i(v,x+32*E,g,8)}function bl(g,v){var x,E=8;for(x=0;8>x;++x)E+=g[v+x-32]+g[v-1+32*x];vl(E>>4,g,v)}function If(g,v){var x,E=4;for(x=0;8>x;++x)E+=g[v+x-32];vl(E>>3,g,v)}function Pc(g,v){var x,E=4;for(x=0;8>x;++x)E+=g[v-1+32*x];vl(E>>3,g,v)}function Nc(g,v){vl(128,g,v)}function ca(g,v,x){var E=g[v-x],$=g[v+0],W=3*($-E)+Of[1020+g[v-2*x]-g[v+x]],K=Ud[112+(W+4>>3)];g[v-x]=Zs[255+E+Ud[112+(W+3>>3)]],g[v+0]=Zs[255+$-K]}function ua(g,v,x,E){var $=g[v+0],W=g[v+x];return vi[255+g[v-2*x]-g[v-x]]>E||vi[255+W-$]>E}function Ic(g,v,x,E){return 4*vi[255+g[v-x]-g[v+0]]+vi[255+g[v-2*x]-g[v+x]]<=E}function yl(g,v,x,E,$){var W=g[v-3*x],K=g[v-2*x],Q=g[v-x],ie=g[v+0],ce=g[v+x],ve=g[v+2*x],Se=g[v+3*x];return 4*vi[255+Q-ie]+vi[255+K-ce]>E?0:vi[255+g[v-4*x]-W]<=$&&vi[255+W-K]<=$&&vi[255+K-Q]<=$&&vi[255+Se-ve]<=$&&vi[255+ve-ce]<=$&&vi[255+ce-ie]<=$}function Oc(g,v,x,E){var $=2*E+1;for(E=0;16>E;++E)Ic(g,v+E,x,$)&&ca(g,v+E,x)}function da(g,v,x,E){var $=2*E+1;for(E=0;16>E;++E)Ic(g,v+E*x,1,$)&&ca(g,v+E*x,1)}function Id(g,v,x,E){var $;for($=3;0<$;--$)Oc(g,v+=4*x,x,E)}function Od(g,v,x,E){var $;for($=3;0<$;--$)da(g,v+=4,x,E)}function Ar(g,v,x,E,$,W,K,Q){for(W=2*W+1;0<$--;){if(yl(g,v,x,W,K))if(ua(g,v,x,Q))ca(g,v,x);else{var ie=g,ce=v,ve=x,Se=ie[ce-2*ve],ue=ie[ce-ve],be=ie[ce+0],_e=ie[ce+ve],Oe=ie[ce+2*ve],ke=27*(je=Of[1020+3*(be-ue)+Of[1020+Se-_e]])+63>>7,Me=18*je+63>>7,je=9*je+63>>7;ie[ce-3*ve]=Zs[255+ie[ce-3*ve]+je],ie[ce-2*ve]=Zs[255+Se+Me],ie[ce-ve]=Zs[255+ue+ke],ie[ce+0]=Zs[255+be-ke],ie[ce+ve]=Zs[255+_e-Me],ie[ce+2*ve]=Zs[255+Oe-je]}v+=E}}function Lr(g,v,x,E,$,W,K,Q){for(W=2*W+1;0<$--;){if(yl(g,v,x,W,K))if(ua(g,v,x,Q))ca(g,v,x);else{var ie=g,ce=v,ve=x,Se=ie[ce-ve],ue=ie[ce+0],be=ie[ce+ve],_e=Ud[112+(4+(Oe=3*(ue-Se))>>3)],Oe=Ud[112+(Oe+3>>3)],ke=_e+1>>1;ie[ce-2*ve]=Zs[255+ie[ce-2*ve]+ke],ie[ce-ve]=Zs[255+Se+Oe],ie[ce+0]=Zs[255+ue-_e],ie[ce+ve]=Zs[255+be-ke]}v+=E}}function Dd(g,v,x,E,$,W){Ar(g,v,x,1,16,E,$,W)}function Md(g,v,x,E,$,W){Ar(g,v,1,x,16,E,$,W)}function ha(g,v,x,E,$,W){var K;for(K=3;0<K;--K)Lr(g,v+=4*x,x,1,16,E,$,W)}function Rd(g,v,x,E,$,W){var K;for(K=3;0<K;--K)Lr(g,v+=4,1,x,16,E,$,W)}function _(g,v,x,E,$,W,K,Q){Ar(g,v,$,1,8,W,K,Q),Ar(x,E,$,1,8,W,K,Q)}function R(g,v,x,E,$,W,K,Q){Ar(g,v,1,$,8,W,K,Q),Ar(x,E,1,$,8,W,K,Q)}function de(g,v,x,E,$,W,K,Q){Lr(g,v+4*$,$,1,8,W,K,Q),Lr(x,E+4*$,$,1,8,W,K,Q)}function pe(g,v,x,E,$,W,K,Q){Lr(g,v+4,1,$,8,W,K,Q),Lr(x,E+4,1,$,8,W,K,Q)}function ye(){this.ba=new sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tt(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new ne}function lt(){this.xb=this.a=0,this.l=new gl,this.ca=new sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tt,this.ab=0,this.gc=o(4,Fe),this.Oc=0}function xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function St(g,v,x,E,$,W,K){for(g=g==null?0:g[v+0],v=0;v<K;++v)$[W+v]=g+x[E+v]&255,g=$[W+v]}function Gt(g,v,x,E,$,W,K){var Q;if(g==null)St(null,null,x,E,$,W,K);else for(Q=0;Q<K;++Q)$[W+Q]=g[v+Q]+x[E+Q]&255}function xn(g,v,x,E,$,W,K){if(g==null)St(null,null,x,E,$,W,K);else{var Q,ie=g[v+0],ce=ie,ve=ie;for(Q=0;Q<K;++Q)ce=ve+(ie=g[v+Q])-ce,ve=x[E+Q]+(-256&ce?0>ce?0:255:ce)&255,ce=ie,$[W+Q]=ve}}function Vn(g,v,x,E){var $=v.width,W=v.o;if(e(g!=null&&v!=null),0>x||0>=E||x+E>W)return null;if(!g.Cc){if(g.ga==null){var K;if(g.ga=new xt,(K=g.ga==null)||(K=v.width*v.o,e(g.Gb.length==0),g.Gb=r(K),g.Uc=0,g.Gb==null?K=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,K=1),K=!K),!K){K=g.ga;var Q=g.Fa,ie=g.P,ce=g.qc,ve=g.mb,Se=g.nb,ue=ie+1,be=ce-1,_e=K.l;if(e(Q!=null&&ve!=null&&v!=null),bo[0]=null,bo[1]=St,bo[2]=Gt,bo[3]=xn,K.ca=ve,K.tb=Se,K.c=v.width,K.i=v.height,e(0<K.c&&0<K.i),1>=ce)v=0;else if(K.$a=3&Q[ie+0],K.Z=Q[ie+0]>>2&3,K.Lc=Q[ie+0]>>4&3,ie=Q[ie+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ie)v=0;else if(_e.put=bt,_e.ac=Xi,_e.bc=_r,_e.ma=K,_e.width=v.width,_e.height=v.height,_e.Da=v.Da,_e.v=v.v,_e.va=v.va,_e.j=v.j,_e.o=v.o,K.$a)e:{e(K.$a==1),v=na();t:for(;;){if(v==null){v=0;break e}if(e(K!=null),K.mc=v,v.c=K.c,v.i=K.i,v.l=K.l,v.l.ma=K,v.l.width=K.c,v.l.height=K.i,v.a=0,ee(v.m,Q,ue,be),!er(K.c,K.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ni(v.s)?(K.ic=1,Q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=r(Q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(K.ic=0,v=sa(v,K.c)),!v))break t;v=1;break e}K.mc=null,v=0}else v=be>=K.c*K.i;K=!v}if(K)return null;g.ga.Lc!=1?g.Ga=0:E=W-x}e(g.ga!=null),e(x+E<=W);e:{if(v=(Q=g.ga).c,W=Q.l.o,Q.$a==0){if(ue=g.rc,be=g.Vc,_e=g.Fa,ie=g.P+1+x*v,ce=g.mb,ve=g.nb+x*v,e(ie<=g.P+g.qc),Q.Z!=0)for(e(bo[Q.Z]!=null),K=0;K<E;++K)bo[Q.Z](ue,be,_e,ie,ce,ve,v),ue=ce,be=ve,ve+=v,ie+=v;else for(K=0;K<E;++K)s(ce,ve,_e,ie,v),ue=ce,be=ve,ve+=v,ie+=v;g.rc=ue,g.Vc=be}else{if(e(Q.mc!=null),v=x+E,e((K=Q.mc)!=null),e(v<=K.i),K.C>=v)v=1;else if(Q.ic||pi(),Q.ic){Q=K.V,ue=K.Ba,be=K.c;var Oe=K.i,ke=(_e=1,ie=K.$/be,ce=K.$%be,ve=K.m,Se=K.s,K.$),Me=be*Oe,je=be*v,ze=Se.wc,Be=ke<je?ls(Se,ce,ie):null;e(ke<=Me),e(v<=Oe),e(Ni(Se));t:for(;;){for(;!ve.h&&ke<je;){if(ce&ze||(Be=ls(Se,ce,ie)),e(Be!=null),J(ve),256>(Oe=Sn(Be.G[0],Be.H[0],ve)))Q[ue+ke]=Oe,++ke,++ce>=be&&(ce=0,++ie<=v&&!(ie%16)&&Ii(K,ie));else{if(!(280>Oe)){_e=0;break t}Oe=ui(Oe-256,ve);var ut,Qe=Sn(Be.G[4],Be.H[4],ve);if(J(ve),!(ke>=(Qe=di(be,Qe=ui(Qe,ve)))&&Me-ke>=Oe)){_e=0;break t}for(ut=0;ut<Oe;++ut)Q[ue+ke+ut]=Q[ue+ke+ut-Qe];for(ke+=Oe,ce+=Oe;ce>=be;)ce-=be,++ie<=v&&!(ie%16)&&Ii(K,ie);ke<je&&ce&ze&&(Be=ls(Se,ce,ie))}e(ve.h==he(ve))}Ii(K,ie>v?v:ie);break t}!_e||ve.h&&ke<Me?(_e=0,K.a=ve.h?5:3):K.$=ke,v=_e}else v=Oi(K,K.V,K.Ba,K.c,K.i,v,hl);if(!v){E=0;break e}}x+E>=W&&(g.Cc=1),E=1}if(!E)return null;if(g.Cc&&((E=g.ga)!=null&&(E.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+x*$}function un(g,v,x,E,$,W){for(;0<$--;){var K,Q=g,ie=v+(x?1:0),ce=g,ve=v+(x?0:3);for(K=0;K<E;++K){var Se=ce[ve+4*K];Se!=255&&(Se*=32897,Q[ie+4*K+0]=Q[ie+4*K+0]*Se>>23,Q[ie+4*K+1]=Q[ie+4*K+1]*Se>>23,Q[ie+4*K+2]=Q[ie+4*K+2]*Se>>23)}v+=W}}function Kn(g,v,x,E,$){for(;0<E--;){var W;for(W=0;W<x;++W){var K=g[v+2*W+0],Q=15&(ce=g[v+2*W+1]),ie=4369*Q,ce=(240&ce|ce>>4)*ie>>16;g[v+2*W+0]=(240&K|K>>4)*ie>>16&240|(15&K|K<<4)*ie>>16>>4&15,g[v+2*W+1]=240&ce|Q}v+=$}}function Hn(g,v,x,E,$,W,K,Q){var ie,ce,ve=255;for(ce=0;ce<$;++ce){for(ie=0;ie<E;++ie){var Se=g[v+ie];W[K+4*ie]=Se,ve&=Se}v+=x,K+=Q}return ve!=255}function cs(g,v,x,E,$){var W;for(W=0;W<$;++W)x[E+W]=g[v+W]>>8}function pi(){Hc=un,Wg=Kn,Gg=Hn,Kg=cs}function Bs(g,v,x){T[g]=function(E,$,W,K,Q,ie,ce,ve,Se,ue,be,_e,Oe,ke,Me,je,ze){var Be,ut=ze-1>>1,Qe=Q[ie+0]|ce[ve+0]<<16,Ot=Se[ue+0]|be[_e+0]<<16;e(E!=null);var it=3*Qe+Ot+131074>>2;for(v(E[$+0],255&it,it>>16,Oe,ke),W!=null&&(it=3*Ot+Qe+131074>>2,v(W[K+0],255&it,it>>16,Me,je)),Be=1;Be<=ut;++Be){var Ut=Q[ie+Be]|ce[ve+Be]<<16,Zn=Se[ue+Be]|be[_e+Be]<<16,Dt=Qe+Ut+Ot+Zn+524296,rt=Dt+2*(Ut+Ot)>>3;it=rt+Qe>>1,Qe=(Dt=Dt+2*(Qe+Zn)>>3)+Ut>>1,v(E[$+2*Be-1],255&it,it>>16,Oe,ke+(2*Be-1)*x),v(E[$+2*Be-0],255&Qe,Qe>>16,Oe,ke+(2*Be-0)*x),W!=null&&(it=Dt+Ot>>1,Qe=rt+Zn>>1,v(W[K+2*Be-1],255&it,it>>16,Me,je+(2*Be-1)*x),v(W[K+2*Be+0],255&Qe,Qe>>16,Me,je+(2*Be+0)*x)),Qe=Ut,Ot=Zn}1&ze||(it=3*Qe+Ot+131074>>2,v(E[$+ze-1],255&it,it>>16,Oe,ke+(ze-1)*x),W!=null&&(it=3*Ot+Qe+131074>>2,v(W[K+ze-1],255&it,it>>16,Me,je+(ze-1)*x)))}}function $d(){bi[zd]=V8,bi[Vd]=r5,bi[e5]=H8,bi[Hd]=o5,bi[qd]=a5,bi[Df]=l5,bi[t5]=q8,bi[Mf]=r5,bi[Rf]=o5,bi[Wd]=a5,bi[$f]=l5}function wl(g){return g&-16384?0>g?0:255:g>>W8}function fa(g,v){return wl((19077*g>>8)+(26149*v>>8)-14234)}function lo(g,v,x){return wl((19077*g>>8)-(6419*v>>8)-(13320*x>>8)+8708)}function pa(g,v){return wl((19077*g>>8)+(33050*v>>8)-17685)}function ga(g,v,x,E,$){E[$+0]=fa(g,x),E[$+1]=lo(g,v,x),E[$+2]=pa(g,v)}function ma(g,v,x,E,$){E[$+0]=pa(g,v),E[$+1]=lo(g,v,x),E[$+2]=fa(g,x)}function bs(g,v,x,E,$){var W=lo(g,v,x);v=W<<3&224|pa(g,v)>>3,E[$+0]=248&fa(g,x)|W>>5,E[$+1]=v}function va(g,v,x,E,$){var W=240&pa(g,v)|15;E[$+0]=240&fa(g,x)|lo(g,v,x)>>4,E[$+1]=W}function ba(g,v,x,E,$){E[$+0]=255,ga(g,v,x,E,$+1)}function Dc(g,v,x,E,$){ma(g,v,x,E,$),E[$+3]=255}function Mc(g,v,x,E,$){ga(g,v,x,E,$),E[$+3]=255}function An(g,v){return 0>g?0:g>v?v:g}function Er(g,v,x){T[g]=function(E,$,W,K,Q,ie,ce,ve,Se){for(var ue=ve+(-2&Se)*x;ve!=ue;)v(E[$+0],W[K+0],Q[ie+0],ce,ve),v(E[$+1],W[K+0],Q[ie+0],ce,ve+x),$+=2,++K,++ie,ve+=2*x;1&Se&&v(E[$+0],W[K+0],Q[ie+0],ce,ve)}}function _l(g,v,x){return x==0?g==0?v==0?6:5:v==0?4:0:x}function jd(g,v,x,E,$){switch(g>>>30){case 3:xa(v,x,E,$,0);break;case 2:mi(v,x,E,$);break;case 1:Yt(v,x,E,$)}}function gi(g,v){var x,E,$=v.M,W=v.Nb,K=g.oc,Q=g.pc+40,ie=g.oc,ce=g.pc+584,ve=g.oc,Se=g.pc+600;for(x=0;16>x;++x)K[Q+32*x-1]=129;for(x=0;8>x;++x)ie[ce+32*x-1]=129,ve[Se+32*x-1]=129;for(0<$?K[Q-1-32]=ie[ce-1-32]=ve[Se-1-32]=129:(i(K,Q-32-1,127,21),i(ie,ce-32-1,127,9),i(ve,Se-32-1,127,9)),E=0;E<g.za;++E){var ue=v.ya[v.aa+E];if(0<E){for(x=-1;16>x;++x)s(K,Q+32*x-4,K,Q+32*x+12,4);for(x=-1;8>x;++x)s(ie,ce+32*x-4,ie,ce+32*x+4,4),s(ve,Se+32*x-4,ve,Se+32*x+4,4)}var be=g.Gd,_e=g.Hd+E,Oe=ue.ad,ke=ue.Hc;if(0<$&&(s(K,Q-32,be[_e].y,0,16),s(ie,ce-32,be[_e].f,0,8),s(ve,Se-32,be[_e].ea,0,8)),ue.Za){var Me=K,je=Q-32+16;for(0<$&&(E>=g.za-1?i(Me,je,be[_e].y[15],4):s(Me,je,be[_e+1].y,0,4)),x=0;4>x;x++)Me[je+128+x]=Me[je+256+x]=Me[je+384+x]=Me[je+0+x];for(x=0;16>x;++x,ke<<=2)Me=K,je=Q+u5[x],Mi[ue.Ob[x]](Me,je),jd(ke,Oe,16*+x,Me,je)}else if(Me=_l(E,$,ue.Ob[0]),vo[Me](K,Q),ke!=0)for(x=0;16>x;++x,ke<<=2)jd(ke,Oe,16*+x,K,Q+u5[x]);for(x=ue.Gc,Me=_l(E,$,ue.Dd),Nr[Me](ie,ce),Nr[Me](ve,Se),ke=Oe,Me=ie,je=ce,255&(ue=0|x)&&(170&ue?ir(ke,256,Me,je):rn(ke,256,Me,je)),ue=ve,ke=Se,255&(x>>=8)&&(170&x?ir(Oe,320,ue,ke):rn(Oe,320,ue,ke)),$<g.Ub-1&&(s(be[_e].y,0,K,Q+480,16),s(be[_e].f,0,ie,ce+224,8),s(be[_e].ea,0,ve,Se+224,8)),x=8*W*g.B,be=g.sa,_e=g.ta+16*E+16*W*g.R,Oe=g.qa,ue=g.ra+8*E+x,ke=g.Ha,Me=g.Ia+8*E+x,x=0;16>x;++x)s(be,_e+x*g.R,K,Q+32*x,16);for(x=0;8>x;++x)s(Oe,ue+x*g.B,ie,ce+32*x,8),s(ke,Me+x*g.B,ve,Se+32*x,8)}}function ya(g,v,x,E,$,W,K,Q,ie){var ce=[0],ve=[0],Se=0,ue=ie!=null?ie.kd:0,be=ie??new $e;if(g==null||12>x)return 7;be.data=g,be.w=v,be.ha=x,v=[v],x=[x],be.gb=[be.gb];e:{var _e=v,Oe=x,ke=be.gb;if(e(g!=null),e(Oe!=null),e(ke!=null),ke[0]=0,12<=Oe[0]&&!n(g,_e[0],"RIFF")){if(n(g,_e[0]+8,"WEBP")){ke=3;break e}var Me=oe(g,_e[0]+4);if(12>Me||4294967286<Me){ke=3;break e}if(ue&&Me>Oe[0]-8){ke=7;break e}ke[0]=Me,_e[0]+=12,Oe[0]-=12}ke=0}if(ke!=0)return ke;for(Me=0<be.gb[0],x=x[0];;){e:{var je=g;Oe=v,ke=x;var ze=ce,Be=ve,ut=_e=[0];if((it=Se=[Se])[0]=0,8>ke[0])ke=7;else{if(!n(je,Oe[0],"VP8X")){if(oe(je,Oe[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Qe=oe(je,Oe[0]+8),Ot=1+re(je,Oe[0]+12);if(2147483648<=Ot*(je=1+re(je,Oe[0]+15))){ke=3;break e}ut!=null&&(ut[0]=Qe),ze!=null&&(ze[0]=Ot),Be!=null&&(Be[0]=je),Oe[0]+=18,ke[0]-=18,it[0]=1}ke=0}}if(Se=Se[0],_e=_e[0],ke!=0)return ke;if(Oe=!!(2&_e),!Me&&Se)return 3;if(W!=null&&(W[0]=!!(16&_e)),K!=null&&(K[0]=Oe),Q!=null&&(Q[0]=0),K=ce[0],_e=ve[0],Se&&Oe&&ie==null){ke=0;break}if(4>x){ke=7;break}if(Me&&Se||!Me&&!Se&&!n(g,v[0],"ALPH")){x=[x],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{Qe=g,ke=v,Me=x;var it=be.gb;ze=be.na,Be=be.P,ut=be.Sa,Ot=22,e(Qe!=null),e(Me!=null),je=ke[0];var Ut=Me[0];for(e(ze!=null),e(ut!=null),ze[0]=null,Be[0]=null,ut[0]=0;;){if(ke[0]=je,Me[0]=Ut,8>Ut){ke=7;break e}var Zn=oe(Qe,je+4);if(4294967286<Zn){ke=3;break e}var Dt=8+Zn+1&-2;if(Ot+=Dt,0<it&&Ot>it){ke=3;break e}if(!n(Qe,je,"VP8 ")||!n(Qe,je,"VP8L")){ke=0;break e}if(Ut[0]<Dt){ke=7;break e}n(Qe,je,"ALPH")||(ze[0]=Qe,Be[0]=je+8,ut[0]=Zn),je+=Dt,Ut-=Dt}}if(x=x[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],ke!=0)break}x=[x],be.Ja=[be.Ja],be.xa=[be.xa];e:if(it=g,ke=v,Me=x,ze=be.gb[0],Be=be.Ja,ut=be.xa,Qe=ke[0],je=!n(it,Qe,"VP8 "),Ot=!n(it,Qe,"VP8L"),e(it!=null),e(Me!=null),e(Be!=null),e(ut!=null),8>Me[0])ke=7;else{if(je||Ot){if(it=oe(it,Qe+4),12<=ze&&it>ze-12){ke=3;break e}if(ue&&it>Me[0]-8){ke=7;break e}Be[0]=it,ke[0]+=8,Me[0]-=8,ut[0]=Ot}else ut[0]=5<=Me[0]&&it[Qe+0]==47&&!(it[Qe+4]>>5),Be[0]=Me[0];ke=0}if(x=x[0],be.Ja=be.Ja[0],be.xa=be.xa[0],v=v[0],ke!=0)break;if(4294967286<be.Ja)return 3;if(Q==null||Oe||(Q[0]=be.xa?2:1),K=[K],_e=[_e],be.xa){if(5>x){ke=7;break}Q=K,ue=_e,Oe=W,g==null||5>x?g=0:5<=x&&g[v+0]==47&&!(g[v+4]>>5)?(Me=[0],it=[0],ze=[0],ee(Be=new O,g,v,x),xr(Be,Me,it,ze)?(Q!=null&&(Q[0]=Me[0]),ue!=null&&(ue[0]=it[0]),Oe!=null&&(Oe[0]=ze[0]),g=1):g=0):g=0}else{if(10>x){ke=7;break}Q=_e,g==null||10>x||!Ed(g,v+3,x-3)?g=0:(ue=g[v+0]|g[v+1]<<8|g[v+2]<<16,Oe=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=be.Ja||!Oe||!g?g=0:(K&&(K[0]=Oe),Q&&(Q[0]=g),g=1))}if(!g||(K=K[0],_e=_e[0],Se&&(ce[0]!=K||ve[0]!=_e)))return 3;ie!=null&&(ie[0]=be,ie.offset=v-ie.w,e(4294967286>v-ie.w),e(ie.offset==ie.ha-x));break}return ke==0||ke==7&&Se&&ie==null?(W!=null&&(W[0]|=be.na!=null&&0<be.na.length),E!=null&&(E[0]=K),$!=null&&($[0]=_e),0):ke}function Rc(g,v,x){var E=v.width,$=v.height,W=0,K=0,Q=E,ie=$;if(v.Da=g!=null&&0<g.Da,v.Da&&(Q=g.cd,ie=g.bd,W=g.v,K=g.j,11>x||(W&=-2,K&=-2),0>W||0>K||0>=Q||0>=ie||W+Q>E||K+ie>$))return 0;if(v.v=W,v.j=K,v.va=W+Q,v.o=K+ie,v.U=Q,v.T=ie,v.da=g!=null&&0<g.da,v.da){if(!De(Q,ie,x=[g.ib],W=[g.hb]))return 0;v.ib=x[0],v.hb=W[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*$/4,v.Kb=0),1}function $c(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function co(g,v,x,E){if(E==null||0>=g||0>=v)return 2;if(x!=null){if(x.Da){var $=x.cd,W=x.bd,K=-2&x.v,Q=-2&x.j;if(0>K||0>Q||0>=$||0>=W||K+$>g||Q+W>v)return 2;g=$,v=W}if(x.da){if(!De(g,v,$=[x.ib],W=[x.hb]))return 2;g=$[0],v=W[0]}}E.width=g,E.height=v;e:{var ie=E.width,ce=E.height;if(g=E.S,0>=ie||0>=ce||!(g>=zd&&13>g))g=2;else{if(0>=E.Rd&&E.sd==null){K=W=$=v=0;var ve=(Q=ie*d5[g])*ce;if(11>g||(W=(ce+1)/2*(v=(ie+1)/2),g==12&&(K=($=ie)*ce)),(ce=r(ve+2*W+K))==null){g=1;break e}E.sd=ce,11>g?((ie=E.f.RGBA).eb=ce,ie.fb=0,ie.A=Q,ie.size=ve):((ie=E.f.kb).y=ce,ie.O=0,ie.fa=Q,ie.Fd=ve,ie.f=ce,ie.N=0+ve,ie.Ab=v,ie.Cd=W,ie.ea=ce,ie.W=0+ve+W,ie.Db=v,ie.Ed=W,g==12&&(ie.F=ce,ie.J=0+ve+2*W),ie.Tc=K,ie.lb=$)}if(v=1,$=E.S,W=E.width,K=E.height,$>=zd&&13>$)if(11>$)g=E.f.RGBA,v&=(Q=Math.abs(g.A))*(K-1)+W<=g.size,v&=Q>=W*d5[$],v&=g.eb!=null;else{g=E.f.kb,Q=(W+1)/2,ve=(K+1)/2,ie=Math.abs(g.fa),ce=Math.abs(g.Ab);var Se=Math.abs(g.Db),ue=Math.abs(g.lb),be=ue*(K-1)+W;v&=ie*(K-1)+W<=g.Fd,v&=ce*(ve-1)+Q<=g.Cd,v=(v&=Se*(ve-1)+Q<=g.Ed)&ie>=W&ce>=Q&Se>=Q,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,$==12&&(v&=ue>=W,v&=be<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||x!=null&&x.fd&&(g=$c(E)),g}var wa=64,Ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ys=24,uo=32,Tr=8,ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(g){return g},T.Predictor2=function(g,v,x){return v[x+0]},T.Predictor3=function(g,v,x){return v[x+1]},T.Predictor4=function(g,v,x){return v[x-1]},T.Predictor5=function(g,v,x){return Ie(Ie(g,v[x+1]),v[x+0])},T.Predictor6=function(g,v,x){return Ie(g,v[x-1])},T.Predictor7=function(g,v,x){return Ie(g,v[x+0])},T.Predictor8=function(g,v,x){return Ie(v[x-1],v[x+0])},T.Predictor9=function(g,v,x){return Ie(v[x+0],v[x+1])},T.Predictor10=function(g,v,x){return Ie(Ie(g,v[x-1]),Ie(v[x+0],v[x+1]))},T.Predictor11=function(g,v,x){var E=v[x+0];return 0>=Ke(E>>24&255,g>>24&255,(v=v[x-1])>>24&255)+Ke(E>>16&255,g>>16&255,v>>16&255)+Ke(E>>8&255,g>>8&255,v>>8&255)+Ke(255&E,255&g,255&v)?E:g},T.Predictor12=function(g,v,x){var E=v[x+0];return(qe((g>>24&255)+(E>>24&255)-((v=v[x-1])>>24&255))<<24|qe((g>>16&255)+(E>>16&255)-(v>>16&255))<<16|qe((g>>8&255)+(E>>8&255)-(v>>8&255))<<8|qe((255&g)+(255&E)-(255&v)))>>>0},T.Predictor13=function(g,v,x){var E=v[x-1];return(He((g=Ie(g,v[x+0]))>>24&255,E>>24&255)<<24|He(g>>16&255,E>>16&255)<<16|He(g>>8&255,E>>8&255)<<8|He(255&g,255&E))>>>0};var jc=T.PredictorAdd0;T.PredictorAdd1=gt,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var xl=T.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var On,Bd=T.ColorIndexInverseTransform,nr=T.MapARGB,sr=T.VP8LColorIndexInverseTransformAlpha,Bc=T.MapAlpha,Fc=T.VP8LPredictorsAdd=[];Fc.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Uc,zc,fo,po,go,_a,mo,xa,mi,ir,Yt,rn,Dn,Yn,Pr,Vc,Cl,Fd,Fg,Ug,zg,Vg,Hg,qg,Hc,Wg,Gg,Kg,Yg=r(511),Zg=r(2041),Jg=r(225),Xg=r(767),Qg=0,Of=Zg,Ud=Jg,Zs=Xg,vi=Yg,zd=0,Vd=1,e5=2,Hd=3,qd=4,Df=5,t5=6,Mf=7,Rf=8,Wd=9,$f=10,T8=[2,3,7],P8=[3,3,11],n5=[280,256,256,256,40],N8=[0,1,1,1,0],I8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],O8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],D8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],M8=8,jf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qc=null,R8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],s5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],j8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],B8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],F8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],U8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],Mi=[],Nr=[],z8=1,i5=2,bo=[],bi=[];Bs("UpsampleRgbLinePair",ga,3),Bs("UpsampleBgrLinePair",ma,3),Bs("UpsampleRgbaLinePair",Mc,4),Bs("UpsampleBgraLinePair",Dc,4),Bs("UpsampleArgbLinePair",ba,4),Bs("UpsampleRgba4444LinePair",va,2),Bs("UpsampleRgb565LinePair",bs,2);var V8=T.UpsampleRgbLinePair,H8=T.UpsampleBgrLinePair,r5=T.UpsampleRgbaLinePair,o5=T.UpsampleBgraLinePair,a5=T.UpsampleArgbLinePair,l5=T.UpsampleRgba4444LinePair,q8=T.UpsampleRgb565LinePair,Gd=16,Kd=1<<Gd-1,Wc=-227,Ff=482,W8=6,c5=0,G8=r(256),K8=r(256),Y8=r(256),Z8=r(256),J8=r(Ff-Wc),X8=r(Ff-Wc);Er("YuvToRgbRow",ga,3),Er("YuvToBgrRow",ma,3),Er("YuvToRgbaRow",Mc,4),Er("YuvToBgraRow",Dc,4),Er("YuvToArgbRow",ba,4),Er("YuvToRgba4444Row",va,2),Er("YuvToRgb565Row",bs,2);var u5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yd=[0,2,8],Q8=[8,7,6,4,4,2,2,2,1,1,1,1],e7=1;this.WebPDecodeRGBA=function(g,v,x,E,$){var W=Vd,K=new ye,Q=new sn;K.ba=Q,Q.S=W,Q.width=[Q.width],Q.height=[Q.height];var ie=Q.width,ce=Q.height,ve=new Ct;if(ve==null||g==null)var Se=2;else e(ve!=null),Se=ya(g,v,x,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Se!=0?ie=0:(ie!=null&&(ie[0]=ve.width[0]),ce!=null&&(ce[0]=ve.height[0]),ie=1),ie){Q.width=Q.width[0],Q.height=Q.height[0],E!=null&&(E[0]=Q.width),$!=null&&($[0]=Q.height);e:{if(E=new gl,($=new $e).data=g,$.w=v,$.ha=x,$.kd=1,v=[0],e($!=null),((g=ya($.data,$.w,$.ha,null,null,null,v,null,$))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(e(K!=null),E.data=$.data,E.w=$.w+$.offset,E.ha=$.ha-$.offset,E.put=bt,E.ac=Xi,E.bc=_r,E.ma=K,$.xa){if((g=na())==null){K=1;break e}if(function(ue,be){var _e=[0],Oe=[0],ke=[0];t:for(;;){if(ue==null)return 0;if(be==null)return ue.a=2,0;if(ue.l=be,ue.a=0,ee(ue.m,be.data,be.w,be.ha),!xr(ue.m,_e,Oe,ke)){ue.a=3;break t}if(ue.xb=i5,be.width=_e[0],be.height=Oe[0],!er(_e[0],Oe[0],1,ue,null))break t;return 1}return e(ue.a!=0),0}(g,E)){if(E=(v=co(E.width,E.height,K.Oa,K.ba))==0){t:{E=g;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((x=E.l)!=null),e(($=x.ma)!=null),E.xb!=0){if(E.ca=$.ba,E.tb=$.tb,e(E.ca!=null),!Rc($.Oa,x,Hd)){E.a=2;break n}if(!sa(E,x.width)||x.da)break n;if((x.da||Tt(E.ca.S))&&pi(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&pi()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!G(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Oi(E,E.V,E.Ba,E.c,E.i,x.o,ro))break n;$.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(v=g.a)}else v=g.a}else{if((g=new bf)==null){K=1;break e}if(g.Fa=$.na,g.P=$.P,g.qc=$.Sa,Td(g,E)){if((v=co(E.width,E.height,K.Oa,K.ba))==0){if(g.Aa=0,x=K.Oa,e(($=g)!=null),x!=null){if(0<(ie=0>(ie=x.Md)?0:100<ie?255:255*ie/100)){for(ce=ve=0;4>ce;++ce)12>(Se=$.pb[ce]).lc&&(Se.ia=ie*Q8[0>Se.lc?0:Se.lc]>>3),ve|=Se.ia;ve&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=x.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(ue,be){if(ue==null)return 0;if(be==null)return zn(ue,2,"NULL VP8Io parameter in VP8Decode().");if(!ue.cb&&!Td(ue,be))return 0;if(e(ue.cb),be.ac==null||be.ac(be)){be.ob&&(ue.L=0);var _e=Yd[ue.L];if(ue.L==2?(ue.yb=0,ue.zb=0):(ue.yb=be.v-_e>>4,ue.zb=be.j-_e>>4,0>ue.yb&&(ue.yb=0),0>ue.zb&&(ue.zb=0)),ue.Va=be.o+15+_e>>4,ue.Hb=be.va+15+_e>>4,ue.Hb>ue.za&&(ue.Hb=ue.za),ue.Va>ue.Ub&&(ue.Va=ue.Ub),0<ue.L){var Oe=ue.ed;for(_e=0;4>_e;++_e){var ke;if(ue.Qa.Cb){var Me=ue.Qa.Lb[_e];ue.Qa.Fb||(Me+=Oe.Tb)}else Me=Oe.Tb;for(ke=0;1>=ke;++ke){var je=ue.gd[_e][ke],ze=Me;if(Oe.Pc&&(ze+=Oe.vd[0],ke&&(ze+=Oe.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Be=ze;0<Oe.wb&&(Be=4<Oe.wb?Be>>2:Be>>1)>9-Oe.wb&&(Be=9-Oe.wb),1>Be&&(Be=1),je.dd=Be,je.tc=2*ze+Be,je.ld=40<=ze?2:15<=ze?1:0}else je.tc=0;je.La=ke}}}_e=0}else zn(ue,6,"Frame setup failed"),_e=ue.a;if(_e=_e==0){if(_e){ue.$c=0,0<ue.Aa||(ue.Ic=e7);t:{_e=ue.Ic,Oe=4*(Be=ue.za);var ut=32*Be,Qe=Be+1,Ot=0<ue.L?Be*(0<ue.Aa?2:1):0,it=(ue.Aa==2?2:1)*Be;if((je=Oe+832+(ke=3*(16*_e+Yd[ue.L])/2*ut)+(Me=ue.Fa!=null&&0<ue.Fa.length?ue.Kc.c*ue.Kc.i:0))!=je)_e=0;else{if(je>ue.Vb){if(ue.Vb=0,ue.Ec=r(je),ue.Fc=0,ue.Ec==null){_e=zn(ue,1,"no memory during frame initialization.");break t}ue.Vb=je}je=ue.Ec,ze=ue.Fc,ue.Ac=je,ue.Bc=ze,ze+=Oe,ue.Gd=o(ut,Ad),ue.Hd=0,ue.rb=o(Qe+1,Cc),ue.sb=1,ue.wa=Ot?o(Ot,fi):null,ue.Y=0,ue.D.Nb=0,ue.D.wa=ue.wa,ue.D.Y=ue.Y,0<ue.Aa&&(ue.D.Y+=Be),e(!0),ue.oc=je,ue.pc=ze,ze+=832,ue.ya=o(it,kc),ue.aa=0,ue.D.ya=ue.ya,ue.D.aa=ue.aa,ue.Aa==2&&(ue.D.aa+=Be),ue.R=16*Be,ue.B=8*Be,Be=(ut=Yd[ue.L])*ue.R,ut=ut/2*ue.B,ue.sa=je,ue.ta=ze+Be,ue.qa=ue.sa,ue.ra=ue.ta+16*_e*ue.R+ut,ue.Ha=ue.qa,ue.Ia=ue.ra+8*_e*ue.B+ut,ue.$c=0,ze+=ke,ue.mb=Me?je:null,ue.nb=Me?ze:null,e(ze+Me<=ue.Fc+ue.Vb),ia(ue),i(ue.Ac,ue.Bc,0,Oe),_e=1}}if(_e){if(be.ka=0,be.y=ue.sa,be.O=ue.ta,be.f=ue.qa,be.N=ue.ra,be.ea=ue.Ha,be.Vd=ue.Ia,be.fa=ue.R,be.Rc=ue.B,be.F=null,be.J=0,!Qg){for(_e=-255;255>=_e;++_e)Yg[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)Zg[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Jg[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Xg[255+_e]=0>_e?0:255<_e?255:_e;Qg=1}mo=Nd,xa=wf,ir=_f,Yt=tr,rn=Pd,mi=yf,Dn=Dd,Yn=Md,Pr=_,Vc=R,Cl=ha,Fd=Rd,Fg=de,Ug=pe,zg=Oc,Vg=da,Hg=Id,qg=Od,Mi[0]=Ef,Mi[1]=Ac,Mi[2]=Af,Mi[3]=Lf,Mi[4]=Tf,Mi[5]=Sr,Mi[6]=kr,Mi[7]=Pf,Mi[8]=ml,Mi[9]=Nf,vo[0]=ao,vo[1]=Cf,vo[2]=kf,vo[3]=Lc,vo[4]=Sf,vo[5]=aa,vo[6]=Ec,Nr[0]=bl,Nr[1]=xf,Nr[2]=Tc,Nr[3]=la,Nr[4]=Pc,Nr[5]=If,Nr[6]=Nc,_e=1}else _e=0}_e&&(_e=function(Ut,Zn){for(Ut.M=0;Ut.M<Ut.Va;++Ut.M){var Dt,rt=Ut.Jc[Ut.M&Ut.Xb],Ge=Ut.m,Mn=Ut;for(Dt=0;Dt<Mn.za;++Dt){var Pt=Ge,zt=Mn,gn=zt.Ac,us=zt.Bc+4*Dt,Is=zt.zc,Ln=zt.ya[zt.aa+Dt];if(zt.Qa.Bb?Ln.$b=me(Pt,zt.Pa.jb[0])?2+me(Pt,zt.Pa.jb[2]):me(Pt,zt.Pa.jb[1]):Ln.$b=0,zt.kc&&(Ln.Ad=me(Pt,zt.Bd)),Ln.Za=!me(Pt,145)+0,Ln.Za){var ys=Ln.Ob,Os=0;for(zt=0;4>zt;++zt){var Jn,Vt=Is[0+zt];for(Jn=0;4>Jn;++Jn){Vt=B8[gn[us+Jn]][Vt];for(var Qt=s5[me(Pt,Vt[0])];0<Qt;)Qt=s5[2*Qt+me(Pt,Vt[Qt])];Vt=-Qt,gn[us+Jn]=Vt}s(ys,Os,gn,us,4),Os+=4,Is[0+zt]=Vt}}else Vt=me(Pt,156)?me(Pt,128)?1:3:me(Pt,163)?2:0,Ln.Ob[0]=Vt,i(gn,us,Vt,4),i(Is,0,Vt,4);Ln.Dd=me(Pt,142)?me(Pt,114)?me(Pt,183)?1:3:2:0}if(Mn.m.Ka)return zn(Ut,7,"Premature end-of-partition0 encountered.");for(;Ut.ja<Ut.za;++Ut.ja){if(Mn=rt,Pt=(Ge=Ut).rb[Ge.sb-1],gn=Ge.rb[Ge.sb+Ge.ja],Dt=Ge.ya[Ge.aa+Ge.ja],us=Ge.kc?Dt.Ad:0)Pt.la=gn.la=0,Dt.Za||(Pt.Na=gn.Na=0),Dt.Hc=0,Dt.Gc=0,Dt.ia=0;else{var En,en;if(Pt=gn,gn=Mn,us=Ge.Pa.Xc,Is=Ge.ya[Ge.aa+Ge.ja],Ln=Ge.pb[Is.$b],zt=Is.ad,ys=0,Os=Ge.rb[Ge.sb-1],Vt=Jn=0,i(zt,ys,0,384),Is.Za)var ds=0,Ri=us[3];else{Qt=r(16);var Rn=Pt.Na+Os.Na;if(Rn=qc(gn,us[1],Rn,Ln.Eb,0,Qt,0),Pt.Na=Os.Na=(0<Rn)+0,1<Rn)mo(Qt,0,zt,ys);else{var Fs=Qt[0]+3>>3;for(Qt=0;256>Qt;Qt+=16)zt[ys+Qt]=Fs}ds=1,Ri=us[0]}var on=15&Pt.la,Xn=15&Os.la;for(Qt=0;4>Qt;++Qt){var Js=1&Xn;for(Fs=en=0;4>Fs;++Fs)on=on>>1|(Js=(Rn=qc(gn,Ri,Rn=Js+(1&on),Ln.Sc,ds,zt,ys))>ds)<<7,en=en<<2|(3<Rn?3:1<Rn?2:zt[ys+0]!=0),ys+=16;on>>=4,Xn=Xn>>1|Js<<7,Jn=(Jn<<8|en)>>>0}for(Ri=on,ds=Xn>>4,En=0;4>En;En+=2){for(en=0,on=Pt.la>>4+En,Xn=Os.la>>4+En,Qt=0;2>Qt;++Qt){for(Js=1&Xn,Fs=0;2>Fs;++Fs)Rn=Js+(1&on),on=on>>1|(Js=0<(Rn=qc(gn,us[2],Rn,Ln.Qc,0,zt,ys)))<<3,en=en<<2|(3<Rn?3:1<Rn?2:zt[ys+0]!=0),ys+=16;on>>=2,Xn=Xn>>1|Js<<5}Vt|=en<<4*En,Ri|=on<<4<<En,ds|=(240&Xn)<<En}Pt.la=Ri,Os.la=ds,Is.Hc=Jn,Is.Gc=Vt,Is.ia=43690&Vt?0:Ln.ia,us=!(Jn|Vt)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Dt.$b][Dt.Za],Ge.wa[Ge.Y+Ge.ja].La|=!us),Mn.Ka)return zn(Ut,7,"Premature end-of-file encountered.")}if(ia(Ut),Ge=Zn,Mn=1,Dt=(rt=Ut).D,Pt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Dt.M=rt.M,Dt.uc=Pt,gi(rt,Dt),Mn=1,Dt=(en=rt.D).Nb,Pt=(Vt=Yd[rt.L])*rt.R,gn=Vt/2*rt.B,Qt=16*Dt*rt.R,Fs=8*Dt*rt.B,us=rt.sa,Is=rt.ta-Pt+Qt,Ln=rt.qa,zt=rt.ra-gn+Fs,ys=rt.Ha,Os=rt.Ia-gn+Fs,Xn=(on=en.M)==0,Jn=on>=rt.Va-1,rt.Aa==2&&gi(rt,en),en.uc)for(Js=(Rn=rt).D.M,e(Rn.D.uc),en=Rn.yb;en<Rn.Hb;++en){ds=en,Ri=Js;var Ds=(Xs=(hs=Rn).D).Nb;En=hs.R;var Xs=Xs.wa[Xs.Y+ds],Qs=hs.sa,Us=hs.ta+16*Ds*En+16*ds,ei=Xs.dd,dn=Xs.tc;if(dn!=0)if(e(3<=dn),hs.L==1)0<ds&&Vg(Qs,Us,En,dn+4),Xs.La&&qg(Qs,Us,En,dn),0<Ri&&zg(Qs,Us,En,dn+4),Xs.La&&Hg(Qs,Us,En,dn);else{var ti=hs.B,$i=hs.qa,Ca=hs.ra+8*Ds*ti+8*ds,Ir=hs.Ha,hs=hs.Ia+8*Ds*ti+8*ds;Ds=Xs.ld,0<ds&&(Yn(Qs,Us,En,dn+4,ei,Ds),Vc($i,Ca,Ir,hs,ti,dn+4,ei,Ds)),Xs.La&&(Fd(Qs,Us,En,dn,ei,Ds),Ug($i,Ca,Ir,hs,ti,dn,ei,Ds)),0<Ri&&(Dn(Qs,Us,En,dn+4,ei,Ds),Pr($i,Ca,Ir,hs,ti,dn+4,ei,Ds)),Xs.La&&(Cl(Qs,Us,En,dn,ei,Ds),Fg($i,Ca,Ir,hs,ti,dn,ei,Ds))}}if(rt.ia&&alert("todo:DitherRow"),Ge.put!=null){if(en=16*on,on=16*(on+1),Xn?(Ge.y=rt.sa,Ge.O=rt.ta+Qt,Ge.f=rt.qa,Ge.N=rt.ra+Fs,Ge.ea=rt.Ha,Ge.W=rt.Ia+Fs):(en-=Vt,Ge.y=us,Ge.O=Is,Ge.f=Ln,Ge.N=zt,Ge.ea=ys,Ge.W=Os),Jn||(on-=Vt),on>Ge.o&&(on=Ge.o),Ge.F=null,Ge.J=null,rt.Fa!=null&&0<rt.Fa.length&&en<on&&(Ge.J=Vn(rt,Ge,en,on-en),Ge.F=rt.mb,Ge.F==null&&Ge.F.length==0)){Mn=zn(rt,3,"Could not decode alpha data.");break t}en<Ge.j&&(Vt=Ge.j-en,en=Ge.j,e(!(1&Vt)),Ge.O+=rt.R*Vt,Ge.N+=rt.B*(Vt>>1),Ge.W+=rt.B*(Vt>>1),Ge.F!=null&&(Ge.J+=Ge.width*Vt)),en<on&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=en-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=on-en,Mn=Ge.put(Ge))}Dt+1!=rt.Ic||Jn||(s(rt.sa,rt.ta-Pt,us,Is+16*rt.R,Pt),s(rt.qa,rt.ra-gn,Ln,zt+8*rt.B,gn),s(rt.Ha,rt.Ia-gn,ys,Os+8*rt.B,gn))}if(!Mn)return zn(Ut,6,"Output aborted.")}return 1}(ue,be)),be.bc!=null&&be.bc(be),_e&=1}return _e?(ue.cb=0,_e):0})(g,E)||(v=g.a)}}else v=g.a}v==0&&K.Oa!=null&&K.Oa.fd&&(v=$c(K.ba))}K=v}W=K!=0?null:11>W?Q.f.RGBA.eb:Q.f.kb.y}else W=null;return W};var d5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(T,q){for(var L="",P=0;P<4;P++)L+=String.fromCharCode(T[q++]);return L}function u(T,q){return T[q+0]|T[q+1]<<8}function h(T,q){return(T[q+0]|T[q+1]<<8|T[q+2]<<16)>>>0}function p(T,q){return(T[q+0]|T[q+1]<<8|T[q+2]<<16|T[q+3]<<24)>>>0}new l;var f=[0],m=[0],b=[],y=new l,w=t,C=function(T,q){var L={},P=0,ne=!1,V=0,j=0;if(L.frames=[],!function(A,O){for(var Y=0;Y<4;Y++)if(A[O+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(T,q)){for(p(T,q+=4),q+=8;q<T.length;){var F=c(T,q),D=p(T,q+=4);q+=4;var N=D+(1&D);switch(F){case"VP8 ":case"VP8L":L.frames[P]===void 0&&(L.frames[P]={}),(ae=L.frames[P]).src_off=ne?j:q-8,ae.src_size=V+D+8,P++,ne&&(ne=!1,V=0,j=0);break;case"VP8X":(ae=L.header={}).feature_flags=T[q];var ee=q+4;ae.canvas_width=1+h(T,ee),ee+=3,ae.canvas_height=1+h(T,ee),ee+=3;break;case"ALPH":ne=!0,V=N+8,j=q-8;break;case"ANIM":(ae=L.header).bgcolor=p(T,q),ee=q+4,ae.loop_count=u(T,ee),ee+=2;break;case"ANMF":var fe,ae;(ae=L.frames[P]={}).offset_x=2*h(T,q),q+=3,ae.offset_y=2*h(T,q),q+=3,ae.width=1+h(T,q),q+=3,ae.height=1+h(T,q),q+=3,ae.duration=h(T,q),q+=3,fe=T[q++],ae.dispose=1&fe,ae.blend=fe>>1&1}F!="ANMF"&&(q+=N)}return L}}(w,0);C.response=w,C.rgbaoutput=!0,C.dataurl=!1;var k=C.header?C.header:null,S=C.frames?C.frames:null;if(k){k.loop_counter=k.loop_count,f=[k.canvas_height],m=[k.canvas_width];for(var I=0;I<S.length&&S[I].blend!=0;I++);}var z=S[0],H=y.WebPDecodeRGBA(w,z.src_off,z.src_size,m,f);z.rgba=H,z.imgwidth=m[0],z.imgheight=f[0];for(var U=0;U<m[0]*f[0]*4;U++)b[U]=H[U];return this.width=m,this.height=f,this.data=b,this}(function(t){var e,n,s,i,r,o,a,l,c,u=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=A;Object.defineProperty(this,"pdf",{get:function(){return O}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(oe){Y=!!oe}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(oe){he=!!oe}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(oe){isNaN(oe)||(ge=oe)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(oe){isNaN(oe)||(J=oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(oe){var G;typeof oe=="number"?G=[oe,oe,oe,oe]:((G=new Array(4))[0]=oe[0],G[1]=oe.length>=2?oe[1]:G[0],G[2]=oe.length>=3?oe[2]:G[0],G[3]=oe.length>=4?oe[3]:G[1]),c.margin=G}});var X=!1;Object.defineProperty(this,"autoPaging",{get:function(){return X},set:function(oe){X=oe}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(oe){se=oe}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(oe){me=oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(oe){oe instanceof u&&(c=oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(oe){c.path=oe}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(oe){Ee=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var G;G=p(oe),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var G=p(oe);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var te=null,re=null;Object.defineProperty(this,"fontFaces",{get:function(){return re},set:function(oe){te=null,re=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var G;if(this.ctx.font=oe,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var Pe=G[1];G[2];var Ae=G[3],De=G[4];G[5];var we=G[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(Ne==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var xe=function(nt){var Xe,Rt,$t=[],st=nt.trim();if(st==="")return Yp;if(st in Cv)return[Cv[st]];for(;st!=="";){switch(Rt=null,Xe=(st=Sv(st)).charAt(0)){case'"':case"'":Rt=cB(st.substring(1),Xe);break;default:Rt=uB(st)}if(Rt===null||($t.push(Rt[0]),(st=Sv(Rt[1]))!==""&&st.charAt(0)!==","))return Yp;st=st.replace(/^,/,"")}return $t}(we);if(this.fontFaces){var Ve=function(nt,Xe){if(te===null){var Rt=function($t){var st=[];return Object.keys($t).forEach(function(ht){$t[ht].forEach(function(Mt){var mt=null;switch(Mt){case"bold":mt={family:ht,weight:"bold"};break;case"italic":mt={family:ht,style:"italic"};break;case"bolditalic":mt={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:ht}}mt!==null&&(mt.ref={name:ht,style:Mt},st.push(mt))})}),st}(nt.getFontList());te=function($t){for(var st={},ht=0;ht<$t.length;++ht){var Mt=Kp($t[ht]),mt=Mt.family,Ft=Mt.stretch,Tt=Mt.style,Nn=Mt.weight;st[mt]=st[mt]||{},st[mt][Ft]=st[mt][Ft]||{},st[mt][Ft][Tt]=st[mt][Ft][Tt]||{},st[mt][Ft][Tt][Nn]=Mt}return st}(Rt.concat(Xe))}return te}(this.pdf,this.fontFaces),Ie=xe.map(function(nt){return{family:nt,stretch:"normal",weight:Ae,style:Pe}}),qe=function(nt,Xe,Rt){for(var $t=(Rt=Rt||{}).defaultFontFamily||"times",st=Object.assign({},lB,Rt.genericFontFamilies||{}),ht=null,Mt=null,mt=0;mt<Xe.length;++mt)if(st[(ht=Kp(Xe[mt])).family]&&(ht.family=st[ht.family]),nt.hasOwnProperty(ht.family)){Mt=nt[ht.family];break}if(!(Mt=Mt||nt[$t]))throw new Error("Could not find a font-family for the rule '"+kv(ht)+"' and default family '"+$t+"'.");if(Mt=function(Ft,Tt){if(Tt[Ft])return Tt[Ft];var Nn=u0[Ft],Gn=Nn<=u0.normal?-1:1,sn=xv(Tt,kw,Nn,Gn);if(!sn)throw new Error("Could not find a matching font-stretch value for "+Ft);return sn}(ht.stretch,Mt),Mt=function(Ft,Tt){if(Tt[Ft])return Tt[Ft];for(var Nn=Cw[Ft],Gn=0;Gn<Nn.length;++Gn)if(Tt[Nn[Gn]])return Tt[Nn[Gn]];throw new Error("Could not find a matching font-style for "+Ft)}(ht.style,Mt),!(Mt=function(Ft,Tt){if(Tt[Ft])return Tt[Ft];if(Ft===400&&Tt[500])return Tt[500];if(Ft===500&&Tt[400])return Tt[400];var Nn=aB[Ft],Gn=xv(Tt,Sw,Nn,Ft<400?-1:1);if(!Gn)throw new Error("Could not find a matching font-weight for value "+Ft);return Gn}(ht.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+kv(ht)+"'.");return Mt}(Ve,Ie);this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var He="";(Ae==="bold"||parseInt(Ae,10)>=700||Pe==="bold")&&(He="bold"),Pe==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var Ke="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<xe.length;Ze++){if(this.pdf.internal.getFont(xe[Ze],He,{noFallback:!0,disableWarning:!0})!==void 0){Ke=xe[Ze];break}if(He==="bolditalic"&&this.pdf.internal.getFont(xe[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=xe[Ze],He="bold";else if(this.pdf.internal.getFont(xe[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=xe[Ze],He="normal";break}}if(Ke===""){for(var Je=0;Je<xe.length;Je++)if(gt[xe[Je]]){Ke=gt[xe[Je]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};h.prototype.setLineDash=function(A){this.lineDash=A},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(A,O){if(isNaN(A)||isNaN(O))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(A,O));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(A,O)},h.prototype.closePath=function(){var A=new o(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&nn(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){A=new o(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},h.prototype.lineTo=function(A,O){if(isNaN(A)||isNaN(O))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(A,O));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(A,O,Y,he){if(isNaN(Y)||isNaN(he)||isNaN(A)||isNaN(O))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new o(Y,he)),J=this.ctx.transform.applyToPoint(new o(A,O));this.path.push({type:"qct",x1:J.x,y1:J.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.bezierCurveTo=function(A,O,Y,he,ge,J){if(isNaN(ge)||isNaN(J)||isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var X=this.ctx.transform.applyToPoint(new o(ge,J)),se=this.ctx.transform.applyToPoint(new o(A,O)),me=this.ctx.transform.applyToPoint(new o(Y,he));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:me.x,y2:me.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.arc=function(A,O,Y,he,ge,J){if(isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he)||isNaN(ge))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var X=this.ctx.transform.applyToPoint(new o(A,O));A=X.x,O=X.y;var se=this.ctx.transform.applyToPoint(new o(0,Y)),me=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(se.x-me.x,2)+Math.pow(se.y-me.y,2))}Math.abs(ge-he)>=2*Math.PI&&(he=0,ge=2*Math.PI),this.path.push({type:"arc",x:A,y:O,radius:Y,startAngle:he,endAngle:ge,counterclockwise:J})},h.prototype.arcTo=function(A,O,Y,he,ge){throw new Error("arcTo not implemented.")},h.prototype.rect=function(A,O,Y,he){if(isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,O),this.lineTo(A+Y,O),this.lineTo(A+Y,O+he),this.lineTo(A,O+he),this.lineTo(A,O),this.lineTo(A+Y,O),this.lineTo(A,O)},h.prototype.fillRect=function(A,O,Y,he){if(isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,O,Y,he),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},h.prototype.strokeRect=function(A,O,Y,he){if(isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(A,O,Y,he),this.stroke())},h.prototype.clearRect=function(A,O,Y,he){if(isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,O,Y,he))},h.prototype.save=function(A){A=typeof A!="boolean"||A;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},h.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(O),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(A){var O,Y,he,ge;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))O=0,Y=0,he=0,ge=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(J!==null)O=parseInt(J[1]),Y=parseInt(J[2]),he=parseInt(J[3]),ge=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)O=parseInt(J[1]),Y=parseInt(J[2]),he=parseInt(J[3]),ge=parseFloat(J[4]);else{if(ge=1,typeof A=="string"&&A.charAt(0)!=="#"){var X=new mw(A);A=X.ok?X.toHex():"#000000"}A.length===4?(O=A.substring(1,2),O+=O,Y=A.substring(2,3),Y+=Y,he=A.substring(3,4),he+=he):(O=A.substring(1,3),Y=A.substring(3,5),he=A.substring(5,7)),O=parseInt(O,16),Y=parseInt(Y,16),he=parseInt(he,16)}}return{r:O,g:Y,b:he,a:ge,style:A}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(A,O,Y,he){if(isNaN(O)||isNaN(Y)||typeof A!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!f.call(this)){var ge=N(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;P.call(this,{text:A,x:O,y:Y,scale:J,angle:ge,align:this.textAlign,maxWidth:he})}},h.prototype.strokeText=function(A,O,Y,he){if(isNaN(O)||isNaN(Y)||typeof A!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){he=isNaN(he)?void 0:he;var ge=N(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;P.call(this,{text:A,x:O,y:Y,scale:J,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:he})}},h.prototype.measureText=function(A){if(typeof A!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,Y=this.pdf.internal.scaleFactor,he=O.internal.getFontSize(),ge=O.getStringUnitWidth(A)*he/O.internal.scaleFactor;return new function(J){var X=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this}({width:ge*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(A,O){if(isNaN(A)||isNaN(O))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(A,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(A){if(isNaN(A))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.translate=function(A,O){if(isNaN(A)||isNaN(O))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,A,O);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(A,O,Y,he,ge,J){if(isNaN(A)||isNaN(O)||isNaN(Y)||isNaN(he)||isNaN(ge)||isNaN(J))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var X=new l(A,O,Y,he,ge,J);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.setTransform=function(A,O,Y,he,ge,J){A=isNaN(A)?1:A,O=isNaN(O)?0:O,Y=isNaN(Y)?0:Y,he=isNaN(he)?1:he,ge=isNaN(ge)?0:ge,J=isNaN(J)?0:J,this.ctx.transform=new l(A,O,Y,he,ge,J)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(A,O,Y,he,ge,J,X,se,me){var Ee=this.pdf.getImageProperties(A),te=1,re=1,oe=1,G=1;he!==void 0&&se!==void 0&&(oe=se/he,G=me/ge,te=Ee.width/he*se/he,re=Ee.height/ge*me/ge),J===void 0&&(J=O,X=Y,O=0,Y=0),he!==void 0&&se===void 0&&(se=he,me=ge),he===void 0&&se===void 0&&(se=Ee.width,me=Ee.height);for(var Pe,Ae=this.ctx.transform.decompose(),De=N(Ae.rotate.shx),we=new l,Ne=(we=(we=(we=we.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new a(J-O*oe,X-Y*G,he*te,ge*re)),xe=y.call(this,Ne),Ve=[],Ie=0;Ie<xe.length;Ie+=1)Ve.indexOf(xe[Ie])===-1&&Ve.push(xe[Ie]);if(k(Ve),this.autoPaging)for(var qe=Ve[0],He=Ve[Ve.length-1],Ke=qe;Ke<He+1;Ke++){this.pdf.setPage(Ke);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ke===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ke===1?0:Je+(Ke-2)*nt;if(this.ctx.clip_path.length!==0){var Rt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Pe,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Rt}var $t=JSON.parse(JSON.stringify(Ne));$t=C([$t],this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset)[0];var st=(Ke>qe||Ke<He)&&b.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,nt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,De),st&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,De)};var y=function(A,O,Y){var he=[];O=O||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":he.push(Math.floor((A.y+ge)/Y)+1);break;case"arc":he.push(Math.floor((A.y+ge-A.radius)/Y)+1),he.push(Math.floor((A.y+ge+A.radius)/Y)+1);break;case"qct":var J=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);he.push(Math.floor((J.y+ge)/Y)+1),he.push(Math.floor((J.y+J.h+ge)/Y)+1);break;case"bct":var X=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);he.push(Math.floor((X.y+ge)/Y)+1),he.push(Math.floor((X.y+X.h+ge)/Y)+1);break;case"rect":he.push(Math.floor((A.y+ge)/Y)+1),he.push(Math.floor((A.y+A.h+ge)/Y)+1)}for(var se=0;se<he.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<he[se];)w.call(this);return he},w=function(){var A=this.fillStyle,O=this.strokeStyle,Y=this.font,he=this.lineCap,ge=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=O,this.font=Y,this.lineCap=he,this.lineWidth=ge,this.lineJoin=J},C=function(A,O,Y){for(var he=0;he<A.length;he++)switch(A[he].type){case"bct":A[he].x2+=O,A[he].y2+=Y;case"qct":A[he].x1+=O,A[he].y1+=Y;default:A[he].x+=O,A[he].y+=Y}return A},k=function(A){return A.sort(function(O,Y){return O-Y})},S=function(A,O){for(var Y,he,ge=this.fillStyle,J=this.strokeStyle,X=this.lineCap,se=this.lineWidth,me=Math.abs(se*this.ctx.transform.scaleX),Ee=this.lineJoin,te=JSON.parse(JSON.stringify(this.path)),re=JSON.parse(JSON.stringify(this.path)),oe=[],G=0;G<re.length;G++)if(re[G].x!==void 0)for(var Pe=y.call(this,re[G]),Ae=0;Ae<Pe.length;Ae+=1)oe.indexOf(Pe[Ae])===-1&&oe.push(Pe[Ae]);for(var De=0;De<oe.length;De++)for(;this.pdf.internal.getNumberOfPages()<oe[De];)w.call(this);if(k(oe),this.autoPaging)for(var we=oe[0],Ne=oe[oe.length-1],xe=we;xe<Ne+1;xe++){this.pdf.setPage(xe),this.fillStyle=ge,this.strokeStyle=J,this.lineCap=X,this.lineWidth=me,this.lineJoin=Ee;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=xe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=xe===1?0:qe+(xe-2)*He;if(this.ctx.clip_path.length!==0){var gt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Y,this.posX+this.margin[3],-Ke+Ie+this.ctx.prevPageLastElemOffset),I.call(this,A,!0),this.path=gt}if(he=JSON.parse(JSON.stringify(te)),this.path=C(he,this.posX+this.margin[3],-Ke+Ie+this.ctx.prevPageLastElemOffset),O===!1||xe===0){var Ze=(xe>we||xe<Ne)&&b.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,He,null).clip().discardPath()),I.call(this,A,O),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=me,I.call(this,A,O),this.lineWidth=se;this.path=te},I=function(A,O){if((A!=="stroke"||O||!m.call(this))&&(A==="stroke"||O||!f.call(this))){for(var Y,he,ge=[],J=this.path,X=0;X<J.length;X++){var se=J[X];switch(se.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:se,deltas:[],abs:[]});break;case"lt":var me=ge.length;if(J[X-1]&&!isNaN(J[X-1].x)&&(Y=[se.x-J[X-1].x,se.y-J[X-1].y],me>0)){for(;me>=0;me--)if(ge[me-1].close!==!0&&ge[me-1].begin!==!0){ge[me-1].deltas.push(Y),ge[me-1].abs.push(se);break}}break;case"bct":Y=[se.x1-J[X-1].x,se.y1-J[X-1].y,se.x2-J[X-1].x,se.y2-J[X-1].y,se.x-J[X-1].x,se.y-J[X-1].y],ge[ge.length-1].deltas.push(Y);break;case"qct":var Ee=J[X-1].x+2/3*(se.x1-J[X-1].x),te=J[X-1].y+2/3*(se.y1-J[X-1].y),re=se.x+2/3*(se.x1-se.x),oe=se.y+2/3*(se.y1-se.y),G=se.x,Pe=se.y;Y=[Ee-J[X-1].x,te-J[X-1].y,re-J[X-1].x,oe-J[X-1].y,G-J[X-1].x,Pe-J[X-1].y],ge[ge.length-1].deltas.push(Y);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(se)}}he=O?null:A==="stroke"?"stroke":"fill";for(var Ae=!1,De=0;De<ge.length;De++)if(ge[De].arc)for(var we=ge[De].abs,Ne=0;Ne<we.length;Ne++){var xe=we[Ne];xe.type==="arc"?U.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,O,!Ae):ne.call(this,xe.x,xe.y),Ae=!0}else if(ge[De].close===!0)this.pdf.internal.out("h"),Ae=!1;else if(ge[De].begin!==!0){var Ve=ge[De].start.x,Ie=ge[De].start.y;V.call(this,ge[De].deltas,Ve,Ie),Ae=!0}he&&T.call(this,he),O&&q.call(this)}},z=function(A){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-Y;case"top":return A+O-Y;case"hanging":return A+O-2*Y;case"middle":return A+O/2-Y;default:return A}},H=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(O,Y){this.colorStops.push([O,Y])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(A,O,Y,he,ge,J,X,se,me){for(var Ee=F.call(this,Y,he,ge,J),te=0;te<Ee.length;te++){var re=Ee[te];te===0&&(me?L.call(this,re.x1+A,re.y1+O):ne.call(this,re.x1+A,re.y1+O)),j.call(this,A,O,re.x2,re.y2,re.x3,re.y3,re.x4,re.y4)}se?q.call(this):T.call(this,X)},T=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(A,O){this.pdf.internal.out(n(A)+" "+s(O)+" m")},P=function(A){var O;switch(A.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var Y=this.pdf.getTextDimensions(A.text),he=z.call(this,A.y),ge=H.call(this,he)-Y.h,J=this.ctx.transform.applyToPoint(new o(A.x,he)),X=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(X.translate)).multiply(X.skew)).multiply(X.scale);for(var me,Ee,te,re=this.ctx.transform.applyToRectangle(new a(A.x,he,Y.w,Y.h)),oe=se.applyToRectangle(new a(A.x,ge,Y.w,Y.h)),G=y.call(this,oe),Pe=[],Ae=0;Ae<G.length;Ae+=1)Pe.indexOf(G[Ae])===-1&&Pe.push(G[Ae]);if(k(Pe),this.autoPaging)for(var De=Pe[0],we=Pe[Pe.length-1],Ne=De;Ne<we+1;Ne++){this.pdf.setPage(Ne);var xe=Ne===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[2],qe=Ie-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ke=He-this.margin[3],gt=Ne===1?0:Ve+(Ne-2)*qe;if(this.ctx.clip_path.length!==0){var Ze=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(me,this.posX+this.margin[3],-1*gt+xe),I.call(this,"fill",!0),this.path=Ze}var Je=C([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-gt+xe+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*A.scale),te=this.lineWidth,this.lineWidth=te*A.scale);var nt=this.autoPaging!=="text";if(nt||Je.y+Je.h<=Ie){if(nt||Je.y>=xe&&Je.x<=He){var Xe=nt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||He-Je.x)[0],Rt=C([JSON.parse(JSON.stringify(re))],this.posX+this.margin[3],-gt+xe+this.ctx.prevPageLastElemOffset)[0],$t=nt&&(Ne>De||Ne<we)&&b.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,qe,null).clip().discardPath()),this.pdf.text(Xe,Rt.x,Rt.y,{angle:A.angle,align:O,renderingMode:A.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else Je.y<Ie&&(this.ctx.prevPageLastElemOffset+=Ie-Je.y);A.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=te)}else A.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*A.scale),te=this.lineWidth,this.lineWidth=te*A.scale),this.pdf.text(A.text,J.x+this.posX,J.y+this.posY,{angle:A.angle,align:O,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=te)},ne=function(A,O,Y,he){Y=Y||0,he=he||0,this.pdf.internal.out(n(A+Y)+" "+s(O+he)+" l")},V=function(A,O,Y){return this.pdf.lines(A,O,Y,null,null)},j=function(A,O,Y,he,ge,J,X,se){this.pdf.internal.out([e(i(Y+A)),e(r(he+O)),e(i(ge+A)),e(r(J+O)),e(i(X+A)),e(r(se+O)),"c"].join(" "))},F=function(A,O,Y,he){for(var ge=2*Math.PI,J=Math.PI/2;O>Y;)O-=ge;var X=Math.abs(Y-O);X<ge&&he&&(X=ge-X);for(var se=[],me=he?-1:1,Ee=O;X>1e-5;){var te=Ee+me*Math.min(X,J);se.push(D.call(this,A,Ee,te)),X-=Math.abs(te-Ee),Ee=te}return se},D=function(A,O,Y){var he=(Y-O)/2,ge=A*Math.cos(he),J=A*Math.sin(he),X=ge,se=-J,me=X*X+se*se,Ee=me+X*ge+se*J,te=4/3*(Math.sqrt(2*me*Ee)-Ee)/(X*J-se*ge),re=X-te*se,oe=se+te*X,G=re,Pe=-oe,Ae=he+O,De=Math.cos(Ae),we=Math.sin(Ae);return{x1:A*Math.cos(O),y1:A*Math.sin(O),x2:re*De-oe*we,y2:re*we+oe*De,x3:G*De-Pe*we,y3:G*we+Pe*De,x4:A*Math.cos(Y),y4:A*Math.sin(Y)}},N=function(A){return 180*A/Math.PI},ee=function(A,O,Y,he,ge,J){var X=A+.5*(Y-A),se=O+.5*(he-O),me=ge+.5*(Y-ge),Ee=J+.5*(he-J),te=Math.min(A,ge,X,me),re=Math.max(A,ge,X,me),oe=Math.min(O,J,se,Ee),G=Math.max(O,J,se,Ee);return new a(te,oe,re-te,G-oe)},fe=function(A,O,Y,he,ge,J,X,se){var me,Ee,te,re,oe,G,Pe,Ae,De,we,Ne,xe,Ve,Ie,qe=Y-A,He=he-O,Ke=ge-Y,gt=J-he,Ze=X-ge,Je=se-J;for(Ee=0;Ee<41;Ee++)De=(Pe=(te=A+(me=Ee/40)*qe)+me*((oe=Y+me*Ke)-te))+me*(oe+me*(ge+me*Ze-oe)-Pe),we=(Ae=(re=O+me*He)+me*((G=he+me*gt)-re))+me*(G+me*(J+me*Je-G)-Ae),Ee==0?(Ne=De,xe=we,Ve=De,Ie=we):(Ne=Math.min(Ne,De),xe=Math.min(xe,we),Ve=Math.max(Ve,De),Ie=Math.max(Ie,we));return new a(Math.round(Ne),Math.round(xe),Math.round(Ve-Ne),Math.round(Ie-xe))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,O,Y=(A=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:O}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ot.API),function(t){var e=function(o){var a,l,c,u,h,p,f,m,b,y;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(y=h%85))/85)-(b=h%85))/85)-(m=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,m+33,b+33,y+33)):l.push(122);return function(w,C){for(var k=C;k>0;k--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,h,p=String,f="length",m=255,b="charCodeAt",y="slice",w="replace";for(o[y](-2),o=o[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[y](o[f]%5||5))[f];h>u;u+=5)l=52200625*(o[b](u)-33)+614125*(o[b](u+1)-33)+7225*(o[b](u+2)-33)+85*(o[b](u+3)-33)+(o[b](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(C,k){for(var S=k;S>0;S--)C.pop()}(c,a[f]),p.fromCharCode.apply(p,c)},s=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},r=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=s0(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=s(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,s){return function(i,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(m){var b=m.length,y=[],w=String.fromCharCode;for(p=0;p<b;p+=1)y.push(w(255&m.charCodeAt(p)));return y.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,r,o)}catch{}return a}(e,n,s)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):wp(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):wp(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var s=function(a){var l=nn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},r=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=r(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var m=u[f],b=m.src.find(function(y){return y.format==="truetype"});b&&c.addFont(b.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(s(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(s(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=c.call(h,a,l);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ot.getPageSize=function(a,l,c){if(nn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var m,b=0,y=0;if(f.hasOwnProperty(p))b=f[p][1]/h,y=f[p][0]/h;else try{b=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>b&&(m=y,y=b,b=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>y&&(m=y,y=b,b=m)}return{width:y,height:b,unit:l,k:h,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Kp):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(ot.API),ot.API.addJS=function(t){return Lv=t,this.internal.events.subscribe("postPutResources",function(){Ah=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ah+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Av=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ah!==void 0&&Av!==void 0&&this.internal.out("/Names <</JavaScript "+Ah+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),r=0;r<i.length;r++){var o=i[r],a=s.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(r=0;r<c;r++){var h=n.internal.newObject();u.push(h);var p=n.internal.getPageInfo(r+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),r=0;r<u.length;r++)n.internal.write("(page_"+(r+1)+")"+u[r]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,i,r){var o={title:i,options:r,children:[]};return s==null&&(s=this.root),s.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<s.children.length;r++){var o=s.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),r>0&&this.line("/Prev "+this.makeRef(s.children[r-1])),r<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<s.children.length;c++)this.renderItems(s.children[c])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,i){for(var r=0;r<i.children.length;r++)s.count++,this.count_r(s,i.children[r]);return s.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,s,i,r,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,b={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=f,e.indexOf(h.charCodeAt(y+1))!==-1){p=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),b={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:p,numcomponents:h.charCodeAt(y+9)};break}f=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:s,alias:i}}return u}}(ot.API),ot.API.processPNG=function(t,e,n,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,r=Gj(t,{checkCrc:!0}),o=r.width,a=r.height,l=r.channels,c=r.palette,u=r.depth;i=c&&l===1?function(U){for(var T=U.width,q=U.height,L=U.data,P=U.palette,ne=U.depth,V=!1,j=[],F=[],D=void 0,N=!1,ee=0,fe=0;fe<P.length;fe++){var ae=N3(P[fe],4),A=ae[0],O=ae[1],Y=ae[2],he=ae[3];j.push(A,O,Y),he!=null&&(he===0?(ee++,F.length<1&&F.push(fe)):he<255&&(N=!0))}if(N||ee>1){V=!0,F=void 0;var ge=T*q;D=new Uint8Array(ge);for(var J=new DataView(L.buffer),X=0;X<ge;X++){var se=Zp(J,X,ne),me=N3(P[se],4)[3];D[X]=me}}else ee===0&&(F=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:L,alphaBytes:D,needSMask:V,palette:j,mask:F}}(r):l===2||l===4?function(U){for(var T=U.data,q=U.width,L=U.height,P=U.channels,ne=U.depth,V=P===2?"DeviceGray":"DeviceRGB",j=P-1,F=q*L,D=j,N=F*D,ee=1*F,fe=Math.ceil(N*ne/8),ae=Math.ceil(ee*ne/8),A=new Uint8Array(fe),O=new Uint8Array(ae),Y=new DataView(T.buffer),he=new DataView(A.buffer),ge=new DataView(O.buffer),J=!1,X=0;X<F;X++){for(var se=X*P,me=0;me<D;me++)Rv(he,Zp(Y,se+me,ne),X*D+me,ne);var Ee=Zp(Y,se+D,ne);Ee<(1<<ne)-1&&(J=!0),Rv(ge,Ee,1*X,ne)}return{colorSpace:V,colorsPerPixel:j,sMaskBitsPerComponent:J?ne:void 0,colorBytes:A,alphaBytes:O,needSMask:J}}(r):function(U){var T=U.data,q=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(L){for(var P=L.length,ne=new Uint8Array(2*P),V=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),j=0;j<P;j++)V.setUint16(2*j,L[j],!1);return ne}(T):T,needSMask:!1}}(r);var h,p,f,m=i,b=m.colorSpace,y=m.colorsPerPixel,w=m.sMaskBitsPerComponent,C=m.colorBytes,k=m.alphaBytes,S=m.needSMask,I=m.palette,z=m.mask,H=null;return s!==ot.API.image_compression.NONE&&typeof s0=="function"?(H=function(U){var T;switch(U){case ot.API.image_compression.FAST:T=11;break;case ot.API.image_compression.MEDIUM:T=13;break;case ot.API.image_compression.SLOW:T=14;break;default:T=12}return T}(s),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(H," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=Nv(C,Math.ceil(o*y*u/8),y,u,s),S&&(f=Nv(k,Math.ceil(o*w/8),1,w,s))):(h=void 0,p=void 0,t=C,S&&(f=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:h,decodeParameters:p,transparency:z,palette:I,sMask:f,predictor:H,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,s,i){var r=new pB(e),o=r.width,a=r.height,l=[];r.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Jp(100).encode(c,100);return t.processJPEG.call(this,u,n,s,i)},t.processGIF87A=t.processGIF89A}(ot.API),ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:s,blue:n,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ji.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){an.log("bit decode error:"+n)}},ji.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var r=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[r>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ji.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var r=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*i*4,a=r>>4,l=15&r,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ji.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),r=n*this.width*4+4*s;if(i<this.palette.length){var o=this.palette[i];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}t!==0&&(this.pos+=4-t)}},ji.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&e)/e*255|0,a=(r>>5&e)/e*255|0,l=(r>>10&e)/e*255|0,c=r>>15?255:0,u=s*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},ji.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*r;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},ji.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=r,this.data[o+1]=i,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},ji.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=r,this.data[a+1]=i,this.data[a+2]=s,this.data[a+3]=o}},ji.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,s,i){var r=new ji(e,!1),o=r.width,a=r.height,l={data:r.getData(),width:o,height:a},c=new Jp(100).encode(l,100);return t.processJPEG.call(this,c,n,s,i)}}(ot.API),jv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,s,i){var r=new jv(e),o=r.width,a=r.height,l={data:r.getData(),width:o,height:a},c=new Jp(100).encode(l,100);return t.processJPEG.call(this,c,n,s,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var s=t.data,i=s.length,r=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=s[c],h=s[c+1],p=s[c+2],f=s[c+3];r[a++]=u,r[a++]=h,r[a++]=p,o[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dl=ot.API,Lh=Dl.getCharWidthsArray=function(t,e){var n,s,i=(e=e||{}).font||this.internal.getFont(),r=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,m=0,b=a[0]||l,y=[];for(n=0;n<f;n++)s=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+o*(1e3/r)||0)/1e3):(p=h&&nn(c[s])==="object"&&!isNaN(parseInt(c[s][m],10))?c[s][m]/u:0,y.push((a[s]||b)/l+p)),m=s;return y},Ev=Dl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Dl.processArabic&&(t=Dl.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,n,i)/n:Lh.apply(this,arguments).reduce(function(r,o){return r+o},0)},Tv=function(t,e,n,s){for(var i=[],r=0,o=t.length,a=0;r!==o&&a+e[r]<n;)a+=e[r],r++;i.push(t.slice(0,r));var l=r;for(a=0;r!==o;)a+e[r]>s&&(i.push(t.slice(l,r)),a=0,l=r),a+=e[r],r++;return l!==r&&i.push(t.slice(l,r)),i},Pv=function(t,e,n){n||(n={});var s,i,r,o,a,l,c,u=[],h=[u],p=n.textIndent||0,f=0,m=0,b=t.split(" "),y=Lh.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),C=[];b.map(function(S){(S=S.split(/\s*\n/)).length>1?C=C.concat(S.map(function(I,z){return(z&&I.length?`
`:"")+I})):C.push(S[0])}),b=C,l=Ev.apply(this,[w,n])}for(r=0,o=b.length;r<o;r++){var k=0;if(s=b[r],l&&s[0]==`
`&&(s=s.substr(1),k=1),p+f+(m=(i=Lh.apply(this,[s,n])).reduce(function(S,I){return S+I},0))>e||k){if(m>e){for(a=Tv.apply(this,[s,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);m=i.slice(s.length-(u[0]?u[0].length:0)).reduce(function(S,I){return S+I},0)}else u=[s];h.push(u),p=m+l,f=y}else u.push(s),p+=f+m,f=y}return c=l?function(S,I){return(I?w:"")+S.join(" ")}:function(S){return S.join(" ")},h.map(c)},Dl.splitTextToSize=function(t,e,n){var s,i=(n=n||{}).fontSize||this.internal.getFontSize(),r=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;r.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,r.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=s.length;a<l;a++)c=c.concat(Pv.apply(this,[s[a],o,r]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",s={},i={},r=0;r<16;r++)s[n[r]]=e[r],i[e[r]]=n[r];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var f,m,b,y,w=["{"];for(var C in p){if(f=p[C],isNaN(parseInt(C,10))?m="'"+C+"'":(C=parseInt(C,10),m=(m=o(C).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof f=="number")f<0?(b=o(f).slice(3),y="-"):(b=o(f).slice(2),y=""),b=y+b.slice(0,-1)+i[b.slice(-1)];else{if(nn(f)!=="object")throw new Error("Don't know what to do with value type "+nn(f)+".");b=a(f)}w.push(m+b)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,b,y,w={},C=1,k=w,S=[],I="",z="",H=p.length-1,U=1;U<H;U+=1)(y=p[U])=="'"?f?(b=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(S.push([k,b]),k={},b=void 0):y=="}"?((m=S.pop())[0][m[1]]=k,b=void 0,k=m[0]):y=="-"?C=-1:b===void 0?s.hasOwnProperty(y)?(I+=s[y],b=parseInt(I,16)*C,C=1,I=""):I+=y:s.hasOwnProperty(y)?(z+=s[y],k[b]=parseInt(z,16)*C,C=1,b=void 0,z=""):z+=y;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var f=p.font,m=h.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var b=u.Unicode[f.postScriptName];b&&(f.metadata.Unicode.encoding=b,f.encoding=b.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var s=n.length,i=new Uint8Array(s),r=0;r<s;r++)i[r]=n.charCodeAt(r);return i};t.API.events.push(["addFont",function(n){var s=void 0,i=n.font,r=n.instance;if(!i.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=r.existsFileInVFS(i.postScriptName)===!1?r.loadFile(i.postScriptName):r.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Jh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,s)}}])}(ot),ot.API.addSvgAsImage=function(t,e,n,s,i,r,o,a){if(isNaN(e)||isNaN(n))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=s,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(_t.canvg?Promise.resolve(_t.canvg):wp(()=>import("./index.es-ggRGFpUc.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,s,i,o,a)})},ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var s,i,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function p(m,b){var y,w=!1;for(y=0;y<m.length;y+=1)m[y]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(nn(t)==="object"){for(i in t)if(r=t[i],p(a,i)&&r!==void 0){if(n[i].type==="boolean"&&typeof r=="boolean")n[i].value=r;else if(n[i].type==="name"&&p(n[i].valueSet,r))n[i].value=r;else if(n[i].type==="integer"&&Number.isInteger(r))n[i].value=r;else if(n[i].type==="array"){for(c=0;c<r.length;c+=1)if(s=!0,r[c].length===1&&typeof r[c][0]=="number")l.push(String(r[c]-1));else if(r[c].length>1){for(u=0;u<r[c].length;u+=1)typeof r[c][u]!="number"&&(s=!1);s===!0&&l.push([r[c][0]-1,r[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,b=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?b.push("/"+m+" /"+n[m].value):b.push("/"+m+" "+n[m].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=r.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+r+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(r,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=r.length;h<p;++h){if(a=o.metadata.characterToGlyph(r.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=r.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},s=function(r){var o,a,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(r).sort(function(f,m){return f-m})).length;h<p;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(c=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(r){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<p.length;m++)f+=String.fromCharCode(p[m]);var b=c();u({data:f,addLength1:!0,objectId:b}),l("endobj");var y=c();u({data:s(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+zl(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+zl(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+zl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(r)}]),e.events.push(["putFont",function(r){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var b=c();u({data:s(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+zl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+zl(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(r)}]);var i=function(r){var o,a=r.text||"",l=r.x,c=r.y,u=r.options||{},h=r.mutex||{},p=h.pdfEscape,f=h.activeFontKey,m=h.fonts,b=f,y="",w=0,C="",k=m[b].encoding;if(m[b].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(C=a,b=f,Array.isArray(a)&&(C=a[0]),w=0;w<C.length;w+=1)m[b].metadata.hasOwnProperty("cmap")&&(o=m[b].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),o||C[w].charCodeAt(0)<256&&m[b].metadata.hasOwnProperty("Unicode")?y+=C[w]:y+="";var S="";return parseInt(b.slice(1))<14||k==="WinAnsiEncoding"?S=p(y,b).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(S=n(y,m[b])),h.isHex=!0,{text:S,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(r){var o=r.text||"",a=[],l={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);r.text=a}else r.text=i(Object.assign({},l,{text:o})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,s){return e.call(this),this.internal.vFS[n]=s,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var i,r,o,a,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,k=0;this.__bidiEngine__={};var S=function(L){var P=L.charCodeAt(),ne=P>>8,V=b[ne];return V!==void 0?h[256*V+(255&P)]:ne===252||ne===253?"AL":w.test(ne)?"L":ne===8?"R":"N"},I=function(L){for(var P,ne=0;ne<L.length;ne++){if((P=S(L.charAt(ne)))==="L")return!1;if(P==="R")return!0}return!1},z=function(L,P,ne,V){var j,F,D,N,ee=P[V];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(ee="AN");break;case"AL":C=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":V<1||V+1>=P.length||(j=ne[V-1])!=="EN"&&j!=="AN"||(F=P[V+1])!=="EN"&&F!=="AN"?ee="N":C&&(F="AN"),ee=F===j?F:"N";break;case"ES":ee=(j=V>0?ne[V-1]:"B")==="EN"&&V+1<P.length&&P[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&ne[V-1]==="EN"){ee="EN";break}if(C){ee="N";break}for(D=V+1,N=P.length;D<N&&P[D]==="ET";)D++;ee=D<N&&P[D]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(N=P.length,D=V+1;D<N&&P[D]==="NSM";)D++;if(D<N){var fe=L[V],ae=fe>=1425&&fe<=2303||fe===64286;if(j=P[D],ae&&(j==="R"||j==="AL")){ee="R";break}}}ee=V<1||(j=P[V-1])==="B"?"N":ne[V-1];break;case"B":C=!1,i=!0,ee=k;break;case"S":r=!0,ee="N"}return ee},H=function(L,P,ne){var V=L.split("");return ne&&U(V,ne,{hiLevel:k}),V.reverse(),P&&P.reverse(),V.join("")},U=function(L,P,ne){var V,j,F,D,N,ee=-1,fe=L.length,ae=0,A=[],O=k?f:p,Y=[];for(C=!1,i=!1,r=!1,j=0;j<fe;j++)Y[j]=S(L[j]);for(F=0;F<fe;F++){if(N=ae,A[F]=z(L,Y,A,F),V=240&(ae=O[N][m[A[F]]]),ae&=15,P[F]=D=O[ae][5],V>0)if(V===16){for(j=ee;j<F;j++)P[j]=1;ee=-1}else ee=-1;if(O[ae][6])ee===-1&&(ee=F);else if(ee>-1){for(j=ee;j<F;j++)P[j]=D;ee=-1}Y[F]==="B"&&(P[F]=0),ne.hiLevel|=D}r&&function(he,ge,J){for(var X=0;X<J;X++)if(he[X]==="S"){ge[X]=k;for(var se=X-1;se>=0&&he[se]==="WS";se--)ge[se]=k}}(Y,P,fe)},T=function(L,P,ne,V,j){if(!(j.hiLevel<L)){if(L===1&&k===1&&!i)return P.reverse(),void(ne&&ne.reverse());for(var F,D,N,ee,fe=P.length,ae=0;ae<fe;){if(V[ae]>=L){for(N=ae+1;N<fe&&V[N]>=L;)N++;for(ee=ae,D=N-1;ee<D;ee++,D--)F=P[ee],P[ee]=P[D],P[D]=F,ne&&(F=ne[ee],ne[ee]=ne[D],ne[D]=F);ae=N}ae++}}},q=function(L,P,ne){var V=L.split(""),j={hiLevel:k};return ne||(ne=[]),U(V,ne,j),function(F,D,N){if(N.hiLevel!==0&&u)for(var ee,fe=0;fe<F.length;fe++)D[fe]===1&&(ee=y.indexOf(F[fe]))>=0&&(F[fe]=y[ee+1])}(V,ne,j),T(2,V,P,ne,j),T(1,V,P,ne,j),V.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,ne){if(function(j,F){if(F)for(var D=0;D<j.length;D++)F[D]=D;a===void 0&&(a=I(j)),c===void 0&&(c=I(j))}(L,P),o||!l||c)if(o&&l&&a^c)k=a?1:0,L=H(L,P,ne);else if(!o&&l&&c)k=a?1:0,L=q(L,P,ne),L=H(L,P);else if(!o||a||l||c){if(o&&!l&&a^c)L=H(L,P),a?(k=0,L=q(L,P,ne)):(k=1,L=q(L,P,ne),L=H(L,P));else if(o&&a&&!l&&c)k=1,L=q(L,P,ne),L=H(L,P);else if(!o&&!l&&a^c){var V=u;a?(k=1,L=q(L,P,ne),k=0,u=!1,L=q(L,P,ne),u=V):(k=0,L=q(L,P,ne),L=H(L,P),k=1,u=!1,L=q(L,P,ne),u=V,L=H(L,P))}}else k=0,L=q(L,P,ne);else k=a?1:0,L=q(L,P,ne);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,c=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var r=s.options||{};s.mutex,r.lang;var o=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,n.setOptions(r),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);s.text=o}else s.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Go(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new TB(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new gB(this.contents),this.head=new vB(this),this.name=new xB(this),this.cmap=new Lw(this),this.toUnicode={},this.hhea=new bB(this),this.maxp=new CB(this),this.hmtx=new kB(this),this.post=new wB(this),this.os2=new yB(this),this.loca=new EB(this),this.glyf=new SB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,s,i,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,s){var i,r,o,a;for(o=0,r=0,a=(e=""+e).length;0<=a?r<a:r>a;r=0<=a?++r:--r)i=e.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t}();var Ji,Go=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,s;for(s=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var n,s,i;for(i=[],n=0,s=e.length;0<=s?n<s:n>s;n=0<=s?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,s,i,r,o,a,l;return e=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^r)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*s+4294967296*i+16777216*r+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,s;return n=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,s;for(n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n.push(this.readByte());return n},t.prototype.write=function(e){var n,s,i,r;for(r=[],s=0,i=e.length;s<i;s++)n=e[s],r.push(this.writeByte(n));return r},t}(),gB=function(){var t;function e(n){var s,i,r;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,r=this.tableCount;0<=r?i<r:i>r;i=0<=r?++i:--i)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(n){var s,i,r,o,a,l,c,u,h,p,f,m,b;for(b in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Go).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),r=16*f,c=i.pos+r,a=null,m=[],n)for(p=n[b],i.writeString(b),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),m=m.concat(p),b==="head"&&(a=c),c+=p.length;c%4;)m.push(0),c++;return i.write(m),s=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(s),i.data},t=function(n){var s,i,r,o;for(n=Ew.call(n);n.length%4;)n.push(0);for(r=new Go(n),i=0,s=0,o=n.length;s<o;s=s+=4)i+=r.readUInt32();return 4294967295&i},e}(),mB={}.hasOwnProperty,br=function(t,e){for(var n in e)mB.call(e,n)&&(t[n]=e[n]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};Ji=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Go).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Bv=function(){function t(e,n){var s,i,r,o,a,l,c,u,h,p,f,m,b,y,w,C,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,r=function(){var S,I;for(I=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)I.push(e.readUInt16());return I}(),e.pos+=2,b=function(){var S,I;for(I=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)I.push(e.readUInt16());return I}(),c=function(){var S,I;for(I=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)I.push(e.readUInt16());return I}(),u=function(){var S,I;for(I=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)I.push(e.readUInt16());return I}(),i=(this.length-e.pos+this.offset)/2,a=function(){var S,I;for(I=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)I.push(e.readUInt16());return I}(),l=w=0,k=r.length;w<k;l=++w)for(y=r[l],s=C=m=b[l];m<=y?C<=y:C>=y;s=m<=y?++C:--C)u[l]===0?o=s+c[l]:(o=a[u[l]/2+(s-m)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[s]=65535&o}e.pos=h}return t.encode=function(e,n){var s,i,r,o,a,l,c,u,h,p,f,m,b,y,w,C,k,S,I,z,H,U,T,q,L,P,ne,V,j,F,D,N,ee,fe,ae,A,O,Y,he,ge,J,X,se,me,Ee,te;switch(V=new Go,o=Object.keys(e).sort(function(re,oe){return re-oe}),n){case"macroman":for(b=0,y=function(){var re=[];for(m=0;m<256;++m)re.push(0);return re}(),C={0:0},r={},j=0,ee=o.length;j<ee;j++)C[se=e[i=o[j]]]==null&&(C[se]=++b),r[i]={old:e[i],new:C[e[i]]},y[i]=C[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(y),{charMap:r,subtable:V.data,maxGlyphID:b+1};case"unicode":for(P=[],h=[],k=0,C={},s={},w=c=null,F=0,fe=o.length;F<fe;F++)C[I=e[i=o[F]]]==null&&(C[I]=++k),s[i]={old:I,new:C[I]},a=C[I]-i,w!=null&&a===c||(w&&h.push(w),P.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),P.push(65535),q=2*(T=P.length),U=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(U/2)/Math.LN2,H=2*T-U,l=[],z=[],f=[],m=D=0,ae=P.length;D<ae;m=++D){if(L=P[m],u=h[m],L===65535){l.push(0),z.push(0);break}if(L-(ne=s[L].new)>=32768)for(l.push(0),z.push(2*(f.length+T-m)),i=N=L;L<=u?N<=u:N>=u;i=L<=u?++N:--N)f.push(s[i].new);else l.push(ne-L),z.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*T+2*f.length),V.writeUInt16(0),V.writeUInt16(q),V.writeUInt16(U),V.writeUInt16(p),V.writeUInt16(H),J=0,A=h.length;J<A;J++)i=h[J],V.writeUInt16(i);for(V.writeUInt16(0),X=0,O=P.length;X<O;X++)i=P[X],V.writeUInt16(i);for(me=0,Y=l.length;me<Y;me++)a=l[me],V.writeUInt16(a);for(Ee=0,he=z.length;Ee<he;Ee++)S=z[Ee],V.writeUInt16(S);for(te=0,ge=f.length;te<ge;te++)b=f[te],V.writeUInt16(b);return{charMap:s,subtable:V.data,maxGlyphID:k+1}}},t}(),Lw=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,s,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new Bv(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var s,i;return n==null&&(n="macroman"),s=Bv.encode(e,n),(i=new Go).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),bB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),yB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(e.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(e.readInt());return s}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(e.readInt());return s}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),wB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="post",t.prototype.parse=function(e){var n,s,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(s=e.readUInt16(),this.glyphNameIndex=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var o,a,l;for(l=[],r=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;r=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),_B=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="name",t.prototype.parse=function(e){var n,s,i,r,o,a,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),s=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},r=u=0,h=s.length;u<h;r=++u)i=s[r],e.pos=i.offset,c=e.readString(i.length),o=new _B(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),CB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),kB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,s,i,r,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)r=h[c],p.push(r.advance);return p}).call(this),s=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(s));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Ew=[].slice,SB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,s,i,r,o,a,l,c,u,h;return e in this.cache?this.cache[e]:(r=this.file.loca,n=this.file.contents,s=r.indexOf(e),(i=r.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+s,o=(a=new Go(n.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new LB(a,c,h,l,u):new AB(a,o,c,h,l,u),this.cache[e]))},t.prototype.encode=function(e,n,s){var i,r,o,a,l;for(o=[],r=[],a=0,l=n.length;a<l;a++)i=e[n[a]],r.push(o.length),i&&(o=o.concat(i.encode(s)));return r.push(o.length),{table:o,offsets:r}},t}(),AB=function(){function t(e,n,s,i,r,o){this.raw=e,this.numberOfContours=n,this.xMin=s,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),LB=function(){function t(e,n,s,i,r){var o,a;for(this.raw=e,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,s;for(n=new Go(Ew.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),EB=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return br(t,Ji),t.prototype.tag="loca",t.prototype.parse=function(e){var n,s;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,r;for(r=[],s=0,i=this.length;s<i;s+=2)r.push(2*e.readUInt16());return r}).call(this):(function(){var i,r;for(r=[],s=0,i=this.length;s<i;s+=4)r.push(e.readUInt32());return r}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var s=new Uint32Array(this.offsets.length),i=0,r=0,o=0;o<s.length;++o)if(s[o]=i,r<n.length&&n[r]==o){++r,s[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*s.length),u=0;u<s.length;++u)c[4*u+3]=255&s[u],c[4*u+2]=(65280&s[u])>>8,c[4*u+1]=(16711680&s[u])>>16,c[4*u]=(4278190080&s[u])>>24;return c},t}(),TB=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,s,i,r;for(n in i=this.font.cmap.tables[0].codeMap,e={},r=this.subset)s=r[n],e[n]=i[s];return e},t.prototype.glyphsFor=function(e){var n,s,i,r,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[r=e[o]]=this.font.glyf.glyphFor(r);for(r in n=[],i)(s=i[r])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(r in l=this.glyphsFor(n))s=l[r],i[r]=s;return i},t.prototype.encode=function(e,n){var s,i,r,o,a,l,c,u,h,p,f,m,b,y,w;for(i in s=Lw.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},w=s.charMap)f[(l=w[i]).old]=l.new;for(m in p=s.maxGlyphID,o)m in f||(f[m]=p++);return u=function(C){var k,S;for(k in S={},C)S[C[k]]=k;return S}(f),h=Object.keys(u).sort(function(C,k){return C-k}),b=function(){var C,k,S;for(S=[],C=0,k=h.length;C<k;C++)a=h[C],S.push(u[a]);return S}(),r=this.font.glyf.encode(o,b,f),c=this.font.loca.encode(r.offsets,b),y={cmap:this.font.cmap.raw(),glyf:r.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},e.convert=function(n){var s,i,r,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)s=n[a],c.push(e.convert(s));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in r=["<<"],n)o=n[i],r.push("/"+i+" "+e.convert(o));return r.push(">>"),r.join(`
`)}return""+n},e}();const PB={class:"min-h-screen p-3 rounded-lg font-poppins"},NB={class:"min-h-screen font-poppins lg:flex"},IB={class:"w-full lg:w-1/4 bg-white rounded-lg shadow p-6 flex flex-col items-center hidden lg:flex"},OB={class:"text-xl font-semibold mb-6"},DB={class:"w-full flex items-center justify-center gap-6 mb-6 relative"},MB={class:"relative"},RB={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},$B={class:"relative"},jB={class:"absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-customButton rounded-full"},BB={class:"w-full flex flex-col gap-3"},FB={class:"w-full lg:w-3/4 lg:pl-6 flex flex-col gap-6"},UB={class:"bg-white p-4 rounded-lg"},zB={class:"space-y-6"},VB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},HB={class:"border rounded p-4 space-y-4 relative"},qB={class:"border rounded p-4 space-y-4 relative"},WB={class:"relative border rounded p-3 rounded-lg"},GB={class:"border rounded p-4 space-y-4 relative"},KB={class:"flex justify-between items-center"},YB={key:0,class:"border p-3 rounded space-y-3 mt-3"},ZB=["onClick"],JB={class:"border rounded p-4 space-y-4 relative"},XB={class:"flex justify-between items-center"},QB={key:0,class:"border p-3 rounded space-y-3 mt-3"},eF=["disabled"],tF=["onClick"],nF={key:0},sF={class:"border rounded p-4 space-y-3"},iF={class:"flex gap-2"},rF={class:"flex flex-wrap gap-2 mt-2"},oF=["onClick"],aF={class:"border rounded p-4 space-y-3"},lF={key:0},cF={class:"text-gray-800"},uF={key:1,class:"text-gray-500 text-sm"},dF={key:0,class:"fixed inset-0 flex items-center justify-center bg-opacity-50 z-50"},hF={class:"bg-white rounded-lg shadow-lg max-w-4xl w-full relative"},fF={class:"p-4"},pF=["src"],gF={class:"mt-4 flex justify-end"},mF=["href"],vF={class:"toast toast-end toast-top z-50"},bF={__name:"ResumeEditorpage",setup(t){const e=le(!1),n=le(null),s=le(""),i=js(),r=le(""),o=le(0),a=le(0),l=le([]),c=le(!1),u=es({jobTitle:"",companyName:"",companyAddress:"",startYear:new Date().getFullYear(),endYear:new Date().getFullYear()}),h=le(!1),p=es({educationLevel:"",major:"",institutionName:"",institutionAddress:"",graduationYear:null}),f=es({summary:"",experience:[],education:[],skills:[],url:""}),m=es({firstName:"",middleName:"",lastName:"",emailAddress:"",phoneNumber:"",address:""});async function b(){try{const D=localStorage.getItem("token");if(!D)return;const ee=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${D}`}})).data||[];let fe=0,ae=0;const A=new Date().getTime();ee.forEach(O=>{const Y=(O.registrationStatus||"").toLowerCase(),he=O.end_time?A>new Date(O.end_time).getTime():!1;Y==="completed"||he?ae++:["upcoming","registered"].includes(Y)&&fe++}),o.value=fe,a.value=ae}catch(D){console.error(" Error fetching training counters:",D)}}async function y(){try{const D=localStorage.getItem("token"),N=await Le.post("https://pathfinder-development-production.up.railway.app/api/resume",{summary:f.summary,professionalLink:f.url},{headers:{Authorization:`Bearer ${D}`}});f.resumeID=N.data.resumeID,w("Resume saved successfully!")}catch(D){console.error("Error saving resume:",D.response?.data||D),w("Failed to save resume.")}}function w(D,N="info"){const ee=Date.now();l.value.push({id:ee,message:D,type:N}),setTimeout(()=>{l.value=l.value.filter(fe=>fe.id!==ee)},3e3)}async function C(){try{const D=localStorage.getItem("token"),{data:N}=await Le.get("https://pathfinder-development-production.up.railway.app/api/resume",{headers:{Authorization:`Bearer ${D}`}});N&&(f.summary=N.summary||"",f.url=N.professionalLink||"",f.resumeID=N.resumeID);const{data:ee}=await Le.get("https://pathfinder-development-production.up.railway.app/api/experiences",{headers:{Authorization:`Bearer ${D}`}});f.experience=ee||[],await S(),await U(f.resumeID)}catch(D){console.error("Error loading resume:",D.response?.data||D)}}async function k(){try{const D=localStorage.getItem("token");if(console.log("Sending education:",{...p,resumeID:f.resumeID}),!f.resumeID){const ee=await Le.post("https://pathfinder-development-production.up.railway.app/api/resume",{summary:f.summary||"",professionalLink:f.url||""},{headers:{Authorization:`Bearer ${D}`}});f.resumeID=ee.data.resumeID}const{data:N}=await Le.post("https://pathfinder-development-production.up.railway.app/api/education",{...p,resumeID:f.resumeID},{headers:{Authorization:`Bearer ${D}`}});f.education.push(N),Object.keys(p).forEach(ee=>{ee==="graduationYear"?p[ee]=null:p[ee]=""}),h.value=!1,w("Education added successfully!")}catch(D){console.error("Error adding education:",D.response?.data||D),w("Failed to add education.")}}async function S(){try{const D=localStorage.getItem("token"),N=f.resumeID||localStorage.getItem("resumeID"),{data:ee}=await Le.get(`https://pathfinder-development-production.up.railway.app/api/education?resumeID=${N}`,{headers:{Authorization:`Bearer ${D}`}});f.education=ee||[],console.log(" Education Data Loaded:",f.education)}catch(D){console.error(" Error loading education:",D.response?.data||D)}}async function I(D){try{const N=localStorage.getItem("token"),ee=f.education[D];ee.educationID&&await Le.delete(`https://pathfinder-development-production.up.railway.app/api/education/${ee.educationID}`,{headers:{Authorization:`Bearer ${N}`}}),f.education.splice(D,1)}catch(N){console.error("Error deleting education:",N.response?.data||N),w("Failed to delete education.")}}async function z(){if(!u.jobTitle.trim()||!u.companyName.trim()||!u.companyAddress.trim()){w("Please fill out all fields before adding experience.");return}try{const D=localStorage.getItem("token");if(!f.resumeID){const ee=await Le.post("https://pathfinder-development-production.up.railway.app/api/resume",{summary:f.summary||"",professionalLink:f.url||""},{headers:{Authorization:`Bearer ${D}`}});f.resumeID=ee.data.resumeID}const{data:N}=await Le.post("https://pathfinder-development-production.up.railway.app/api/experiences",{...u,startYear:`${u.startYear}-01-01`,endYear:`${u.endYear}-01-01`,resumeID:f.resumeID},{headers:{Authorization:`Bearer ${D}`}});f.experience.push(N),Object.assign(u,{jobTitle:"",companyName:"",companyAddress:"",startYear:new Date().getFullYear(),endYear:new Date().getFullYear()}),c.value=!1,w("Experience added successfully!")}catch(D){console.error("Error adding experience:",D.response?.data||D),w("Failed to add experience.")}}async function H(D){try{const N=localStorage.getItem("token"),ee=f.experience[D];ee.experienceID&&await Le.delete(`https://pathfinder-development-production.up.railway.app/api/experiences/${ee.experienceID}`,{headers:{Authorization:`Bearer ${N}`}}),f.experience.splice(D,1)}catch(N){console.error("Error deleting experience:",N.response?.data||N),w("Failed to delete experience.")}}async function U(D){try{const N=localStorage.getItem("token"),{data:ee}=await Le.get(`https://pathfinder-development-production.up.railway.app/api/skills/${D}`,{headers:{Authorization:`Bearer ${N}`}});f.skills=ee||[],console.log(" Skills Loaded:",f.skills)}catch(N){console.error("Error loading skills:",N.response?.data||N)}}async function T(){if(s.value.trim())try{const D=localStorage.getItem("token");if(!f.resumeID){w("Please save your resume first before adding skills.");return}const{data:N}=await Le.post("https://pathfinder-development-production.up.railway.app/api/skills",{skillName:s.value.trim(),resumeID:f.resumeID},{headers:{Authorization:`Bearer ${D}`}});f.skills.push(N),s.value=""}catch(D){console.error("Error adding skill:",D.response?.data||D)}}async function q(D){try{const N=localStorage.getItem("token"),ee=f.skills[D];ee.skillID&&await Le.delete(`https://pathfinder-development-production.up.railway.app/api/skills/${ee.skillID}`,{headers:{Authorization:`Bearer ${N}`}}),f.skills.splice(D,1)}catch(N){console.error("Error removing skill:",N.response?.data||N)}}async function L(){const D=await F();f.certificates=D;const N=new ot,ee=N.internal.pageSize.getWidth(),fe=N.internal.pageSize.getHeight(),ae=20;let A=20;function O(se){return se?String(se):""}function Y(se,me,Ee,te,re=6){const oe=N.splitTextToSize(se,te);for(let G of oe)Ee>fe-ae&&(N.addPage(),Ee=ae),N.text(G,me,Ee),Ee+=re;return Ee}function he(se,me,Ee,te,re){return N.setFont("times","bold"),N.setFontSize(12),N.text(se,me,Ee),Ee+=2,N.setLineWidth(.5),N.line(re,Ee,te-re,Ee),Ee+6}N.setFont("times","bold"),N.setFontSize(20);const ge=[m.firstName,m.middleName,m.lastName].filter(se=>se&&se.trim()!=="").join(" ");N.text(ge,ee/2,A,{align:"center"}),A+=8,N.setFont("times","regular"),N.setFontSize(10);const J=`${m.phoneNumber}  ${m.emailAddress}  ${f.url}`;N.text(J,ee/2,A,{align:"center"}),A+=12,A=he("Summary",ae,A,ee,ae),N.setFont("times","regular"),N.setFontSize(11),A=Y(f.summary||"",ae,A,ee-2*ae),f.experience.length&&(A=he("Professional Experience",ae,A,ee,ae),[...f.experience].sort((me,Ee)=>new Date(Ee.endYear).getFullYear()-new Date(me.endYear).getFullYear()).forEach(me=>{const Ee=O(me.startYear),te=me.endYear?O(me.endYear):"Present";N.setFont("times","bold"),N.text(me.jobTitle||"",ae,A),N.setFont("times","bold"),N.text(`${Ee}  ${te}`,ee-ae,A,{align:"right"}),A+=6,N.setFont("times","italic"),N.text(`${me.companyName||""}`,ae,A),A+=6})),f.education.length&&(A=he("Education",ae,A,ee,ae),f.education.forEach(se=>{const me=se.graduationYear?.toString()||"";N.setFont("times","bold"),N.text(`${se.institutionName||""}`,ae,A),N.text(me,ee-ae,A,{align:"right"}),A+=6,N.setFont("times","regular"),N.text(`${se.educationLevel} Major in ${se.major}`,ae,A),A+=6})),f.skills.length&&(A=he("Skills",ae,A,ee,ae),A=Y(f.skills.map(se=>se.skillName||se).join("  "),ae,A,ee-2*ae)),f.certificates&&f.certificates.length&&(A=he("Certificates",ae,A,ee,ae),N.setFont("times","regular"),N.setFontSize(11),f.certificates.forEach(se=>{A>fe-ae&&(N.addPage(),A=ae);const me="",Ee=se.certificationName||se.title||"";N.text(`${me} ${Ee}`,ae,A),A+=6}));const X=N.output("blob");n.value=URL.createObjectURL(X)}function P(){L(),e.value=!0}function ne(){e.value=!1}It(async()=>{const D=localStorage.getItem("user");if(D)try{const N=JSON.parse(D);r.value=`${N.firstName} ${N.lastName}`,Object.assign(m,N)}catch{r.value="Guest"}await C(),await b()});const V=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),i.push({name:"Login"})},j=le([]);async function F(){const D=localStorage.getItem("token"),N=JSON.parse(localStorage.getItem("user"));if(!D||!N?.applicantID)return[];try{const ee=await Le.get(`https://pathfinder-development-production.up.railway.app/api/certificates/${N.applicantID}/selected`,{headers:{Authorization:`Bearer ${D}`}});return j.value=ee.data.filter(fe=>fe.IsSelected===1),j.value}catch(ee){return console.error(" Error fetching selected certificates:",ee),j.value=[],[]}}return It(F),(D,N)=>(M(),B("div",PB,[d("div",NB,[d("div",IB,[N[33]||(N[33]=d("div",{class:"w-24 h-24 rounded-full bg-white mb-4"},[d("div",{class:"avatar w-24 h-24 rounded-full bg-white mb-4"},[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar",class:"w-full h-full object-cover rounded-full"})])],-1)),d("h2",OB,Z(r.value),1),d("div",DB,[d("div",MB,[N[25]||(N[25]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Upcoming")],-1)),d("span",RB,Z(o.value),1)]),d("div",$B,[N[26]||(N[26]=d("div",{class:"flex items-center justify-center bg-gray-100 rounded-full px-6 py-2"},[d("span",{class:"font-semibold text-gray-700"},"Completed")],-1)),d("span",jB,Z(a.value),1)])]),d("div",BB,[d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:N[0]||(N[0]=ee=>D.$router.push({name:"ResumeEditorpage"}))},N[27]||(N[27]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M19.8333 3.21521V9.06681C19.8333 9.86022 19.8333 10.2569 19.9877 10.56C20.1235 10.8265 20.3402 11.0432 20.6068 11.1791C20.9098 11.3335 21.3066 11.3335 22.1 11.3335H27.9516M22.6666 18.4167H11.3333M22.6666 24.0834H11.3333M14.1666 12.75H11.3333M19.8333 2.83337H12.4666C10.0864 2.83337 8.89629 2.83337 7.98717 3.2966C7.18748 3.70406 6.53731 4.35423 6.12985 5.15391C5.66663 6.06304 5.66663 7.25315 5.66663 9.63337V24.3667C5.66663 26.7469 5.66663 27.937 6.12985 28.8462C6.53731 29.6459 7.18748 30.296 7.98717 30.7035C8.89629 31.1667 10.0864 31.1667 12.4666 31.1667H21.5333C23.9135 31.1667 25.1036 31.1667 26.0128 30.7035C26.8124 30.296 27.4626 29.6459 27.8701 28.8462C28.3333 27.937 28.3333 26.7469 28.3333 24.3667V11.3334L19.8333 2.83337Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Resume",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:N[1]||(N[1]=ee=>D.$router.push({name:"Certificatespage"}))},N[28]||(N[28]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M9.47917 29.1666H7.29167C5.68084 29.1666 4.375 27.8608 4.375 26.25V5.83329C4.375 4.22246 5.68084 2.91663 7.29167 2.91663H27.7083C29.3192 2.91663 30.625 4.22246 30.625 5.83329V26.25C30.625 27.8608 29.3192 29.1666 27.7083 29.1666H25.5208M17.5 27.7083C19.9162 27.7083 21.875 25.7495 21.875 23.3333C21.875 20.917 19.9162 18.9583 17.5 18.9583C15.0838 18.9583 13.125 20.917 13.125 23.3333C13.125 25.7495 15.0838 27.7083 17.5 27.7083ZM17.5 27.7083L17.5313 27.708L12.8751 32.3641L8.75036 28.2393L13.1537 23.836M17.5 27.7083L22.1562 32.3641L26.281 28.2393L21.8777 23.836M13.125 8.74996H21.875M10.2083 13.8541H24.7917",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),d("span",null,"Certificates",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:N[2]||(N[2]=ee=>D.$router.push({name:"Bookmarkpage"}))},N[29]||(N[29]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M7.75 3.75V30L17.4375 20.625L27.125 30V3.75H7.75ZM23.25 0H3.875V26.25L5.8125 24.375V1.875H23.25V0Z",fill:"white"})],-1),d("span",null,"Bookmark",-1)])),N[32]||(N[32]=d("div",{class:"divider"},null,-1)),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:N[3]||(N[3]=ee=>D.$router.push({name:"UpdateDeletepage"}))},N[30]||(N[30]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"white"})],-1),d("span",null,"Account Setting",-1)])),d("button",{class:"bg-customButton text-white py-2 px-10 rounded-md hover:bg-dark-slate flex items-center justify-start gap-2",onClick:V},N[31]||(N[31]=[d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z",fill:"white"}),d("path",{d:"M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z",fill:"white"}),d("path",{d:"M5.84994 16.1C5.65994 16.1 5.46994 16.03 5.31994 15.88L1.96994 12.53C1.67994 12.24 1.67994 11.76 1.96994 11.47L5.31994 8.12003C5.60994 7.83003 6.08994 7.83003 6.37994 8.12003C6.66994 8.41003 6.66994 8.89003 6.37994 9.18003L3.55994 12L6.37994 14.82C6.66994 15.11 6.66994 15.59 6.37994 15.88C6.23994 16.03 6.03994 16.1 5.84994 16.1Z",fill:"white"})],-1),d("span",null,"Logout",-1)]))])]),d("div",FB,[d("div",UB,[N[52]||(N[52]=d("h2",{class:"text-2xl font-bold mb-3"},"Resume Editor",-1)),d("form",zB,[d("div",VB,[Ue(d("input",{"onUpdate:modelValue":N[4]||(N[4]=ee=>m.firstName=ee),type:"text",placeholder:"First Name",class:"input-field border rounded p-2"},null,512),[[We,m.firstName]]),Ue(d("input",{"onUpdate:modelValue":N[5]||(N[5]=ee=>m.emailAddress=ee),type:"email",placeholder:"Email",class:"input-field border rounded p-2"},null,512),[[We,m.emailAddress]]),Ue(d("input",{"onUpdate:modelValue":N[6]||(N[6]=ee=>m.middleName=ee),type:"text",placeholder:"Middle Name",class:"input-field border rounded p-2"},null,512),[[We,m.middleName]]),Ue(d("input",{"onUpdate:modelValue":N[7]||(N[7]=ee=>m.phoneNumber=ee),type:"text",placeholder:"Mobile Number",class:"input-field border rounded p-2"},null,512),[[We,m.phoneNumber]]),Ue(d("input",{"onUpdate:modelValue":N[8]||(N[8]=ee=>m.lastName=ee),type:"text",placeholder:"Last Name",class:"input-field border rounded p-2"},null,512),[[We,m.lastName]]),Ue(d("input",{"onUpdate:modelValue":N[9]||(N[9]=ee=>m.address=ee),type:"text",placeholder:"Address",class:"input-field border rounded p-2"},null,512),[[We,m.address]])]),d("div",HB,[N[34]||(N[34]=d("h2",{class:"text-lg font-semibold"},"Professional Link",-1)),Ue(d("input",{type:"url",placeholder:"URL",class:"input-field border rounded p-2 w-full","onUpdate:modelValue":N[10]||(N[10]=ee=>f.url=ee)},null,512),[[We,f.url]])]),d("div",qB,[N[35]||(N[35]=d("label",{class:"block text-lg font-semibold mb-1"},"Professional Summary",-1)),d("div",WB,[Ue(d("textarea",{rows:"3",class:"input-field w-full","onUpdate:modelValue":N[11]||(N[11]=ee=>f.summary=ee)},null,512),[[We,f.summary]])])]),d("div",GB,[d("div",KB,[N[36]||(N[36]=d("label",{class:"text-lg font-semibold"},"Professional Experience",-1)),d("button",{type:"button",onClick:N[12]||(N[12]=ee=>c.value=!0),class:"w-8 h-8 flex items-center justify-center rounded-full bg-customButton text-white hover:bg-dark-slate"}," + ")]),c.value?(M(),B("div",YB,[d("div",null,[N[37]||(N[37]=d("label",{class:"block font-medium mb-1"},"Job Title",-1)),Ue(d("input",{"onUpdate:modelValue":N[13]||(N[13]=ee=>u.jobTitle=ee),type:"text",placeholder:"Enter job title",class:"input-field border rounded w-full p-2"},null,512),[[We,u.jobTitle]])]),d("div",null,[N[38]||(N[38]=d("label",{class:"block font-medium mb-1"},"Company Name",-1)),Ue(d("input",{"onUpdate:modelValue":N[14]||(N[14]=ee=>u.companyName=ee),type:"text",placeholder:"Enter company name",class:"input-field border rounded w-full p-2"},null,512),[[We,u.companyName]])]),d("div",null,[N[39]||(N[39]=d("label",{class:"block font-medium mb-1"},"Company Address",-1)),Ue(d("input",{"onUpdate:modelValue":N[15]||(N[15]=ee=>u.companyAddress=ee),type:"text",placeholder:"Enter company address",class:"input-field border rounded w-full p-2"},null,512),[[We,u.companyAddress]])]),d("div",null,[N[40]||(N[40]=d("label",{class:"block font-medium mb-1"},"Start Year",-1)),Ue(d("input",{"onUpdate:modelValue":N[16]||(N[16]=ee=>u.startYear=ee),type:"number",placeholder:"e.g. 2020",class:"input-field border rounded w-full p-2"},null,512),[[We,u.startYear]])]),d("div",null,[N[41]||(N[41]=d("label",{class:"block font-medium mb-1"},"End Year",-1)),Ue(d("input",{"onUpdate:modelValue":N[17]||(N[17]=ee=>u.endYear=ee),type:"number",placeholder:"e.g. 2022",class:"input-field border rounded w-full p-2"},null,512),[[We,u.endYear]])]),d("button",{type:"button",onClick:z,class:"w-20 h-10 flex items-center justify-center rounded bg-customButton text-white hover:bg-dark-slate"}," Add + ")])):Ce("",!0),(M(!0),B(Ye,null,ct(f.experience,(ee,fe)=>(M(),B("div",{key:fe,class:"relative border p-3 rounded space-y-3"},[d("button",{type:"button",onClick:ae=>H(fe),class:"absolute top-2 right-2 text-gray-500 hover:text-red-500"},"  ",8,ZB),d("p",null,[d("strong",null,Z(ee.jobTitle),1)]),d("p",null,Z(ee.companyName),1),d("p",null,Z(ee.companyAddress),1),d("p",null,Z(new Date(ee.startYear).getFullYear())+" - "+Z(new Date(ee.endYear).getFullYear()),1)]))),128))]),d("div",JB,[d("div",XB,[N[42]||(N[42]=d("label",{class:"text-lg font-semibold"},"Education",-1)),d("button",{type:"button",onClick:N[18]||(N[18]=ee=>h.value=!h.value),class:"w-8 h-8 flex items-center justify-center rounded-full bg-customButton text-white hover:bg-dark-slate"}," + ")]),h.value?(M(),B("div",QB,[d("div",null,[N[44]||(N[44]=d("label",{class:"block font-medium mb-1"},"Education Level",-1)),Ue(d("select",{"onUpdate:modelValue":N[19]||(N[19]=ee=>p.educationLevel=ee),class:"input-field border rounded w-full p-2"},N[43]||(N[43]=[d("option",{value:"",disabled:""},"Select level",-1),d("option",null,"Elementary",-1),d("option",null,"High School",-1),d("option",null,"Senior High School",-1),d("option",null,"Bachelor's Degree",-1),d("option",null,"Master's Degree",-1),d("option",null,"Doctorate",-1),d("option",null,"Others",-1)]),512),[[ud,p.educationLevel]])]),d("div",null,[N[45]||(N[45]=d("label",{class:"block font-medium mb-1"},"Major",-1)),Ue(d("input",{"onUpdate:modelValue":N[20]||(N[20]=ee=>p.major=ee),type:"text",placeholder:"Enter major",class:"input-field border rounded w-full p-2 disabled:bg-gray-200",disabled:p.educationLevel==="Elementary"||p.educationLevel==="High School"},null,8,eF),[[We,p.major]])]),d("div",null,[N[46]||(N[46]=d("label",{class:"block font-medium mb-1"},"Institution Name",-1)),Ue(d("input",{"onUpdate:modelValue":N[21]||(N[21]=ee=>p.institutionName=ee),type:"text",placeholder:"Enter school/university name",class:"input-field border rounded w-full p-2"},null,512),[[We,p.institutionName]])]),d("div",null,[N[47]||(N[47]=d("label",{class:"block font-medium mb-1"},"Institution Address",-1)),Ue(d("input",{"onUpdate:modelValue":N[22]||(N[22]=ee=>p.institutionAddress=ee),type:"text",placeholder:"Enter address",class:"input-field border rounded w-full p-2"},null,512),[[We,p.institutionAddress]])]),d("div",null,[N[48]||(N[48]=d("label",{class:"block font-medium mb-1"},"Graduation Year",-1)),Ue(d("input",{"onUpdate:modelValue":N[23]||(N[23]=ee=>p.graduationYear=ee),type:"number",min:"1900",max:"2099",placeholder:"e.g. 2025",class:"input-field border rounded w-full p-2"},null,512),[[We,p.graduationYear,void 0,{number:!0}]])]),d("button",{type:"button",onClick:k,class:"w-20 h-10 flex items-center justify-center rounded bg-customButton text-white hover:bg-dark-slate"}," Add + ")])):Ce("",!0),(M(!0),B(Ye,null,ct(f.education,(ee,fe)=>(M(),B("div",{key:fe,class:"relative border p-3 rounded space-y-3"},[d("button",{type:"button",onClick:ae=>I(fe),class:"absolute top-2 right-2 text-gray-500 hover:text-red-500"},"  ",8,tF),d("p",null,[d("strong",null,Z(ee.educationLevel),1)]),ee.major?(M(),B("p",nF,Z(ee.major),1)):Ce("",!0),d("p",null,Z(ee.institutionName),1),d("p",null,Z(ee.institutionAddress),1),d("p",null,Z(ee.graduationYear),1)]))),128))]),d("div",sF,[N[49]||(N[49]=d("label",{class:"text-lg font-semibold"},"Skills",-1)),d("div",iF,[Ue(d("input",{"onUpdate:modelValue":N[24]||(N[24]=ee=>s.value=ee),type:"text",placeholder:"Type a skill",class:"input-field flex-1 border rounded p-2",onKeyup:jx(T,["enter"])},null,544),[[We,s.value]]),d("button",{type:"button",onClick:T,class:"w-8 h-8 flex items-center justify-center rounded-full bg-customButton text-white hover:bg-dark-slate"}," + ")]),d("div",rF,[(M(!0),B(Ye,null,ct(f.skills,(ee,fe)=>(M(),B("span",{key:fe,class:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full flex items-center gap-2"},[Re(Z(ee.skillName||ee)+" ",1),d("button",{type:"button",onClick:ae=>q(fe),class:"text-blue-500 hover:text-red-500"},"  ",8,oF)]))),128))])]),d("div",aF,[N[50]||(N[50]=d("h3",{class:"text-lg font-semibold"},"Certificates",-1)),j.value.length?(M(),B("ul",lF,[(M(!0),B(Ye,null,ct(j.value,ee=>(M(),B("li",{key:ee.certificationID,class:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded-lg hover:bg-gray-100 transition"},[d("span",cF,Z(ee.certificationName),1)]))),128))])):(M(),B("p",uF," No certificates selected for your resume. "))]),d("div",{class:"flex gap-4"},[d("button",{type:"button",onClick:P,class:"w-1/2 py-3 bg-customButton text-white rounded-xl hover:bg-dark-slate transition"}," Preview Resume "),d("button",{type:"button",class:"w-1/2 py-3 bg-customButton text-white rounded-xl hover:bg-dark-slate transition",onClick:y}," Save ")])]),e.value?(M(),B("div",dF,[d("div",hF,[d("button",{onClick:ne,class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700"},"  "),d("div",fF,[N[51]||(N[51]=d("h2",{class:"text-xl font-semibold mb-4"},"Resume Preview",-1)),n.value?(M(),B("iframe",{key:0,src:n.value,class:"w-full h-[500px] border",frameborder:"0"},null,8,pF)):Ce("",!0),d("div",gF,[n.value?(M(),B("a",{key:0,href:n.value,download:"resume.pdf",class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"}," Download PDF ",8,mF)):Ce("",!0)])])])])):Ce("",!0)])]),d("div",vF,[(M(!0),B(Ye,null,ct(l.value,ee=>(M(),B("div",{key:ee.id,class:ft(["alert",{"alert-info":ee.type==="info","alert-success":ee.type==="success","alert-accent":ee.type==="accent"}])},Z(ee.message),3))),128))])])]))}},yF="/assets/app-avDONQqh.jpg",wF="/assets/org-DVxs4hBo.jpg",_F={class:"font-poppins min-h-screen pl-10 pr-10 pb-5 flex w-full items-center justify-center bg-gray-50"},xF={class:"w-full max-w-6xl px-4 pb-20"},CF={class:"pt-10 pb-2"},kF={class:"flex w-full flex-col lg:flex-row gap-6"},SF=["src"],AF=["src"],LF={__name:"TypeOfAccount",setup(t){return(e,n)=>(M(),B("div",_F,[d("div",xF,[d("div",null,[d("div",CF,[d("button",{class:"btn btn-ghost text-dark-slate",onClick:n[0]||(n[0]=s=>e.$router.push("/loginform"))},n[3]||(n[3]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 18l-6-6 6-6"})],-1)]))]),n[4]||(n[4]=d("h2",{class:"font-inter text-3xl font-semibold text-left mb-6 text-dark-slate pl-3"}," Account Type ",-1))]),d("div",kF,[d("div",{class:"card bg-base-300 rounded-box flex-1 min-h-[200px] p-6",onClick:n[1]||(n[1]=s=>e.$router.push("/auth/aregistration"))},[d("figure",null,[d("img",{src:qt(yF),alt:"Applicant"},null,8,SF)]),n[5]||(n[5]=d("p",{class:"sm:text-base md:text-md lg:text-lg xl:text-xl text-center font-inter pt-4"}," Applicant ",-1))]),n[7]||(n[7]=d("div",{class:"divider lg:divider-horizontal font-inter"},"OR",-1)),d("div",{class:"card bg-base-300 rounded-box flex-1 min-h-[200px] p-6",onClick:n[2]||(n[2]=s=>e.$router.push("/auth/oregistration"))},[d("figure",null,[d("img",{src:qt(wF),alt:"Organization"},null,8,AF)]),n[6]||(n[6]=d("p",{class:"sm:text-base md:text-md lg:text-lg xl:text-xl text-center font-inter pt-4"}," Organization ",-1))])])])]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wd(t){return t+.5|0}const Ro=(t,e,n)=>Math.max(Math.min(t,n),e);function du(t){return Ro(wd(t*2.55),0,255)}function Vo(t){return Ro(wd(t*255),0,255)}function qr(t){return Ro(wd(t/2.55)/100,0,1)}function Fv(t){return Ro(wd(t*100),0,100)}const wi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},d0=[..."0123456789ABCDEF"],EF=t=>d0[t&15],TF=t=>d0[(t&240)>>4]+d0[t&15],Eh=t=>(t&240)>>4===(t&15),PF=t=>Eh(t.r)&&Eh(t.g)&&Eh(t.b)&&Eh(t.a);function NF(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&wi[t[1]]*17,g:255&wi[t[2]]*17,b:255&wi[t[3]]*17,a:e===5?wi[t[4]]*17:255}:(e===7||e===9)&&(n={r:wi[t[1]]<<4|wi[t[2]],g:wi[t[3]]<<4|wi[t[4]],b:wi[t[5]]<<4|wi[t[6]],a:e===9?wi[t[7]]<<4|wi[t[8]]:255})),n}const IF=(t,e)=>t<255?e(t):"";function OF(t){var e=PF(t)?EF:TF;return t?"#"+e(t.r)+e(t.g)+e(t.b)+IF(t.a,e):void 0}const DF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tw(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function MF(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function RF(t,e,n){const s=Tw(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function $F(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function xg(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=$F(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Cg(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Vo)}function kg(t,e,n){return Cg(Tw,t,e,n)}function jF(t,e,n){return Cg(RF,t,e,n)}function BF(t,e,n){return Cg(MF,t,e,n)}function Pw(t){return(t%360+360)%360}function FF(t){const e=DF.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?du(+e[5]):Vo(+e[5]));const i=Pw(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=jF(i,r,o):e[1]==="hsv"?s=BF(i,r,o):s=kg(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function UF(t,e){var n=xg(t);n[0]=Pw(n[0]+e),n=kg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function zF(t){if(!t)return;const e=xg(t),n=e[0],s=Fv(e[1]),i=Fv(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${qr(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Uv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VF(){const t={},e=Object.keys(zv),n=Object.keys(Uv);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Uv[r]);r=parseInt(zv[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Th;function HF(t){Th||(Th=VF(),Th.transparent=[0,0,0,0]);const e=Th[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WF(t){const e=qF.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?du(o):Ro(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?du(s):Ro(s,0,255)),i=255&(e[4]?du(i):Ro(i,0,255)),r=255&(e[6]?du(r):Ro(r,0,255)),{r:s,g:i,b:r,a:n}}}function GF(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Xp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ml=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function KF(t,e,n){const s=Ml(qr(t.r)),i=Ml(qr(t.g)),r=Ml(qr(t.b));return{r:Vo(Xp(s+n*(Ml(qr(e.r))-s))),g:Vo(Xp(i+n*(Ml(qr(e.g))-i))),b:Vo(Xp(r+n*(Ml(qr(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Ph(t,e,n){if(t){let s=xg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=kg(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Nw(t,e){return t&&Object.assign(e||{},t)}function Vv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Vo(t[3]))):(e=Nw(t,{r:0,g:0,b:0,a:1}),e.a=Vo(e.a)),e}function YF(t){return t.charAt(0)==="r"?WF(t):FF(t)}class Qu{constructor(e){if(e instanceof Qu)return e;const n=typeof e;let s;n==="object"?s=Vv(e):n==="string"&&(s=NF(e)||HF(e)||YF(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Nw(this._rgb);return e&&(e.a=qr(e.a)),e}set rgb(e){this._rgb=Vv(e)}rgbString(){return this._valid?GF(this._rgb):void 0}hexString(){return this._valid?OF(this._rgb):void 0}hslString(){return this._valid?zF(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=KF(this._rgb,e._rgb,n)),this}clone(){return new Qu(this.rgb)}alpha(e){return this._rgb.a=Vo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=wd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ph(this._rgb,2,e),this}darken(e){return Ph(this._rgb,2,-e),this}saturate(e){return Ph(this._rgb,1,e),this}desaturate(e){return Ph(this._rgb,1,-e),this}rotate(e){return UF(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Br(){}const ZF=(()=>{let t=0;return()=>t++})();function jt(t){return t==null}function wn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Bt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ii(t,e){return Pn(t)?t:e}function Lt(t,e){return typeof t>"u"?e:t}const JF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Iw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function tn(t,e,n,s){let i,r,o;if(wn(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(Bt(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function A1(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function L1(t){if(wn(t))return t.map(L1);if(Bt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=L1(t[n[i]]);return e}return t}function Ow(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function XF(t,e,n,s){if(!Ow(t))return;const i=e[t],r=n[t];Bt(i)&&Bt(r)?ed(i,r,s):e[t]=L1(r)}function ed(t,e,n){const s=wn(e)?e:[e],i=s.length;if(!Bt(t))return t;n=n||{};const r=n.merger||XF;let o;for(let a=0;a<i;++a){if(o=s[a],!Bt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Nu(t,e){return ed(t,e,{merger:QF})}function QF(t,e,n){if(!Ow(t))return;const s=e[t],i=n[t];Bt(s)&&Bt(i)?Nu(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=L1(i))}const Hv={"":t=>t,x:t=>t.x,y:t=>t.y};function eU(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function tU(t){const e=eU(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Ko(t,e){return(Hv[e]||(Hv[e]=tU(e)))(t)}function Sg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const td=t=>typeof t<"u",Yo=t=>typeof t=="function",qv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function nU(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Wt=Math.PI,bn=2*Wt,sU=bn+Wt,E1=Number.POSITIVE_INFINITY,iU=Wt/180,Fn=Wt/2,Pa=Wt/4,Wv=Wt*2/3,$o=Math.log10,vr=Math.sign;function Iu(t,e,n){return Math.abs(t-e)<n}function Gv(t){const e=Math.round(t);t=Iu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor($o(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function rU(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function oU(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function cc(t){return!oU(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function aU(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Dw(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function zi(t){return t*(Wt/180)}function Ag(t){return t*(180/Wt)}function Kv(t){if(!Pn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Mw(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*Wt&&(r+=bn),{angle:r,distance:i}}function h0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lU(t,e){return(t-e+sU)%bn-Wt}function Ls(t){return(t%bn+bn)%bn}function nd(t,e,n,s){const i=Ls(t),r=Ls(e),o=Ls(n),a=Ls(r-i),l=Ls(o-i),c=Ls(i-r),u=Ls(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function os(t,e,n){return Math.max(e,Math.min(n,t))}function cU(t){return os(t,-32768,32767)}function Yr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Lg(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Zr=(t,e,n,s)=>Lg(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),uU=(t,e,n)=>Lg(t,n,s=>t[s][e]>=n);function dU(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Rw=["push","pop","shift","splice","unshift"];function hU(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Rw.forEach(n=>{const s="_onData"+Sg(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Yv(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Rw.forEach(r=>{delete t[r]}),delete t._chartjs)}function $w(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const jw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Bw(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,jw.call(window,()=>{s=!1,t.apply(e,n)}))}}function fU(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Eg=t=>t==="start"?"left":t==="end"?"right":"center",Ss=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,pU=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Fw(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:p,minDefined:f,maxDefined:m}=o.getUserBounds();if(f){if(i=Math.min(Zr(l,u,h).lo,n?s:Zr(e,u,o.getPixelForValue(h)).lo),c){const b=l.slice(0,i+1).reverse().findIndex(y=>!jt(y[a.axis]));i-=Math.max(0,b)}i=os(i,0,s-1)}if(m){let b=Math.max(Zr(l,o.axis,p,!0).hi+1,n?0:Zr(e,u,o.getPixelForValue(p),!0).hi+1);if(c){const y=l.slice(b-1).findIndex(w=>!jt(w[a.axis]));b+=Math.max(0,y)}r=os(b,i,s)-i}else r=s-i}return{start:i,count:r}}function Uw(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Nh=t=>t===0||t===1,Zv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bn/n)),Jv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*bn/n)+1,Ou={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Fn)+1,easeOutSine:t=>Math.sin(t*Fn),easeInOutSine:t=>-.5*(Math.cos(Wt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Nh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Nh(t)?t:Zv(t,.075,.3),easeOutElastic:t=>Nh(t)?t:Jv(t,.075,.3),easeInOutElastic(t){return Nh(t)?t:t<.5?.5*Zv(t*2,.1125,.45):.5+.5*Jv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ou.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ou.easeInBounce(t*2)*.5:Ou.easeOutBounce(t*2-1)*.5+.5};function Tg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Xv(t){return Tg(t)?t:new Qu(t)}function Qp(t){return Tg(t)?t:new Qu(t).saturate(.5).darken(.1).hexString()}const gU=["x","y","borderWidth","radius","tension"],mU=["color","borderColor","backgroundColor"];function vU(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:mU},numbers:{type:"number",properties:gU}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function bU(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qv=new Map;function yU(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Qv.get(n);return s||(s=new Intl.NumberFormat(t,e),Qv.set(n,s)),s}function _d(t,e,n){return yU(e,n).format(t)}const zw={values(t){return wn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=wU(t,n)}const o=$o(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),_d(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor($o(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?zw.numeric.call(this,t,e,n):""}};function wU(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lf={formatters:zw};function _U(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ol=Object.create(null),f0=Object.create(null);function Du(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function e2(t,e,n){return typeof e=="string"?ed(Du(t,e),n):ed(Du(t,""),e)}class xU{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Qp(i.backgroundColor),this.hoverBorderColor=(s,i)=>Qp(i.borderColor),this.hoverColor=(s,i)=>Qp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return e2(this,e,n)}get(e){return Du(this,e)}describe(e,n){return e2(f0,e,n)}override(e,n){return e2(ol,e,n)}route(e,n,s,i){const r=Du(this,e),o=Du(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Bt(l)?Object.assign({},c,l):Lt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var _n=new xU({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vU,bU,_U]);function CU(t){return!t||jt(t.size)||jt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function T1(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function kU(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,p;for(l=0;l<a;l++)if(h=n[l],h!=null&&!wn(h))o=T1(t,i,r,o,h);else if(wn(h))for(c=0,u=h.length;c<u;c++)p=h[c],p!=null&&!wn(p)&&(o=T1(t,i,r,o,p));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function Na(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function eb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function p0(t,e,n,s){Vw(t,e,n,s,null)}function Vw(t,e,n,s,i){let r,o,a,l,c,u,h,p;const f=e.pointStyle,m=e.rotation,b=e.radius;let y=(m||0)*iU;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,s,i/2,b,0,0,bn):t.arc(n,s,b,0,bn),t.closePath();break;case"triangle":u=i?i/2:b,t.moveTo(n+Math.sin(y)*u,s-Math.cos(y)*b),y+=Wv,t.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*b),y+=Wv,t.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*b),t.closePath();break;case"rectRounded":c=b*.516,l=b-c,o=Math.cos(y+Pa)*l,h=Math.cos(y+Pa)*(i?i/2-c:l),a=Math.sin(y+Pa)*l,p=Math.sin(y+Pa)*(i?i/2-c:l),t.arc(n-h,s-a,c,y-Wt,y-Fn),t.arc(n+p,s-o,c,y-Fn,y),t.arc(n+h,s+a,c,y,y+Fn),t.arc(n-p,s+o,c,y+Fn,y+Wt),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*b,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}y+=Pa;case"rectRot":h=Math.cos(y)*(i?i/2:b),o=Math.cos(y)*b,a=Math.sin(y)*b,p=Math.sin(y)*(i?i/2:b),t.moveTo(n-h,s-a),t.lineTo(n+p,s-o),t.lineTo(n+h,s+a),t.lineTo(n-p,s+o),t.closePath();break;case"crossRot":y+=Pa;case"cross":h=Math.cos(y)*(i?i/2:b),o=Math.cos(y)*b,a=Math.sin(y)*b,p=Math.sin(y)*(i?i/2:b),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+p,s-o),t.lineTo(n-p,s+o);break;case"star":h=Math.cos(y)*(i?i/2:b),o=Math.cos(y)*b,a=Math.sin(y)*b,p=Math.sin(y)*(i?i/2:b),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+p,s-o),t.lineTo(n-p,s+o),y+=Pa,h=Math.cos(y)*(i?i/2:b),o=Math.cos(y)*b,a=Math.sin(y)*b,p=Math.sin(y)*(i?i/2:b),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+p,s-o),t.lineTo(n-p,s+o);break;case"line":o=i?i/2:Math.cos(y)*b,a=Math.sin(y)*b,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(y)*(i?i/2:b),s+Math.sin(y)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Jr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function uf(t){t.restore()}function SU(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function AU(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function LU(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function EU(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function TU(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function al(t,e,n,s,i,r={}){const o=wn(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,LU(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&TU(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),jt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),EU(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function sd(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Wt,Wt,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,Wt,Fn,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Fn,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Fn,!0),t.lineTo(n+o.topLeft,s)}const PU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IU(t,e){const n=(""+t).match(PU);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const OU=t=>+t||0;function Pg(t,e){const n={},s=Bt(e),i=s?Object.keys(e):e,r=Bt(t)?s?o=>Lt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=OU(r(o));return n}function Hw(t){return Pg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xa(t){return Pg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ns(t){const e=Hw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ns(t,e){t=t||{},e=e||_n.font;let n=Lt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Lt(t.style,e.style);s&&!(""+s).match(NU)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Lt(t.family,e.family),lineHeight:IU(Lt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Lt(t.weight,e.weight),string:""};return i.string=CU(i),i}function hu(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function DU(t,e,n){const{min:s,max:i}=t,r=Iw(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Xo(t,e){return Object.assign(Object.create(t),e)}function Ng(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Kw("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Ng([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Ww(a,l,()=>zU(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return nb(a).includes(l)},ownKeys(a){return nb(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function uc(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:qw(t,s),setContext:r=>uc(t,r,n,s),override:r=>uc(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Ww(r,o,()=>RU(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function qw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Yo(n)?n:()=>n,isIndexable:Yo(s)?s:()=>s}}const MU=(t,e)=>t?t+Sg(e):e,Ig=(t,e)=>Bt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ww(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function RU(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return Yo(a)&&o.isScriptable(e)&&(a=$U(e,a,t,n)),wn(a)&&a.length&&(a=jU(e,a,t,o.isIndexable)),Ig(e,a)&&(a=uc(a,i,r&&r[e],o)),a}function $U(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),Ig(t,l)&&(l=Og(i._scopes,i,t,l)),l}function jU(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(Bt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Og(c,i,t,u);e.push(uc(h,r,o&&o[t],a))}}return e}function Gw(t,e,n){return Yo(t)?t(e,n):t}const BU=(t,e)=>t===!0?e:typeof t=="string"?Ko(e,t):void 0;function FU(t,e,n,s,i){for(const r of e){const o=BU(n,r);if(o){t.add(o);const a=Gw(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Og(t,e,n,s){const i=e._rootScopes,r=Gw(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=tb(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=tb(a,o,r,l,s),l===null)?!1:Ng(Array.from(a),[""],i,r,()=>UU(e,n,s))}function tb(t,e,n,s,i){for(;n;)n=FU(t,e,n,s,i);return n}function UU(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return wn(i)&&Bt(n)?n:i||{}}function zU(t,e,n,s){let i;for(const r of e)if(i=Kw(MU(r,t),n),typeof i<"u")return Ig(t,i)?Og(n,s,t,i):i}function Kw(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function nb(t){let e=t._keys;return e||(e=t._keys=VU(t._scopes)),e}function VU(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Yw(t,e,n,s){const{iScale:i}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Ko(u,r),c)};return o}const HU=Number.EPSILON||1e-14,dc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Zw=t=>t==="x"?"y":"x";function qU(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=h0(r,i),l=h0(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,p=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+p*(o.x-i.x),y:r.y+p*(o.y-i.y)}}}function WU(t,e,n){const s=t.length;let i,r,o,a,l,c=dc(t,0);for(let u=0;u<s-1;++u)if(l=c,c=dc(t,u+1),!(!l||!c)){if(Iu(e[u],0,HU)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function GU(t,e,n="x"){const s=Zw(n),i=t.length;let r,o,a,l=dc(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=dc(t,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*e[c])}}function KU(t,e="x"){const n=Zw(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=dc(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=dc(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?vr(i[o-1])!==vr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}WU(t,i,r),GU(t,r,e)}function Ih(t,e,n){return Math.max(Math.min(t,n),e)}function YU(t,e){let n,s,i,r,o,a=Jr(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Jr(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Ih(i.cp1x,e.left,e.right),i.cp1y=Ih(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Ih(i.cp2x,e.left,e.right),i.cp2y=Ih(i.cp2y,e.top,e.bottom)))}function ZU(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")KU(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=qU(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&YU(t,n)}function Dg(){return typeof window<"u"&&typeof document<"u"}function Mg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function P1(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const df=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function JU(t,e){return df(t).getPropertyValue(e)}const XU=["top","right","bottom","left"];function Qa(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=XU[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const QU=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ez(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(QU(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ja(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=df(n),r=i.boxSizing==="border-box",o=Qa(i,"padding"),a=Qa(i,"border","width"),{x:l,y:c,box:u}=ez(t,n),h=o.left+(u&&a.left),p=o.top+(u&&a.top);let{width:f,height:m}=e;return r&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*n.width/s),y:Math.round((c-p)/m*n.height/s)}}function tz(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Mg(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=df(r),l=Qa(a,"border","width"),c=Qa(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=P1(a.maxWidth,r,"clientWidth"),i=P1(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||E1,maxHeight:i||E1}}const Oh=t=>Math.round(t*10)/10;function nz(t,e,n,s){const i=df(t),r=Qa(i,"margin"),o=P1(i.maxWidth,t,"clientWidth")||E1,a=P1(i.maxHeight,t,"clientHeight")||E1,l=tz(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const p=Qa(i,"border","width"),f=Qa(i,"padding");c-=f.width+p.width,u-=f.height+p.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Oh(Math.min(c,o,l.maxWidth)),u=Oh(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Oh(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Oh(Math.floor(u*s))),{width:c,height:u}}function sb(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const sz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Dg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ib(t,e){const n=JU(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ba(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function iz(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function rz(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ba(t,i,n),a=Ba(i,r,n),l=Ba(r,e,n),c=Ba(o,a,n),u=Ba(a,l,n);return Ba(c,u,n)}const oz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},az=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ec(t,e,n){return t?oz(e,n):az()}function Jw(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Xw(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Qw(t){return t==="angle"?{between:nd,compare:lU,normalize:Ls}:{between:Yr,compare:(e,n)=>e-n,normalize:e=>e}}function rb({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function lz(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=Qw(s),l=e.length;let{start:c,end:u,loop:h}=t,p,f;if(h){for(c+=l,u+=l,p=0,f=l;p<f&&o(a(e[c%l][s]),i,r);++p)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function e8(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=Qw(s),{start:u,end:h,loop:p,style:f}=lz(t,e,n),m=[];let b=!1,y=null,w,C,k;const S=()=>l(i,k,w)&&a(i,k)!==0,I=()=>a(r,w)===0||l(r,k,w),z=()=>b||S(),H=()=>!b||I();for(let U=u,T=u;U<=h;++U)C=e[U%o],!C.skip&&(w=c(C[s]),w!==k&&(b=l(w,i,r),y===null&&z()&&(y=a(w,i)===0?U:T),y!==null&&H()&&(m.push(rb({start:y,end:U,loop:p,count:o,style:f})),y=null),T=U,k=w));return y!==null&&m.push(rb({start:y,end:h,loop:p,count:o,style:f})),m}function t8(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=e8(s[i],t.points,e);r.length&&n.push(...r)}return n}function cz(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function uz(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function dz(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=cz(n,i,r,s);if(s===!0)return ob(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return ob(t,uz(n,o,l,c),n,e)}function ob(t,e,n,s){return!s||!s.setContext||!n?e:hz(t,e,n,s)}function hz(t,e,n,s){const i=t._chart.getContext(),r=ab(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,p=h;function f(m,b,y,w){const C=a?-1:1;if(m!==b){for(m+=l;n[m%l].skip;)m-=C;for(;n[b%l].skip;)b+=C;m%l!==b%l&&(c.push({start:m%l,end:b%l,loop:y,style:w}),u=w,h=b%l)}}for(const m of e){h=a?h:m.start;let b=n[h%l],y;for(p=h+1;p<=m.end;p++){const w=n[p%l];y=ab(s.setContext(Xo(i,{type:"segment",p0:b,p1:w,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),fz(y,u)&&f(h,p-1,m.loop,u),b=w,u=y}h<p-1&&f(h,p-1,m.loop,u)}return c}function ab(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function fz(t,e){if(!e)return!1;const n=[],s=function(i,r){return Tg(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Dh(t,e,n){return t.options.clip?t[n]:e[n]}function pz(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Dh(n,e,"left"),right:Dh(n,e,"right"),top:Dh(s,e,"top"),bottom:Dh(s,e,"bottom")}:e}function n8(t,e){const n=e._clip;if(n.disabled)return!1;const s=pz(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class gz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=jw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Fr=new gz;const lb="transparent",mz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Xv(t||lb),i=s.valid&&Xv(e||lb);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class vz{constructor(e,n,s,i){const r=n[s];i=hu([e.to,i,r,e.from]);const o=hu([e.from,r,i]);this._active=!0,this._fn=e.fn||mz[e.type||typeof o],this._easing=Ou[e.easing]||Ou.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=hu([e.to,n,i,e.from]),this._from=hu([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class s8{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Bt(e))return;const n=Object.keys(_n.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Bt(r))return;const o={};for(const a of n)o[a]=r[a];(wn(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=yz(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&bz(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const p=s.get(c);if(h)if(p&&h.active()){h.update(p,u,a);continue}else h.cancel();if(!p||!p.duration){e[c]=u;continue}r[c]=h=new vz(p,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Fr.add(this._chart,s),!0}}function bz(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function yz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cb(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function wz(t,e,n){if(n===!1)return!1;const s=cb(t,n),i=cb(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function _z(t){let e,n,s,i;return Bt(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function i8(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function ub(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],Pn(c)&&(r||e===0||vr(e)===vr(c))&&(e+=c)}return!u&&!s.all?0:e}function xz(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function t2(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Cz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function kz(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Sz(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function db(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function hb(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=Cz(r,o,s),h=e.length;let p;for(let f=0;f<h;++f){const m=e[f],{[l]:b,[c]:y}=m,w=m._stacks||(m._stacks={});p=w[c]=Sz(i,u,b),p[a]=y,p._top=db(p,o,!0,s.type),p._bottom=db(p,o,!1,s.type);const C=p._visualValues||(p._visualValues={});C[a]=y}}function n2(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Az(t,e){return Xo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Lz(t,e,n){return Xo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function nu(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const s2=t=>t==="reset"||t==="none",fb=(t,e)=>e?t:Object.assign({},t),Ez=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:i8(n,!0),values:null};class Qo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=t2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&nu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,p,f,m)=>h==="x"?p:h==="r"?m:f,r=n.xAxisID=Lt(s.xAxisID,n2(e,"x")),o=n.yAxisID=Lt(s.yAxisID,n2(e,"y")),a=n.rAxisID=Lt(s.rAxisID,n2(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yv(this._data,this),e._stacked&&nu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Bt(n)){const i=this._cachedMeta;this._data=xz(n,i)}else if(s!==n){if(s){Yv(s,this);const i=this._cachedMeta;nu(i),i._parsed=[]}n&&Object.isExtensible(n)&&hU(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=t2(n.vScale,n),n.stack!==s.stack&&(i=!0,nu(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(hb(this,n._parsed),n._stacked=t2(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,p;if(this._parsing===!1)s._parsed=i,s._sorted=!0,p=i;else{wn(i[e])?p=this.parseArrayData(s,i,e,n):Bt(i[e])?p=this.parseObjectData(s,i,e,n):p=this.parsePrimitiveData(s,i,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=h=p[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&hb(this,p)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let p,f,m;for(p=0,f=i;p<f;++p)m=p+s,h[p]={[a]:u||r.parse(c[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,p,f;for(u=0,h=i;u<h;++u)p=u+s,f=n[p],c[u]={x:r.parse(Ko(f,a),p),y:o.parse(Ko(f,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:i8(i,!0),values:n._stacks[e.axis]._visualValues};return ub(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=ub(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=Ez(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=kz(a);let p,f;function m(){f=i[p];const b=f[a.axis];return!Pn(f[e.axis])||u>b||h<b}for(p=0;p<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),r));++p);if(r){for(p=o-1;p>=0;--p)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Pn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_z(Lt(this.options.clip,wz(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Lz(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Az(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&td(s);if(a)return fb(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),u),f=Object.keys(_n.elements[e]),m=()=>this.getContext(s,i,n),b=c.resolveNamedOptions(p,f,m,h);return b.$shared&&(b.$shared=l,r[o]=Object.freeze(fb(b,l))),b}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),p=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(p,this.getContext(e,s,n))}const c=new s8(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||s2(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){s2(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!s2(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&nu(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Tz(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=$w(s.sort((i,r)=>i-r))}return t._cache.$bar}function Pz(t){const e=t.iScale,n=Tz(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(td(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function Nz(t,e,n,s){const i=n.barThickness;let r,o;return jt(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function Iz(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function Oz(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function r8(t,e,n,s){return wn(t)?Oz(t,e,n,s):e[n.axis]=n.parse(t,s),e}function pb(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,p;for(c=n,u=n+s;c<u;++c)p=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(r8(p,h,r,c));return l}function i2(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Dz(t,e,n){return t!==0?vr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Mz(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function Rz(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Mz(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[gb(u,o,a,l)]=!0,i=c)),r[gb(i,o,a,l)]=!0,t.borderSkipped=r}function gb(t,e,n,s){return s?(t=$z(t,e,n),t=mb(t,n,e)):t=mb(t,e,n),t}function $z(t,e,n){return t===e?n:t===n?e:t}function mb(t,e,n){return t==="start"?e:t==="end"?n:t}function jz(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Bz extends Qo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,i){return pb(e,n,s,i)}parseArrayData(e,n,s,i){return pb(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let p,f,m,b;for(p=s,f=s+i;p<f;++p)b=n[p],m={},m[r.axis]=r.parse(Ko(b,c),p),h.push(r8(Ko(b,u),m,o,p));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=i2(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const m=this.getParsed(f),b=r||jt(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),w=(m._stacks||{})[a.axis],C={horizontal:c,base:b.base,enableBorderRadius:!w||i2(m._custom)||o===w._top||o===w._bottom,x:c?b.head:y.center,y:c?y.center:b.head,height:c?y.size:Math.abs(b.size),width:c?Math.abs(b.size):y.size};p&&(C.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const k=C.options||e[f].options;Rz(C,k,w,o),jz(C,k,u.ratio),this.updateElement(e[f],f,C,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),p=h&&h[u.vScale.axis];if(jt(p)||isNaN(p))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Lt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||Pz(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=i2(c);let h=l[n.axis],p=0,f=s?this.applyStack(n,l,s):h,m,b;f!==h&&(p=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&vr(h)!==vr(c.barEnd)&&(p=0),p+=h);const y=!jt(r)&&!u?r:p;let w=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(p+f):m=w,b=m-w,Math.abs(b)<o){b=Dz(b,n,a)*o,h===a&&(w-=b/2);const C=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),S=Math.min(C,k),I=Math.max(C,k);w=Math.max(Math.min(w,I),S),m=w+b,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(w))}if(w===n.getPixelForValue(a)){const C=vr(b)*n.getLineWidthForValue(a)/2;w+=C,b-=C}return{size:b,base:w,head:m,center:m+b/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=Lt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?Iz(e,n,i,u*c):Nz(e,n,i,u*c),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Lt(p,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=h.start+h.chunk*m+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class Fz extends Qo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const r=super.parsePrimitiveData(e,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,n,s,i){const r=super.parseArrayData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=Lt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,n,s,i){const r=super.parseObjectData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=Lt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let p=n;p<n+s;p++){const f=e[p],m=!r&&this.getParsed(p),b={},y=b[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),w=b[h]=r?a.getBasePixel():a.getPixelForValue(m[h]);b.skip=isNaN(y)||isNaN(w),c&&(b.options=l||this.resolveDataElementOptions(p,f.active?"active":i),r&&(b.options.radius=0)),this.updateElement(f,p,b,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Lt(s&&s._custom,r),i}}function Uz(t,e,n){let s=1,i=1,r=0,o=0;if(e<bn){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),p=Math.sin(l),f=(k,S,I)=>nd(k,a,l,!0)?1:Math.max(S,S*n,I,I*n),m=(k,S,I)=>nd(k,a,l,!0)?-1:Math.min(S,S*n,I,I*n),b=f(0,c,h),y=f(Fn,u,p),w=m(Wt,c,h),C=m(Wt+Fn,u,p);s=(b-w)/2,i=(y-C)/2,r=-(b+w)/2,o=-(y+C)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Rg extends Qo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(Bt(s[e])){const{key:l="value"}=this._parsing;r=c=>+Ko(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return zi(this.options.rotation-90)}_getCircumference(){return zi(this.options.circumference)}_getRotationExtents(){let e=bn,n=-bn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(JF(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:b}=Uz(h,u,l),y=(s.width-o)/p,w=(s.height-o)/f,C=Math.max(Math.min(y,w)/2,0),k=Iw(this.options.radius,C),S=Math.max(k*l,0),I=(k-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*k,this.offsetY=b*k,i.total=this.calculateTotal(),this.outerRadius=k-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/bn)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,p=r&&c.animateScale,f=p?0:this.innerRadius,m=p?0:this.outerRadius,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(n,i);let w=this._getRotation(),C;for(C=0;C<n;++C)w+=this._circumference(C,r);for(C=n;C<n+s;++C){const k=this._circumference(C,r),S=e[C],I={x:u+this.offsetX,y:h+this.offsetY,startAngle:w,endAngle:w+k,circumference:k,outerRadius:m,innerRadius:f};y&&(I.options=b||this.resolveDataElementOptions(C,S.active?"active":i)),w+=k,this.updateElement(S,C,I,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=_d(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Lt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class zz extends Qo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Fw(n,i,o);this._drawStart=a,this._drawCount=l,Uw(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),p=o.axis,f=a.axis,{spanGaps:m,segment:b}=this.options,y=cc(m)?m:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||i==="none",C=n+s,k=e.length;let S=n>0&&this.getParsed(n-1);for(let I=0;I<k;++I){const z=e[I],H=w?z:{};if(I<n||I>=C){H.skip=!0;continue}const U=this.getParsed(I),T=jt(U[f]),q=H[p]=o.getPixelForValue(U[p],I),L=H[f]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[f],I);H.skip=isNaN(q)||isNaN(L)||T,H.stop=I>0&&Math.abs(U[p]-S[p])>y,b&&(H.parsed=U,H.raw=c.data[I]),h&&(H.options=u||this.resolveDataElementOptions(I,z.active?"active":i)),w||this.updateElement(z,I,H,i),S=U}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class o8 extends Qo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=_d(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,n,s,i){return Yw.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,p=c.getIndexAngle(0)-.5*Wt;let f=p,m;const b=360/this.countVisibleElements();for(m=0;m<n;++m)f+=this._computeAngle(m,i,b);for(m=n;m<n+s;m++){const y=e[m];let w=f,C=f+this._computeAngle(m,i,b),k=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=C,r&&(l.animateScale&&(k=0),l.animateRotate&&(w=C=p));const S={x:u,y:h,innerRadius:0,outerRadius:k,startAngle:w,endAngle:C,options:this.resolveDataElementOptions(m,y.active?"active":i)};this.updateElement(y,m,S,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?zi(this.resolveDataElementOptions(e,n).angle||s):0}}class Vz extends Rg{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Hz extends Qo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return Yw.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,p=o?r.yCenter:u.y,f={x:h,y:p,angle:u.angle,skip:isNaN(h)||isNaN(p),options:c};this.updateElement(l,a,f,i)}}}class qz extends Qo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=Fw(n,s,i);if(this._drawStart=r,this._drawCount=o,Uw(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),p=this.includeOptions(i,h),f=o.axis,m=a.axis,{spanGaps:b,segment:y}=this.options,w=cc(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||r||i==="none";let k=n>0&&this.getParsed(n-1);for(let S=n;S<n+s;++S){const I=e[S],z=this.getParsed(S),H=C?I:{},U=jt(z[m]),T=H[f]=o.getPixelForValue(z[f],S),q=H[m]=r||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,z,l):z[m],S);H.skip=isNaN(T)||isNaN(q)||U,H.stop=S>0&&Math.abs(z[f]-k[f])>w,y&&(H.parsed=z,H.raw=c.data[S]),p&&(H.options=h||this.resolveDataElementOptions(S,I.active?"active":i)),C||this.updateElement(I,S,H,i),k=z}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var Wz=Object.freeze({__proto__:null,BarController:Bz,BubbleController:Fz,DoughnutController:Rg,LineController:zz,PieController:Vz,PolarAreaController:o8,RadarController:Hz,ScatterController:qz});function Ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $g{static override(e){Object.assign($g.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ia()}parse(){return Ia()}format(){return Ia()}add(){return Ia()}diff(){return Ia()}startOf(){return Ia()}endOf(){return Ia()}}var Gz={_date:$g};function Kz(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?uU:Zr;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const p=c(r,e,n-h),f=c(r,e,n+h);return{lo:p.lo,hi:f.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:p}=t,f=p.slice(0,u.lo+1).reverse().findIndex(b=>!jt(b[h.axis]));u.lo-=Math.max(0,f);const m=p.slice(u.hi).findIndex(b=>!jt(b[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function hf(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:p}=Kz(r[a],e,o,i);for(let f=h;f<=p;++f){const m=u[f];m.skip||s(m,c,f)}}}function Yz(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function r2(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||hf(t,n,e,function(a,l,c){!i&&!Jr(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Zz(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Mw(o,{x:e.x,y:e.y});nd(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return hf(t,n,e,r),i}function Jz(t,e,n,s,i,r){let o=[];const a=Yz(n);let l=Number.POSITIVE_INFINITY;function c(u,h,p){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const m=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(m))&&!f)return;const y=a(e,m);y<l?(o=[{element:u,datasetIndex:h,index:p}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:p})}return hf(t,n,e,c),o}function o2(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?Zz(t,e,n,i):Jz(t,e,n,s,i,r)}function vb(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return hf(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var Xz={modes:{index(t,e,n,s){const i=ja(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?r2(t,i,r,s,o):o2(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=ja(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?r2(t,i,r,s,o):o2(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=ja(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return r2(t,i,r,s,o)},nearest(t,e,n,s){const i=ja(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return o2(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=ja(e,t);return vb(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=ja(e,t);return vb(t,i,"y",n.intersect,s)}}};const a8=["left","top","right","bottom"];function su(t,e){return t.filter(n=>n.pos===e)}function bb(t,e){return t.filter(n=>a8.indexOf(n.pos)===-1&&n.box.axis===e)}function iu(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Qz(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function eV(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!a8.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function tV(t,e){const n=eV(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function nV(t){const e=Qz(t),n=iu(e.filter(c=>c.box.fullSize),!0),s=iu(su(e,"left"),!0),i=iu(su(e,"right")),r=iu(su(e,"top"),!0),o=iu(su(e,"bottom")),a=bb(e,"x"),l=bb(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:su(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function yb(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function l8(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sV(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!Bt(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&l8(o,r.getPadding());const a=Math.max(0,e.outerWidth-yb(o,t,"left","right")),l=Math.max(0,e.outerHeight-yb(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function iV(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function rV(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function fu(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,rV(a.horizontal,e));const{same:h,other:p}=sV(e,n,a,s);c|=h&&i.length,u=u||p,l.fullSize||i.push(a)}return c&&fu(i,e,n,s)||u}function Mh(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function wb(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,p=c.size||l.height;td(c.start)&&(o=c.start),l.fullSize?Mh(l,i.left,o,n.outerWidth-i.right-i.left,p):Mh(l,e.left+c.placed,o,h,p),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,p=c.size||l.width;td(c.start)&&(r=c.start),l.fullSize?Mh(l,r,i.top,p,n.outerHeight-i.bottom-i.top):Mh(l,r,e.top+c.placed,p,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var Ps={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Ns(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=nV(t.boxes),l=a.vertical,c=a.horizontal;tn(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=l.reduce((b,y)=>y.box.options&&y.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),p=Object.assign({},i);l8(p,Ns(s));const f=Object.assign({maxPadding:p,w:r,h:o,x:i.left,y:i.top},i),m=tV(l.concat(c),h);fu(a.fullSize,f,h,m),fu(l,f,h,m),fu(c,f,h,m)&&fu(l,f,h,m),iV(f),wb(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,wb(a.rightAndBottom,f,h,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},tn(a.chartArea,b=>{const y=b.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class c8{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class oV extends c8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const n1="$chartjs",aV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_b=t=>t===null||t==="";function lV(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[n1]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_b(i)){const r=ib(t,"width");r!==void 0&&(t.width=r)}if(_b(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=ib(t,"height");r!==void 0&&(t.height=r)}return t}const u8=sz?{passive:!0}:!1;function cV(t,e,n){t&&t.addEventListener(e,n,u8)}function uV(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,u8)}function dV(t,e){const n=aV[t.type]||t.type,{x:s,y:i}=ja(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function N1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function hV(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||N1(a.addedNodes,s),o=o&&!N1(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function fV(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||N1(a.removedNodes,s),o=o&&!N1(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const id=new Map;let xb=0;function d8(){const t=window.devicePixelRatio;t!==xb&&(xb=t,id.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function pV(t,e){id.size||window.addEventListener("resize",d8),id.set(t,e)}function gV(t){id.delete(t),id.size||window.removeEventListener("resize",d8)}function mV(t,e,n){const s=t.canvas,i=s&&Mg(s);if(!i)return;const r=Bw((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),pV(t,r),o}function a2(t,e,n){n&&n.disconnect(),e==="resize"&&gV(t)}function vV(t,e,n){const s=t.canvas,i=Bw(r=>{t.ctx!==null&&n(dV(r,t))},t);return cV(s,e,i),i}class bV extends c8{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(lV(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[n1])return!1;const s=n[n1].initial;["height","width"].forEach(r=>{const o=s[r];jt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[n1],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:hV,detach:fV,resize:mV}[n]||vV;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:a2,detach:a2,resize:a2}[n]||uV)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return nz(e,n,s,i)}isAttached(e){const n=e&&Mg(e);return!!(n&&n.isConnected)}}function yV(t){return!Dg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?oV:bV}let io=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return cc(this.x)&&cc(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function wV(t,e){const n=t.options.ticks,s=_V(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?CV(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return kV(e,c,r,o/i),c;const u=xV(r,e,i);if(o>0){let h,p;const f=o>1?Math.round((l-a)/(o-1)):null;for(Rh(e,c,u,jt(f)?0:a-f,a),h=0,p=o-1;h<p;h++)Rh(e,c,u,r[h],r[h+1]);return Rh(e,c,u,l,jt(f)?e.length:l+f),c}return Rh(e,c,u),c}function _V(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function xV(t,e,n){const s=SV(t),i=e.length/n;if(!s)return Math.max(i,1);const r=rU(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function CV(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function kV(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Rh(t,e,n,s,i){const r=Lt(s,0),o=Math.min(Lt(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function SV(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const AV=t=>t==="left"?"right":t==="right"?"left":t,Cb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,kb=(t,e)=>Math.min(e||t,t);function Sb(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function LV(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function EV(t,e){tn(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ru(t){return t.drawTicks?t.tickLength:0}function Ab(t,e){if(!t.display)return 0;const n=ns(t.font,e),s=Ns(t.padding);return(wn(t.text)?t.text.length:1)*n.lineHeight+s.height}function TV(t,e){return Xo(t,{scale:e,type:"scale"})}function PV(t,e,n){return Xo(t,{tick:n,index:e,type:"tick"})}function NV(t,e,n){let s=Eg(t);return(n&&e!=="right"||!n&&e==="right")&&(s=AV(s)),s}function IV(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,p,f,m;const b=o-i,y=a-r;if(t.isHorizontal()){if(f=Ss(s,r,a),Bt(n)){const w=Object.keys(n)[0],C=n[w];m=u[w].getPixelForValue(C)+b-e}else n==="center"?m=(c.bottom+c.top)/2+b-e:m=Cb(t,n,e);p=a-r}else{if(Bt(n)){const w=Object.keys(n)[0],C=n[w];f=u[w].getPixelForValue(C)-y+e}else n==="center"?f=(c.left+c.right)/2-y+e:f=Cb(t,n,e);m=Ss(s,o,i),h=n==="left"?-Fn:Fn}return{titleX:f,titleY:m,maxWidth:p,rotation:h}}class dl extends io{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=ii(e,Number.POSITIVE_INFINITY),n=ii(n,Number.NEGATIVE_INFINITY),s=ii(s,Number.POSITIVE_INFINITY),i=ii(i,Number.NEGATIVE_INFINITY),{min:ii(e,s),max:ii(n,i),minDefined:Pn(e),maxDefined:Pn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:ii(n,ii(s,n)),max:ii(s,ii(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pn(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=DU(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Sb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=wV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pn(this.options.afterUpdate,[this])}beforeSetDimensions(){pn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=pn(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){pn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=kb(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,f=os(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-ru(e.grid)-n.padding-Ab(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),o=Ag(Math.min(Math.asin(os((u.highest.height+6)/a,-1,1)),Math.asin(os(l/c,-1,1))-Math.asin(os(p/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){pn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ab(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ru(r)+l):(e.height=this.maxHeight,e.width=ru(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:p}=this._getLabelSizes(),f=s.padding*2,m=zi(this.labelRotation),b=Math.cos(m),y=Math.sin(m);if(a){const w=s.mirror?0:y*h.width+b*p.height;e.height=Math.min(this.maxHeight,e.height+w+f)}else{const w=s.mirror?0:b*h.width+y*p.height;e.width=Math.min(this.maxWidth,e.width+w+f)}this._calculatePadding(c,u,y,b)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;l?c?(p=i*e.width,f=s*n.height):(p=s*e.height,f=i*n.width):r==="start"?f=n.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,f=n.width/2),this.paddingLeft=Math.max((p-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)jt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Sb(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/kb(n,s));let c=0,u=0,h,p,f,m,b,y,w,C,k,S,I;for(h=0;h<n;h+=l){if(m=e[h].label,b=this._resolveTickFontOptions(h),i.font=y=b.string,w=r[y]=r[y]||{data:{},gc:[]},C=b.lineHeight,k=S=0,!jt(m)&&!wn(m))k=T1(i,w.data,w.gc,k,m),S=C;else if(wn(m))for(p=0,f=m.length;p<f;++p)I=m[p],!jt(I)&&!wn(I)&&(k=T1(i,w.data,w.gc,k,I),S+=C);o.push(k),a.push(S),c=Math.max(k,c),u=Math.max(S,u)}EV(r,n);const z=o.indexOf(c),H=a.indexOf(u),U=T=>({width:o[T]||0,height:a[T]||0});return{first:U(0),last:U(n-1),widest:U(z),highest:U(H),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return cU(this._alignToPixels?Na(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=PV(this.getContext(),e,s))}return this.$context||(this.$context=TV(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=zi(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=ru(r),f=[],m=a.setContext(this.getContext()),b=m.display?m.width:0,y=b/2,w=function(F){return Na(s,F,b)};let C,k,S,I,z,H,U,T,q,L,P,ne;if(o==="top")C=w(this.bottom),H=this.bottom-p,T=C-y,L=w(e.top)+y,ne=e.bottom;else if(o==="bottom")C=w(this.top),L=e.top,ne=w(e.bottom)-y,H=C+y,T=this.top+p;else if(o==="left")C=w(this.right),z=this.right-p,U=C-y,q=w(e.left)+y,P=e.right;else if(o==="right")C=w(this.left),q=e.left,P=w(e.right)-y,z=C+y,U=this.left+p;else if(n==="x"){if(o==="center")C=w((e.top+e.bottom)/2+.5);else if(Bt(o)){const F=Object.keys(o)[0],D=o[F];C=w(this.chart.scales[F].getPixelForValue(D))}L=e.top,ne=e.bottom,H=C+y,T=H+p}else if(n==="y"){if(o==="center")C=w((e.left+e.right)/2);else if(Bt(o)){const F=Object.keys(o)[0],D=o[F];C=w(this.chart.scales[F].getPixelForValue(D))}z=C-y,U=z-p,q=e.left,P=e.right}const V=Lt(i.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/V));for(k=0;k<h;k+=j){const F=this.getContext(k),D=r.setContext(F),N=a.setContext(F),ee=D.lineWidth,fe=D.color,ae=N.dash||[],A=N.dashOffset,O=D.tickWidth,Y=D.tickColor,he=D.tickBorderDash||[],ge=D.tickBorderDashOffset;S=LV(this,k,l),S!==void 0&&(I=Na(s,S,ee),c?z=U=q=P=I:H=T=L=ne=I,f.push({tx1:z,ty1:H,tx2:U,ty2:T,x1:q,y1:L,x2:P,y2:ne,width:ee,color:fe,borderDash:ae,borderDashOffset:A,tickWidth:O,tickColor:Y,tickBorderDash:he,tickBorderDashOffset:ge}))}return this._ticksLength=h,this._borderValue=C,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,p=ru(s.grid),f=p+u,m=h?-u:f,b=-zi(this.labelRotation),y=[];let w,C,k,S,I,z,H,U,T,q,L,P,ne="middle";if(i==="top")z=this.bottom-m,H=this._getXAxisLabelAlignment();else if(i==="bottom")z=this.top+m,H=this._getXAxisLabelAlignment();else if(i==="left"){const j=this._getYAxisLabelAlignment(p);H=j.textAlign,I=j.x}else if(i==="right"){const j=this._getYAxisLabelAlignment(p);H=j.textAlign,I=j.x}else if(n==="x"){if(i==="center")z=(e.top+e.bottom)/2+f;else if(Bt(i)){const j=Object.keys(i)[0],F=i[j];z=this.chart.scales[j].getPixelForValue(F)+f}H=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")I=(e.left+e.right)/2-f;else if(Bt(i)){const j=Object.keys(i)[0],F=i[j];I=this.chart.scales[j].getPixelForValue(F)}H=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?ne="top":l==="end"&&(ne="bottom"));const V=this._getLabelSizes();for(w=0,C=a.length;w<C;++w){k=a[w],S=k.label;const j=r.setContext(this.getContext(w));U=this.getPixelForTick(w)+r.labelOffset,T=this._resolveTickFontOptions(w),q=T.lineHeight,L=wn(S)?S.length:1;const F=L/2,D=j.color,N=j.textStrokeColor,ee=j.textStrokeWidth;let fe=H;o?(I=U,H==="inner"&&(w===C-1?fe=this.options.reverse?"left":"right":w===0?fe=this.options.reverse?"right":"left":fe="center"),i==="top"?c==="near"||b!==0?P=-L*q+q/2:c==="center"?P=-V.highest.height/2-F*q+q:P=-V.highest.height+q/2:c==="near"||b!==0?P=q/2:c==="center"?P=V.highest.height/2-F*q:P=V.highest.height-L*q,h&&(P*=-1),b!==0&&!j.showLabelBackdrop&&(I+=q/2*Math.sin(b))):(z=U,P=(1-L)*q/2);let ae;if(j.showLabelBackdrop){const A=Ns(j.backdropPadding),O=V.heights[w],Y=V.widths[w];let he=P-A.top,ge=0-A.left;switch(ne){case"middle":he-=O/2;break;case"bottom":he-=O;break}switch(H){case"center":ge-=Y/2;break;case"right":ge-=Y;break;case"inner":w===C-1?ge-=Y:w>0&&(ge-=Y/2);break}ae={left:ge,top:he,width:Y+A.width,height:O+A.height,color:j.backdropColor}}y.push({label:S,font:T,textOffset:P,options:{rotation:b,color:D,strokeColor:N,strokeWidth:ee,textAlign:fe,textBaseline:ne,translation:[I,z],backdrop:ae}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-zi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,p;this.isHorizontal()?(c=Na(e,this.left,o)-o/2,u=Na(e,this.right,a)+a/2,h=p=l):(h=Na(e,this.top,o)-o/2,p=Na(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&cf(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;al(s,c,0,u,l,a)}i&&uf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ns(s.font),o=Ns(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Bt(n)?(l+=o.bottom,wn(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:p}=IV(this,l,n,a);al(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:p,textAlign:NV(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Lt(e.grid&&e.grid.z,-1),i=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==dl.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ns(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $h{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;MV(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,OV(e,o,s),this.override&&_n.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in _n[i]&&(delete _n[i][s],this.override&&delete ol[s])}}function OV(t,e,n){const s=ed(Object.create(null),[n?_n.get(n):{},_n.get(e),t.defaults]);_n.set(e,s),t.defaultRoutes&&DV(e,t.defaultRoutes),t.descriptors&&_n.describe(e,t.descriptors)}function DV(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");_n.route(r,i,l,a)})}function MV(t){return"id"in t&&"defaults"in t}class RV{constructor(){this.controllers=new $h(Qo,"datasets",!0),this.elements=new $h(io,"elements"),this.plugins=new $h(Object,"plugins"),this.scales=new $h(dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):tn(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=Sg(e);pn(s["before"+i],[],s),n[e](s),pn(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var ur=new RV;class $V{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(pn(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=Lt(s.options&&s.options.plugins,{}),r=jV(s);return i===!1&&!n?[]:FV(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function jV(t){const e={},n=[],s=Object.keys(ur.plugins.items);for(let r=0;r<s.length;r++)n.push(ur.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function BV(t,e){return!e&&t===!1?null:t===!0?{}:t}function FV(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=BV(s[l],i);c!==null&&r.push({plugin:a,options:UV(t.config,{plugin:a,local:n[l]},c,o)})}return r}function UV(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function g0(t,e){const n=_n.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function zV(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function VV(t,e){return t===e?"_index_":"_value_"}function Lb(t){if(t==="x"||t==="y"||t==="r")return t}function HV(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function m0(t,...e){if(Lb(t))return t;for(const n of e){const s=n.axis||HV(n.position)||t.length>1&&Lb(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Eb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function qV(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Eb(t,"x",n[0])||Eb(t,"y",n[0])}return{}}function WV(t,e){const n=ol[t.type]||{scales:{}},s=e.scales||{},i=g0(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Bt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=m0(o,a,qV(o,t),_n.scales[a.type]),c=VV(l,i),u=n.scales||{};r[o]=Nu(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||g0(a,e),u=(ol[a]||{}).scales||{};Object.keys(u).forEach(h=>{const p=zV(h,l),f=o[p+"AxisID"]||p;r[f]=r[f]||Object.create(null),Nu(r[f],[{axis:p},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Nu(a,[_n.scales[a.type],_n.scale])}),r}function h8(t){const e=t.options||(t.options={});e.plugins=Lt(e.plugins,{}),e.scales=WV(t,e)}function f8(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function GV(t){return t=t||{},t.data=f8(t.data),h8(t),t}const Tb=new Map,p8=new Set;function jh(t,e){let n=Tb.get(t);return n||(n=e(),Tb.set(t,n),p8.add(n)),n}const ou=(t,e,n)=>{const s=Ko(e,n);s!==void 0&&t.add(s)};class KV{constructor(e){this._config=GV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=f8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),h8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return jh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return jh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return jh(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>ou(l,e,h))),u.forEach(h=>ou(l,i,h)),u.forEach(h=>ou(l,ol[r]||{},h)),u.forEach(h=>ou(l,_n,h)),u.forEach(h=>ou(l,f0,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),p8.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ol[n]||{},_n.datasets[n]||{},{type:n},_n,f0]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Pb(this._resolverCache,e,i);let l=o;if(ZV(o,n)){r.$shared=!1,s=Yo(s)?s():s;const c=this.createResolver(e,s,a);l=uc(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Pb(this._resolverCache,e,s);return Bt(n)?uc(r,n,void 0,i):r}}function Pb(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Ng(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const YV=t=>Bt(t)&&Object.getOwnPropertyNames(t).some(e=>Yo(t[e]));function ZV(t,e){const{isScriptable:n,isIndexable:s}=qw(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(Yo(a)||YV(a))||o&&wn(a))return!0}return!1}var JV="4.5.0";const XV=["top","bottom","left","right","chartArea"];function Nb(t,e){return t==="top"||t==="bottom"||XV.indexOf(t)===-1&&e==="x"}function Ib(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Ob(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pn(n&&n.onComplete,[t],e)}function QV(t){const e=t.chart,n=e.options.animation;pn(n&&n.onProgress,[t],e)}function g8(t){return Dg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const s1={},Db=t=>{const e=g8(t);return Object.values(s1).filter(n=>n.canvas===e).pop()};function eH(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function tH(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}class jg{static defaults=_n;static instances=s1;static overrides=ol;static registry=ur;static version=JV;static getChart=Db;static register(...e){ur.add(...e),Mb()}static unregister(...e){ur.remove(...e),Mb()}constructor(e,n){const s=this.config=new KV(n),i=g8(e),r=Db(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||yV(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=ZF(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $V,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fU(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],s1[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Fr.listen(this,"complete",Ob),Fr.listen(this,"progress",QV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return jt(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ur}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eb(this.canvas,this.ctx),this}stop(){return Fr.stop(this),this}resize(e,n){Fr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,sb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),pn(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tn(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=m0(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),tn(r,o=>{const a=o.options,l=a.id,c=m0(l,a),u=Lt(a.type,o.dtype);(a.position===void 0||Nb(a.position,c)!==Nb(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const p=ur.getScale(u);h=new p({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),tn(i,(o,a)=>{o||delete s[a]}),tn(s,o=>{Ps.configure(this,o,o.options),Ps.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Ib("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||g0(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=ur.getController(a),{datasetElementType:c,dataElementType:u}=_n.datasets[a];Object.assign(l,{dataElementType:ur.getElement(u),datasetElementType:c&&ur.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){tn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),p=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||tn(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ib("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){tn(this.scales,e=>{Ps.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!qv(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;eH(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!qv(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ps.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],tn(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Yo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fr.has(this)?this.attached&&!Fr.running(this)&&Fr.start(this):(this.draw(),Ob({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=n8(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&cf(n,i),e.controller.draw(),i&&uf(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Jr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=Xz.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);td(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Fr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),eb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete s1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};tn(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){tn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},tn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!A1(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=nU(e),c=tH(e,this._lastEvent,s,l);s&&(this._lastEvent=null,pn(r.onHover,[e,a,this],this),l&&pn(r.onClick,[e,a,this],this));const u=!A1(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function Mb(){return tn(jg.instances,t=>t._plugins.invalidate())}function nH(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Ls(s-n));if(t.beginPath(),t.arc(i,r,o-c/2,s+h/2,n-h/2),a>0){const p=Math.min(c/a,Ls(s-n));t.arc(i,r,a+c/2,n-p/2,s+p/2,!0)}else{const p=Math.min(c/2,o*Ls(s-n));if(u==="round")t.arc(i,r,p,n-Wt/2,s+Wt/2,!0);else if(u==="bevel"){const f=2*p*p,m=-f*Math.cos(n+Wt/2)+i,b=-f*Math.sin(n+Wt/2)+r,y=f*Math.cos(s+Wt/2)+i,w=f*Math.sin(s+Wt/2)+r;t.lineTo(m,b),t.lineTo(y,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function sH(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+Fn,s-Fn),t.closePath(),t.clip()}function iH(t){return Pg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function rH(t,e,n,s){const i=iH(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return os(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:os(i.innerStart,0,o),innerEnd:os(i.innerEnd,0,o)}}function Rl(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function I1(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+s+n-c,0),p=u>0?u+s+n+c:0;let f=0;const m=i-l;if(s){const j=u>0?u-s:0,F=h>0?h-s:0,D=(j+F)/2,N=D!==0?m*D/(D+s):m;f=(m-N)/2}const b=Math.max(.001,m*h-n/Wt)/h,y=(m-b)/2,w=l+y+f,C=i-y-f,{outerStart:k,outerEnd:S,innerStart:I,innerEnd:z}=rH(e,p,h,C-w),H=h-k,U=h-S,T=w+k/H,q=C-S/U,L=p+I,P=p+z,ne=w+I/L,V=C-z/P;if(t.beginPath(),r){const j=(T+q)/2;if(t.arc(o,a,h,T,j),t.arc(o,a,h,j,q),S>0){const ee=Rl(U,q,o,a);t.arc(ee.x,ee.y,S,q,C+Fn)}const F=Rl(P,C,o,a);if(t.lineTo(F.x,F.y),z>0){const ee=Rl(P,V,o,a);t.arc(ee.x,ee.y,z,C+Fn,V+Math.PI)}const D=(C-z/p+(w+I/p))/2;if(t.arc(o,a,p,C-z/p,D,!0),t.arc(o,a,p,D,w+I/p,!0),I>0){const ee=Rl(L,ne,o,a);t.arc(ee.x,ee.y,I,ne+Math.PI,w-Fn)}const N=Rl(H,w,o,a);if(t.lineTo(N.x,N.y),k>0){const ee=Rl(H,T,o,a);t.arc(ee.x,ee.y,k,w-Fn,T)}}else{t.moveTo(o,a);const j=Math.cos(T)*h+o,F=Math.sin(T)*h+a;t.lineTo(j,F);const D=Math.cos(q)*h+o,N=Math.sin(q)*h+a;t.lineTo(D,N)}t.closePath()}function oH(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){I1(t,e,n,s,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%bn||bn))}return I1(t,e,n,s,l,i),t.fill(),l}function aH(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:p,borderRadius:f}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=p,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let b=e.endAngle;if(r){I1(t,e,n,s,b,i);for(let y=0;y<r;++y)t.stroke();isNaN(a)||(b=o+(a%bn||bn))}m&&sH(t,e,b),l.selfJoin&&b-o>=Wt&&f===0&&u!=="miter"&&nH(t,e,b),r||(I1(t,e,n,s,b,i),t.stroke())}class lH extends io{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=Mw(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,f=Lt(h,l-a),m=nd(r,a,l)&&a!==l,b=f>=bn||m,y=Yr(o,c+p,u+p);return b&&y}getCenterPoint(e){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>bn?Math.floor(s/bn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(Wt,s||0)),c=i*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,oH(e,this,c,r,o),aH(e,this,c,r,o),e.restore()}}function m8(t,e,n=e){t.lineCap=Lt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Lt(n.borderDash,e.borderDash)),t.lineDashOffset=Lt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Lt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Lt(n.borderWidth,e.borderWidth),t.strokeStyle=Lt(n.borderColor,e.borderColor)}function cH(t,e,n){t.lineTo(n.x,n.y)}function uH(t){return t.stepped?SU:t.tension||t.cubicInterpolationMode==="monotone"?AU:cH}function v8(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function dH(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=v8(i,n,s),u=uH(r);let{move:h=!0,reverse:p}=s||{},f,m,b;for(f=0;f<=c;++f)m=i[(a+(p?c-f:f))%o],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):u(t,b,m,p,r.stepped),b=m);return l&&(m=i[(a+(p?c:0))%o],u(t,b,m,p,r.stepped)),!!l}function hH(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=v8(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,p,f,m,b,y,w;const C=S=>(o+(c?a-S:S))%r,k=()=>{b!==y&&(t.lineTo(u,y),t.lineTo(u,b),t.lineTo(u,w))};for(l&&(f=i[C(0)],t.moveTo(f.x,f.y)),p=0;p<=a;++p){if(f=i[C(p)],f.skip)continue;const S=f.x,I=f.y,z=S|0;z===m?(I<b?b=I:I>y&&(y=I),u=(h*u+S)/++h):(k(),t.lineTo(S,I),m=z,h=0,b=y=I),w=I}k()}function v0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?hH:dH}function fH(t){return t.stepped?iz:t.tension||t.cubicInterpolationMode==="monotone"?rz:Ba}function pH(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),m8(t,e.options),t.stroke(i)}function gH(t,e,n,s){const{segments:i,options:r}=e,o=v0(e);for(const a of i)m8(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const mH=typeof Path2D=="function";function vH(t,e,n,s){mH&&!e.options.segment?pH(t,e,n,s):gH(t,e,n,s)}class ff extends io{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;ZU(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dz(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=t8(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=fH(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:p}=o[c],f=r[h],m=r[p];if(f===m){a.push(f);continue}const b=Math.abs((i-f[n])/(m[n]-f[n])),y=l(f,m,b,s.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,s){return v0(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=v0(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),vH(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Rb(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class bH extends io{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Rb(this,e,"x",n)}inYRange(e,n){return Rb(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!Jr(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,p0(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function b8(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function jo(t,e,n,s){return t?0:os(e,n,s)}function yH(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=Hw(s);return{t:jo(i.top,r.top,0,n),r:jo(i.right,r.right,0,e),b:jo(i.bottom,r.bottom,0,n),l:jo(i.left,r.left,0,e)}}function wH(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Xa(i),o=Math.min(e,n),a=t.borderSkipped,l=s||Bt(i);return{topLeft:jo(!l||a.top||a.left,r.topLeft,0,o),topRight:jo(!l||a.top||a.right,r.topRight,0,o),bottomLeft:jo(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:jo(!l||a.bottom||a.right,r.bottomRight,0,o)}}function _H(t){const e=b8(t),n=e.right-e.left,s=e.bottom-e.top,i=yH(t,n/2,s/2),r=wH(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function l2(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&b8(t,s);return a&&(i||Yr(e,a.left,a.right))&&(r||Yr(n,a.top,a.bottom))}function xH(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function CH(t,e){t.rect(e.x,e.y,e.w,e.h)}function c2(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class kH extends io{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=_H(this),a=xH(o.radius)?sd:CH;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,c2(o,n,r)),e.clip(),a(e,c2(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,c2(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return l2(this,e,n,s)}inXRange(e,n){return l2(this,e,null,n)}inYRange(e,n){return l2(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var SH=Object.freeze({__proto__:null,ArcElement:lH,BarElement:kH,LineElement:ff,PointElement:bH});const b0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$b=b0.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function y8(t){return b0[t%b0.length]}function w8(t){return $b[t%$b.length]}function AH(t,e){return t.borderColor=y8(e),t.backgroundColor=w8(e),++e}function LH(t,e){return t.backgroundColor=t.data.map(()=>y8(e++)),e}function EH(t,e){return t.backgroundColor=t.data.map(()=>w8(e++)),e}function TH(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof Rg?e=LH(n,e):i instanceof o8?e=EH(n,e):i&&(e=AH(n,e))}}function jb(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function PH(t){return t&&(t.borderColor||t.backgroundColor)}function NH(){return _n.borderColor!=="rgba(0,0,0,0.1)"||_n.backgroundColor!=="rgba(0,0,0,0.1)"}var IH={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:r}=i,o=jb(s)||PH(i)||r&&jb(r)||NH();if(!n.forceOverride&&o)return;const a=TH(t);s.forEach(a)}};function OH(t,e,n,s,i){const r=i.samples||s;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,h,p,f,m,b;for(o[l++]=t[u],h=0;h<r-2;h++){let y=0,w=0,C;const k=Math.floor((h+1)*a)+1+e,S=Math.min(Math.floor((h+2)*a)+1,n)+e,I=S-k;for(C=k;C<S;C++)y+=t[C].x,w+=t[C].y;y/=I,w/=I;const z=Math.floor(h*a)+1+e,H=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:U,y:T}=t[u];for(f=m=-1,C=z;C<H;C++)m=.5*Math.abs((U-y)*(t[C].y-T)-(U-t[C].x)*(w-T)),m>f&&(f=m,p=t[C],b=C);o[l++]=p,u=b}return o[l++]=t[c],o}function DH(t,e,n,s){let i=0,r=0,o,a,l,c,u,h,p,f,m,b;const y=[],w=e+n-1,C=t[e].x,S=t[w].x-C;for(o=e;o<e+n;++o){a=t[o],l=(a.x-C)/S*s,c=a.y;const I=l|0;if(I===u)c<m?(m=c,h=o):c>b&&(b=c,p=o),i=(r*i+a.x)/++r;else{const z=o-1;if(!jt(h)&&!jt(p)){const H=Math.min(h,p),U=Math.max(h,p);H!==f&&H!==z&&y.push({...t[H],x:i}),U!==f&&U!==z&&y.push({...t[U],x:i})}o>0&&z!==f&&y.push(t[z]),y.push(a),u=I,r=0,m=b=c,h=p=f=o}}return y}function _8(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Bb(t){t.data.datasets.forEach(e=>{_8(e)})}function MH(t,e){const n=e.length;let s=0,i;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=os(Zr(e,r.axis,o).lo,0,n-1)),c?i=os(Zr(e,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var RH={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Bb(t);return}const s=t.width;t.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(r),c=o||i.data;if(hu([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:p}=MH(l,c);const f=n.threshold||4*s;if(p<=f){_8(i);return}jt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let m;switch(n.algorithm){case"lttb":m=OH(c,h,p,s,n);break;case"min-max":m=DH(c,h,p,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=m})},destroy(t){Bb(t)}};function $H(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=pf(l,c,i);const u=y0(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=t8(e,u);for(const p of h){const f=y0(n,r[p.start],r[p.end],p.loop),m=e8(a,i,f);for(const b of m)o.push({source:b,target:p,start:{[n]:Fb(u,f,"start",Math.max)},end:{[n]:Fb(u,f,"end",Math.min)}})}}return o}function y0(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=Ls(i),r=Ls(r)),{property:t,start:i,end:r}}function jH(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=pf(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function pf(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Fb(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function x8(t,e){let n=[],s=!1;return wn(t)?(s=!0,n=t):n=jH(t,e),n.length?new ff({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ub(t){return t&&t.fill!==!1}function BH(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Pn(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function FH(t,e,n){const s=HH(t);if(Bt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Pn(i)&&Math.floor(i)===i?UH(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function UH(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function zH(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Bt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function VH(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Bt(t)?s=t.value:s=e.getBaseValue(),s}function HH(t){const e=t.options,n=e.fill;let s=Lt(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function qH(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=WH(e,n);a.push(x8({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)GH(i,o[u],a)}return new ff({points:i,options:{}})}function WH(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function GH(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=KH(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function KH(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],p=o[u.end][n];if(Yr(i,h,p)){a=i===h,l=i===p;break}}return{first:a,last:l,point:s}}class C8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:bn},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function YH(t){const{chart:e,fill:n,line:s}=t;if(Pn(n))return ZH(e,n);if(n==="stack")return qH(t);if(n==="shape")return!0;const i=JH(t);return i instanceof C8?i:x8(i,s)}function ZH(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function JH(t){return(t.scale||{}).getPointPositionForValue?QH(t):XH(t)}function XH(t){const{scale:e={},fill:n}=t,s=zH(n,e);if(Pn(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function QH(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=VH(n,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new C8({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function u2(t,e,n){const s=YH(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:p=h,below:f=h}=u||{},m=i.getDatasetMeta(r),b=n8(i,m);s&&o.points.length&&(cf(t,n),eq(t,{line:o,target:s,above:p,below:f,area:n,scale:a,axis:l,clip:b}),uf(t))}function eq(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==i&&(c==="x"?(zb(t,s,o.top),d2(t,{line:n,target:s,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),zb(t,s,o.bottom)):c==="y"&&(Vb(t,s,o.left),d2(t,{line:n,target:s,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),Vb(t,s,o.right),u=i)),d2(t,{line:n,target:s,color:u,scale:a,property:c,clip:l}),t.restore()}function zb(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[pf(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Vb(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[pf(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function d2(t,e){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=e,l=$H(n,s,i);for(const{source:c,target:u,start:h,end:p}of l){const{style:{backgroundColor:f=r}={}}=c,m=s!==!0;t.save(),t.fillStyle=f,tq(t,o,a,m&&y0(i,h,p)),t.beginPath();const b=!!n.pathSegment(t,c);let y;if(m){b?t.closePath():Hb(t,s,p,i);const w=!!s.pathSegment(t,u,{move:b,reverse:!0});y=b&&w,y||Hb(t,s,h,i)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function tq(t,e,n,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,u-l,h-c),t.clip()}}function Hb(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var nq={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof ff&&(l={visible:t.isDatasetVisible(o),index:o,fill:FH(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=BH(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&u2(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Ub(r)&&u2(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Ub(s)||n.drawTime!=="beforeDatasetDraw"||u2(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qb=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},sq=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Wb extends io{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=ns(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=qb(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((m,b)=>{const y=s+n/2+r.measureText(m.text).width;(b===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(b>0?0:1)]=0,f+=u,p++),l[b]={left:0,top:f,row:p,width:y,height:i},c[c.length-1]+=y+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,p=0,f=0,m=0,b=0;return this.legendItems.forEach((y,w)=>{const{itemWidth:C,itemHeight:k}=iq(s,n,r,y,i);w>0&&f+k+2*a>u&&(h+=p+a,c.push({width:p,height:f}),m+=p+a,b++,p=f=0),l[w]={left:m,top:f,col:b,width:C,height:k},p=Math.max(p,C),f+=k+a}),h+=p,c.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=ec(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ss(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ss(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Ss(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ss(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cf(e,this),this._draw(),uf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=_n.color,l=ec(e.rtl,this.left,this.width),c=ns(o.font),{padding:u}=o,h=c.size,p=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:b,itemHeight:y}=qb(o,h),w=function(z,H,U){if(isNaN(m)||m<=0||isNaN(b)||b<0)return;i.save();const T=Lt(U.lineWidth,1);if(i.fillStyle=Lt(U.fillStyle,a),i.lineCap=Lt(U.lineCap,"butt"),i.lineDashOffset=Lt(U.lineDashOffset,0),i.lineJoin=Lt(U.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=Lt(U.strokeStyle,a),i.setLineDash(Lt(U.lineDash,[])),o.usePointStyle){const q={radius:b*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:T},L=l.xPlus(z,m/2),P=H+p;Vw(i,q,L,P,o.pointStyleWidth&&m)}else{const q=H+Math.max((h-b)/2,0),L=l.leftForLtr(z,m),P=Xa(U.borderRadius);i.beginPath(),Object.values(P).some(ne=>ne!==0)?sd(i,{x:L,y:q,w:m,h:b,radius:P}):i.rect(L,q,m,b),i.fill(),T!==0&&i.stroke()}i.restore()},C=function(z,H,U){al(i,U.text,z,H+y/2,c,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},k=this.isHorizontal(),S=this._computeTitleHeight();k?f={x:Ss(r,this.left+u,this.right-s[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:Ss(r,this.top+S+u,this.bottom-n[0].height),line:0},Jw(this.ctx,e.textDirection);const I=y+u;this.legendItems.forEach((z,H)=>{i.strokeStyle=z.fontColor,i.fillStyle=z.fontColor;const U=i.measureText(z.text).width,T=l.textAlign(z.textAlign||(z.textAlign=o.textAlign)),q=m+p+U;let L=f.x,P=f.y;l.setWidth(this.width),k?H>0&&L+q+u>this.right&&(P=f.y+=I,f.line++,L=f.x=Ss(r,this.left+u,this.right-s[f.line])):H>0&&P+I>this.bottom&&(L=f.x=L+n[f.line].width+u,f.line++,P=f.y=Ss(r,this.top+S+u,this.bottom-n[f.line].height));const ne=l.x(L);if(w(ne,P,z),L=pU(T,L+m+p,k?L+q:this.right,e.rtl),C(l.x(L),P,z),k)f.x+=q+u;else if(typeof z.text!="string"){const V=c.lineHeight;f.y+=k8(z,V)+u}else f.y+=I}),Xw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=ns(n.font),i=Ns(n.padding);if(!n.display)return;const r=ec(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+c,h=Ss(e.align,h,this.right-p);else{const m=this.columnSizes.reduce((b,y)=>Math.max(b,y.height),0);u=c+Ss(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=Ss(a,h,h+p);o.textAlign=r.textAlign(Eg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,al(o,n.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,n=ns(e.font),s=Ns(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Yr(e,this.left,this.right)&&Yr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Yr(e,i.left,i.left+i.width)&&Yr(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!aq(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=sq(i,s);i&&!r&&pn(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&pn(n.onHover,[e,s,this],this)}else s&&pn(n.onClick,[e,s,this],this)}}function iq(t,e,n,s,i){const r=rq(s,t,e,n),o=oq(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function rq(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function oq(t,e,n){let s=t;return typeof e.text!="string"&&(s=k8(e,n)),s}function k8(t,e){const n=t.text?t.text.length:0;return e*n}function aq(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var lq={id:"legend",_element:Wb,start(t,e,n){const s=t.legend=new Wb({ctx:t.ctx,options:n,chart:t});Ps.configure(t,s,n),Ps.addBox(t,s)},stop(t){Ps.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Ps.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ns(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Bg extends io{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=wn(s.text)?s.text.length:1;this._padding=Ns(s.padding);const r=i*ns(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Ss(a,s,r),h=n+e,c=r-s):(o.position==="left"?(u=s+e,h=Ss(a,i,n),l=Wt*-.5):(u=r-e,h=Ss(a,n,i),l=Wt*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=ns(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);al(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Eg(n.align),textBaseline:"middle",translation:[o,a]})}}function cq(t,e){const n=new Bg({ctx:t.ctx,options:e,chart:t});Ps.configure(t,n,e),Ps.addBox(t,n),t.titleBlock=n}var uq={id:"title",_element:Bg,start(t,e,n){cq(t,n)},stop(t){const e=t.titleBlock;Ps.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Ps.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bh=new WeakMap;var dq={id:"subtitle",start(t,e,n){const s=new Bg({ctx:t.ctx,options:n,chart:t});Ps.configure(t,s,n),Ps.addBox(t,s),Bh.set(t,s)},stop(t){Ps.removeBox(t,Bh.get(t)),Bh.delete(t)},beforeUpdate(t,e,n){const s=Bh.get(t);Ps.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pu={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=h0(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function lr(t,e){return e&&(wn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ur(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function hq(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Gb(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=ns(e.bodyFont),c=ns(e.titleFont),u=ns(e.footerFont),h=r.length,p=i.length,f=s.length,m=Ns(e.padding);let b=m.height,y=0,w=s.reduce((S,I)=>S+I.before.length+I.lines.length+I.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,h&&(b+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),w){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=f*S+(w-f)*l.lineHeight+(w-1)*e.bodySpacing}p&&(b+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let C=0;const k=function(S){y=Math.max(y,n.measureText(S).width+C)};return n.save(),n.font=c.string,tn(t.title,k),n.font=l.string,tn(t.beforeBody.concat(t.afterBody),k),C=e.displayColors?o+2+e.boxPadding:0,tn(s,S=>{tn(S.before,k),tn(S.lines,k),tn(S.after,k)}),C=0,n.font=u.string,tn(t.footer,k),n.restore(),y+=m.width,{width:y,height:b}}function fq(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function pq(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function gq(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),pq(c,t,e,n)&&(c="center"),c}function Kb(t,e,n){const s=n.yAlign||e.yAlign||fq(t,n);return{xAlign:n.xAlign||e.xAlign||gq(t,e,n,s),yAlign:s}}function mq(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function vq(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Yb(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=Xa(o);let m=mq(e,a);const b=vq(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,p)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:os(m,0,s.width-e.width),y:os(b,0,s.height-e.height)}}function Fh(t,e,n){const s=Ns(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Zb(t){return lr([],Ur(t))}function bq(t,e,n){return Xo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const S8={beforeTitle:Br,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Br,beforeBody:Br,beforeLabel:Br,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return jt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Br,afterBody:Br,beforeFooter:Br,footer:Br,afterFooter:Br};function zs(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?S8[e].call(n,s):i}class Xb extends io{static positioners=pu;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new s8(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=bq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=zs(s,"beforeTitle",this,e),r=zs(s,"title",this,e),o=zs(s,"afterTitle",this,e);let a=[];return a=lr(a,Ur(i)),a=lr(a,Ur(r)),a=lr(a,Ur(o)),a}getBeforeBody(e,n){return Zb(zs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return tn(e,r=>{const o={before:[],lines:[],after:[]},a=Jb(s,r);lr(o.before,Ur(zs(a,"beforeLabel",this,r))),lr(o.lines,zs(a,"label",this,r)),lr(o.after,Ur(zs(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Zb(zs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=zs(s,"beforeFooter",this,e),r=zs(s,"footer",this,e),o=zs(s,"afterFooter",this,e);let a=[];return a=lr(a,Ur(i)),a=lr(a,Ur(r)),a=lr(a,Ur(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(hq(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,p)=>e.filter(u,h,p,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),tn(a,u=>{const h=Jb(e.callbacks,u);i.push(zs(h,"labelColor",this,u)),r.push(zs(h,"labelPointStyle",this,u)),o.push(zs(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=pu[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Gb(this,s),c=Object.assign({},a,l),u=Kb(this.chart,s,c),h=Yb(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Xa(a),{x:p,y:f}=e,{width:m,height:b}=n;let y,w,C,k,S,I;return r==="center"?(S=f+b/2,i==="left"?(y=p,w=y-o,k=S+o,I=S-o):(y=p+m,w=y+o,k=S-o,I=S+o),C=y):(i==="left"?w=p+Math.max(l,u)+o:i==="right"?w=p+m-Math.max(c,h)-o:w=this.caretX,r==="top"?(k=f,S=k-o,y=w-o,C=w+o):(k=f+b,S=k+o,y=w+o,C=w-o),I=k),{x1:y,x2:w,x3:C,y1:k,y2:S,y3:I}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=ec(s.rtl,this.x,this.width);for(e.x=Fh(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=ns(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ns(r.bodyFont),h=Fh(this,"left",r),p=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(r.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(p,c)+c/2,w=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,p0(e,b,y,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,p0(e,b,y,w)}else{e.lineWidth=Bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=i.leftForLtr(p,c),y=i.leftForLtr(i.xPlus(p,1),c-2),w=Xa(o.borderRadius);Object.values(w).some(C=>C!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,sd(e,{x:b,y:m,w:c,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sd(e,{x:y,y:m+1,w:c-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(b,m,c,l),e.strokeRect(b,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ns(s.bodyFont);let p=h.lineHeight,f=0;const m=ec(s.rtl,this.x,this.width),b=function(U){n.fillText(U,m.x(e.x+f),e.y+p/2),e.y+=p+r},y=m.textAlign(o);let w,C,k,S,I,z,H;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Fh(this,y,s),n.fillStyle=s.bodyColor,tn(this.beforeBody,b),f=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,z=i.length;S<z;++S){for(w=i[S],C=this.labelTextColors[S],n.fillStyle=C,tn(w.before,b),k=w.lines,a&&k.length&&(this._drawColorBox(n,e,S,m,s),p=Math.max(h.lineHeight,l)),I=0,H=k.length;I<H;++I)b(k[I]),p=h.lineHeight;tn(w.after,b)}f=0,p=h.lineHeight,tn(this.afterBody,b),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=ec(s.rtl,this.x,this.width);for(e.x=Fh(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=ns(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:m}=Xa(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=pu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Gb(this,e),l=Object.assign({},o,this._size),c=Kb(n,e,l),u=Yb(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ns(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),Jw(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Xw(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!A1(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!A1(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=pu[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}var yq={id:"tooltip",_element:Xb,positioners:pu,afterInit(t,e,n){n&&(t.tooltip=new Xb({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:S8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wq=Object.freeze({__proto__:null,Colors:IH,Decimation:RH,Filler:nq,Legend:lq,SubTitle:dq,Title:uq,Tooltip:yq});const _q=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function xq(t,e,n,s){const i=t.indexOf(e);if(i===-1)return _q(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const Cq=(t,e)=>t===null?null:os(Math.round(t),0,e);function Qb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class kq extends dl{static id="category";static defaults={ticks:{callback:Qb}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(jt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:xq(s,e,Lt(n,e),this._addedLabels),Cq(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Qb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Sq(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:p}=t,f=r||1,m=u-1,{min:b,max:y}=e,w=!jt(o),C=!jt(a),k=!jt(c),S=(y-b)/(h+1);let I=Gv((y-b)/m/f)*f,z,H,U,T;if(I<1e-14&&!w&&!C)return[{value:b},{value:y}];T=Math.ceil(y/I)-Math.floor(b/I),T>m&&(I=Gv(T*I/m/f)*f),jt(l)||(z=Math.pow(10,l),I=Math.ceil(I*z)/z),i==="ticks"?(H=Math.floor(b/I)*I,U=Math.ceil(y/I)*I):(H=b,U=y),w&&C&&r&&aU((a-o)/r,I/1e3)?(T=Math.round(Math.min((a-o)/I,u)),I=(a-o)/T,H=o,U=a):k?(H=w?o:H,U=C?a:U,T=c-1,I=(U-H)/T):(T=(U-H)/I,Iu(T,Math.round(T),I/1e3)?T=Math.round(T):T=Math.ceil(T));const q=Math.max(Kv(I),Kv(H));z=Math.pow(10,jt(l)?q:l),H=Math.round(H*z)/z,U=Math.round(U*z)/z;let L=0;for(w&&(p&&H!==o?(n.push({value:o}),H<o&&L++,Iu(Math.round((H+L*I)*z)/z,o,e9(o,S,t))&&L++):H<o&&L++);L<T;++L){const P=Math.round((H+L*I)*z)/z;if(C&&P>a)break;n.push({value:P})}return C&&p&&U!==a?n.length&&Iu(n[n.length-1].value,a,e9(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!C||U===a)&&n.push({value:U}),n}function e9(t,e,{horizontal:n,minRotation:s}){const i=zi(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class O1 extends dl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=vr(i),c=vr(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Sq(i,r);return e.bounds==="ticks"&&Dw(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return _d(e,this.chart.options.locale,this.options.ticks.format)}}class Aq extends O1{static id="linear";static defaults={ticks:{callback:lf.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pn(e)?e:0,this.max=Pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=zi(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const rd=t=>Math.floor($o(t)),Oa=(t,e)=>Math.pow(10,rd(t)+e);function t9(t){return t/Math.pow(10,rd(t))===1}function n9(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function Lq(t,e){const n=e-t;let s=rd(n);for(;n9(t,e,s)>10;)s++;for(;n9(t,e,s)<10;)s--;return Math.min(s,rd(t))}function Eq(t,{min:e,max:n}){e=ii(t.min,e);const s=[],i=rd(e);let r=Lq(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),p=ii(t.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;p<n;)s.push({value:p,major:t9(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),p=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=ii(t.max,p);return s.push({value:f,major:t9(f),significand:h}),s}class Tq extends dl{static id="logarithmic";static defaults={ticks:{callback:lf.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=O1.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Pn(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pn(e)?Math.max(0,e):null,this.max=Pn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pn(this._userMin)&&(this.min=e===Oa(this.min,0)?Oa(this.min,-1):Oa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Oa(s,-1)),o(Oa(i,1)))),s<=0&&r(Oa(i,-1)),i<=0&&o(Oa(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=Eq(n,this);return e.bounds==="ticks"&&Dw(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":_d(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=$o(e),this._valueRange=$o(this.max)-$o(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:($o(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function w0(t){const e=t.ticks;if(e.display&&t.display){const n=Ns(e.backdropPadding);return Lt(e.font&&e.font.size,_n.font.size)+n.height}return 0}function Pq(t,e,n){return n=wn(n)?n:[n],{w:kU(t,e.string,n),h:n.length*e.lineHeight}}function s9(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Nq(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Wt/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=ns(c.font),p=Pq(t.ctx,h,t._pointLabels[l]);s[l]=p;const f=Ls(t.getIndexAngle(l)+a),m=Math.round(Ag(f)),b=s9(m,u.x,p.w,0,180),y=s9(m,u.y,p.h,90,270);Iq(n,e,f,b,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Mq(t,s,i)}function Iq(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Oq(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,s+i+o,r),c=Math.round(Ag(Ls(l.angle+Fn))),u=jq(l.y,a.h,c),h=Rq(c),p=$q(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:p,top:u,right:p+a.w,bottom:u+a.h}}function Dq(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(Jr({x:n,y:s},e)||Jr({x:n,y:r},e)||Jr({x:i,y:s},e)||Jr({x:i,y:r},e))}function Mq(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:w0(r)/2,additionalAngle:o?Wt/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=Oq(t,u,l);s.push(h),a==="auto"&&(h.visible=Dq(h,c),h.visible&&(c=h))}return s}function Rq(t){return t===0||t===180?"center":t<180?"left":"right"}function $q(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function jq(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Bq(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!jt(a)){const l=Xa(e.borderRadius),c=Ns(e.backdropPadding);t.fillStyle=a;const u=s-c.left,h=i-c.top,p=r-s+c.width,f=o-i+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),sd(t,{x:u,y:h,w:p,h:f,radius:l}),t.fill()):t.fillRect(u,h,p,f)}}function Fq(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));Bq(n,o,r);const a=ns(o.font),{x:l,y:c,textAlign:u}=r;al(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function A8(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,bn);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function Uq(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),A8(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function zq(t,e,n){return Xo(t,{label:n,index:e,type:"pointLabel"})}class Vq extends O1{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ns(w0(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Pn(e)&&!isNaN(e)?e:0,this.max=Pn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/w0(this.options))}generateTickLabels(e){O1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=pn(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?Nq(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=bn/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ls(e*n+zi(s))}getDistanceFromCenterForValue(e){if(jt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(jt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return zq(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-Fn+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),A8(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Fq(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const p=this.getContext(h),f=i.setContext(p),m=r.setContext(p);Uq(this,f,l,o,m)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:p}=u;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=ns(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Ns(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}al(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const gf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vs=Object.keys(gf);function i9(t,e){return t-e}function r9(t,e){if(jt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Pn(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(cc(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function o9(t,e,n,s){const i=Vs.length;for(let r=Vs.indexOf(t);r<i-1;++r){const o=gf[Vs[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Vs[r]}return Vs[i-1]}function Hq(t,e,n,s,i){for(let r=Vs.length-1;r>=Vs.indexOf(n);r--){const o=Vs[r];if(gf[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Vs[n?Vs.indexOf(n):0]}function qq(t){for(let e=Vs.indexOf(t)+1,n=Vs.length;e<n;++e)if(gf[Vs[e]].common)return Vs[e]}function a9(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=Lg(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function Wq(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function l9(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:Wq(t,s,i,n)}class _0 extends dl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Gz._date(e.adapters.date);i.init(n),Nu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:r9(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Pn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Pn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=dU(i,r,o);return this._unit=n.unit||(s.autoSkip?o9(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Hq(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:qq(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),l9(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=os(n,0,o),s=os(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||o9(r.minUnit,n,s,this._getLabelCapacity(n)),a=Lt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=cc(l)||l===!0,u={};let h=n,p,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<s;p=+e.add(p,a,o),f++)a9(u,p,m);return(p===s||i.bounds==="ticks"||f===1)&&a9(u,p,m),Object.keys(u).sort(i9).map(b=>+b)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return pn(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],p=s[n],f=c&&h&&p&&p.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=zi(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,l9(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(r9(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $w(e.sort(i9))}}function Uh(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Zr(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Zr(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Gq extends _0{static id="timeseries";static defaults=_0.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Uh(n,this.min),this._tableRange=Uh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Uh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Uh(this._table,s*this._tableRange+this._minPos,!0)}}var Kq=Object.freeze({__proto__:null,CategoryScale:kq,LinearScale:Aq,LogarithmicScale:Tq,RadialLinearScale:Vq,TimeScale:_0,TimeSeriesScale:Gq});const Yq=[Wz,SH,wq,Kq];jg.register(...Yq);const yr="/assets/DICT-Logo-icon_only%20(1)-B6RTI4Ug.png",Zq={class:"organization-homepage"},Jq={class:"avatar"},Xq=["src"],Qq={key:0,class:"profile-section"},eW={class:"org-name"},tW={class:"profile-actions"},nW={class:"content"},sW={class:"cards-container"},iW={class:"card"},rW={class:"cards-counter"},oW={class:"card"},aW={class:"cards-counter"},lW={class:"card"},cW={class:"cards-counter"},uW={class:"card"},dW={class:"cards-counter"},hW={class:"card"},fW={class:"cards-counter"},pW={class:"card"},gW={class:"cards-counter"},mW={class:"charts-container"},vW={class:"main-chart"},bW=["id"],yW={class:"side-charts"},wW=["onClick"],_W=["id"],xW={name:"OrganizationHomePage",data(){return{dictLogo:yr}},setup(){le(!0);const t=le("Loading...");It(()=>{const e=localStorage.getItem("organizationName");t.value=e||"My Organization"})}},CW=Object.assign(xW,{setup(t){const e=js(),n=le(!0),s=()=>n.value=!n.value,i=le("Loading...");It(()=>{const F=localStorage.getItem("user");if(F){const D=JSON.parse(F);i.value=D.organizationName||D.displayName||D.name||"Unknown Org"}});const r=le(0),o=le(0),a=le(0),l=le(0),c=le(0),u=le(0),h=le([]),p=le([]),f=le([]),m=le([]),b=le([]),y=le([]),w=async()=>{try{let F;try{({data:F}=await Ui.get("/organization/trainings"))}catch(N){console.warn("Org trainings endpoint unavailable for homepage, falling back:",N?.response?.status);const ee=localStorage.getItem("user"),fe=ee?JSON.parse(ee):null,ae=fe?.organizationID??fe?.organization?.organizationID??null;({data:F}=await Ui.get("/trainings",{params:ae?{organizationID:ae}:{}}))}h.value=Array.isArray(F)?F:[];const D=new Date;r.value=h.value.length,o.value=h.value.filter(N=>{const ee=N.schedule?new Date(N.schedule):null;return ee&&ee>D}).length,a.value=r.value-o.value}catch(F){console.error("Failed to fetch training stats:",F),h.value=[]}},C=async()=>{try{const{data:F}=await Ui.get("/organization/careers");p.value=Array.isArray(F)?F:[];const D=new Date;l.value=p.value.length,c.value=p.value.filter(N=>{const ee=N.deadlineOfSubmission?new Date(N.deadlineOfSubmission):null;return ee&&ee>=D}).length,u.value=l.value-c.value}catch(F){console.error("Failed to fetch career stats:",F),p.value=[]}},k=le({}),S=le({id:"chart1",title:"General Overview"}),I=le([{id:"chart2",title:"Training Summary"},{id:"chart3",title:"Applicant Engagement"},{id:"chart4",title:"Career Insights"}]),z=le({chart1:{type:"line",data:{labels:[],datasets:[{label:"Training Registrants",data:[],borderColor:"#44576D",backgroundColor:"rgba(68,87,109,0.2)",tension:.3,fill:!0},{label:"Career Applicants",data:[],borderColor:"#A7B1C2",backgroundColor:"rgba(167,177,194,0.2)",tension:.3,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"}}}},chart2:{type:"pie",data:{labels:["On-site","Online"],datasets:[{data:[],backgroundColor:["#44576D","#A7B1C2"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"}}}},chart3:{type:"bar",data:{labels:["Careers","Trainings"],datasets:[{label:"Bookmarks",data:[],backgroundColor:"#44576D"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}},chart4:{type:"doughnut",data:{labels:["Submitted","In Review","For Interview","Accepted","Rejected"],datasets:[{data:[],backgroundColor:["#44576D","#A7B1C2","#DFE3EA","#8FA5B3","#6B7D8F"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"}}}}}),H=async()=>{try{const F=[];for(const D of h.value)try{const{data:N}=await Ui.get(`/trainings/${D.trainingID}/registrants`);Array.isArray(N)&&N.forEach(ee=>{F.push({...ee,trainingID:D.trainingID,registrationDate:ee.dateRegistered||ee.registrationDate})})}catch(N){console.warn(`Failed to fetch registrants for training ${D.trainingID}:`,N)}f.value=F}catch(F){console.warn("Failed to fetch registrations:",F),f.value=[]}},U=async()=>{try{const F=[];for(const D of p.value)try{const{data:N}=await Ui.get(`/careers/${D.careerID}/applicants`);Array.isArray(N)&&N.forEach(ee=>{F.push({...ee,careerID:D.careerID,dateSubmitted:ee.dateSubmitted,applciationStatus:ee.status||ee.applicationStatus||ee.applciationStatus})})}catch(N){console.warn(`Failed to fetch applicants for career ${D.careerID}:`,N)}m.value=F}catch(F){console.warn("Failed to fetch applications:",F),m.value=[]}},T=async()=>{try{try{const{data:F}=await Ui.get("/organization/bookmarks/counts");if(F&&(F.careerBookmarks!==void 0||F.trainingBookmarks!==void 0)){b.value=F.careerBookmarks||0,y.value=F.trainingBookmarks||0;return}}catch(F){console.warn("Bookmark counts endpoint not available, will calculate from data:",F)}b.value=[],y.value=[]}catch(F){console.warn("Failed to fetch bookmark counts:",F),b.value=[],y.value=[]}},q=()=>{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D=new Date().getFullYear(),N=F.map((O,Y)=>{const he=Y+1,ge=f.value.filter(X=>{if(!X.registrationDate&&!X.dateRegistered)return!1;const se=X.registrationDate||X.dateRegistered;if(!se)return!1;const me=new Date(se);return isNaN(me.getTime())?!1:me.getMonth()+1===he&&me.getFullYear()===D}).length,J=m.value.filter(X=>{if(!X.dateSubmitted)return!1;const se=new Date(X.dateSubmitted);return isNaN(se.getTime())?!1:se.getMonth()+1===he&&se.getFullYear()===D}).length;return{registrants:ge,applicants:J}});z.value.chart1.data.labels=F,z.value.chart1.data.datasets[0].data=N.map(O=>O.registrants),z.value.chart1.data.datasets[1].data=N.map(O=>O.applicants);const ee={onsite:h.value.filter(O=>{const Y=(O.mode||O.Mode||"").toLowerCase();return Y==="onsite"||Y==="on-site"||Y==="on site"}).length,online:h.value.filter(O=>(O.mode||O.Mode||"").toLowerCase()==="online").length};z.value.chart2.data.datasets[0].data=[ee.onsite,ee.online];let fe=0,ae=0;Array.isArray(b.value)&&b.value.length>0?fe=new Set(b.value).size:fe=new Set(m.value.map(Y=>Y.applicantID).filter(Boolean)).size,Array.isArray(y.value)&&y.value.length>0?ae=new Set(y.value).size:ae=new Set(f.value.map(Y=>Y.applicantID||Y.id).filter(Boolean)).size,z.value.chart3.data.datasets[0].data=[fe,ae];const A={submitted:m.value.filter(O=>{const Y=(O.applciationStatus||O.applicationStatus||O.status||"").toLowerCase();return Y==="submitted"||Y===""}).length,inReview:m.value.filter(O=>{const Y=(O.applciationStatus||O.applicationStatus||O.status||"").toLowerCase();return Y==="in review"||Y==="pending"}).length,forInterview:m.value.filter(O=>(O.applciationStatus||O.applicationStatus||O.status||"").toLowerCase()==="for interview").length,accepted:m.value.filter(O=>(O.applciationStatus||O.applicationStatus||O.status||"").toLowerCase()==="accepted").length,rejected:m.value.filter(O=>(O.applciationStatus||O.applicationStatus||O.status||"").toLowerCase()==="rejected").length};z.value.chart4.data.datasets[0].data=[A.submitted,A.inReview,A.forInterview,A.accepted,A.rejected]},L=async()=>{q(),await ci(),P(S.value.id),I.value.forEach(F=>P(F.id))};function P(F){const D=document.getElementById(F);if(!D){console.warn(`Canvas element with id "${F}" not found`);return}k.value[F]&&k.value[F].destroy();const N=z.value[F];if(!N){console.warn(`Chart config for "${F}" not found`);return}k.value[F]=new jg(D,N)}function ne(F){const D={...S.value};S.value=F,I.value=I.value.map(N=>N.id===F.id?D:N),ci(()=>{Object.values(k.value).forEach(N=>N.destroy()),k.value={},P(S.value.id),I.value.forEach(N=>P(N.id))})}It(async()=>{await Promise.all([w(),C()]),await Promise.all([H(),U(),T()]),await L()});const V=F=>e.push(F),j=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e.push({name:"Login"})};return(F,D)=>(M(),B("div",Zq,[d("button",{class:ft(["hamburger",{open:n.value,shifted:n.value}]),onClick:s},D[5]||(D[5]=[d("span",null,null,-1),d("span",null,null,-1),d("span",null,null,-1)]),2),wt(Li,{name:"slide"},{default:Wn(()=>[d("aside",{class:ft(["sidebar",{collapsed:!n.value}])},[D[12]||(D[12]=d("div",{class:"space"},null,-1)),d("div",Jq,[d("img",{src:qt(yr),alt:"DICT Logo",class:"avatar-img"},null,8,Xq)]),wt(Li,{name:"fade"},{default:Wn(()=>[n.value?(M(),B("div",Qq,[d("h3",eW,Z(i.value),1),d("div",tW,[d("div",{class:"action",onClick:D[0]||(D[0]=N=>V({name:"OrgUpdateProfile"}))},D[6]||(D[6]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M11.7278 8.27191C12.7534 9.87525 14.1247 11.2375 15.7464 12.2534L8.85673 19.144C8.43166 19.569 8.21841 19.7816 7.95731 19.9213C7.69637 20.0609 7.40171 20.1199 6.81278 20.2377L3.73563 20.853C3.40302 20.9195 3.23649 20.9525 3.14188 20.8578C3.04759 20.7632 3.08035 20.5971 3.14677 20.2651L3.76298 17.1879C3.88087 16.5985 3.93965 16.3035 4.07938 16.0424C4.21912 15.7814 4.43173 15.569 4.85673 15.144L11.7278 8.27191ZM16.1116 4.03656C16.6711 3.75929 17.3284 3.75931 17.888 4.03656C18.1821 4.18229 18.455 4.45518 19.0003 5.00043C19.5453 5.54545 19.8184 5.81774 19.9641 6.11175C20.2414 6.67123 20.2413 7.32861 19.9641 7.88812C19.8184 8.18221 19.5455 8.45517 19.0003 9.00043L17.2034 10.7963C15.5308 9.84498 14.1456 8.46859 13.1819 6.81781L15.0003 5.00043C15.5453 4.45539 15.8176 4.18234 16.1116 4.03656Z",fill:"#FFFDFD"})],-1),d("span",null,"Update Profile",-1)]))])])):Ce("",!0)]),_:1}),d("div",{class:"icon",onClick:D[1]||(D[1]=N=>V("/organization"))},D[7]||(D[7]=[d("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M6.25 17.0585C6.25 16.0494 6.25 15.5448 6.47166 15.1141C6.69333 14.6833 7.1039 14.3901 7.92505 13.8035L13.8375 9.58034C14.3989 9.17938 14.6795 8.9789 15 8.9789C15.3205 8.9789 15.6011 9.17938 16.1625 9.58034L22.075 13.8035C22.8961 14.3901 23.3067 14.6833 23.5283 15.1141C23.75 15.5448 23.75 16.0494 23.75 17.0585V24.25C23.75 25.1928 23.75 25.6642 23.4571 25.9571C23.1642 26.25 22.6928 26.25 21.75 26.25H8.25C7.30719 26.25 6.83579 26.25 6.54289 25.9571C6.25 25.6642 6.25 25.1928 6.25 24.25V17.0585Z",fill:"white"}),d("path",{d:"M3.75 15.6366C3.75 15.9035 3.75 16.0369 3.8341 16.0781C3.91819 16.1192 4.02352 16.0373 4.23418 15.8734L13.7721 8.45502C14.362 7.99625 14.6569 7.76686 15 7.76686C15.3431 7.76686 15.638 7.99625 16.2279 8.45502L25.7658 15.8734C25.9765 16.0373 26.0818 16.1192 26.1659 16.0781C26.25 16.0369 26.25 15.9035 26.25 15.6366V14.7282C26.25 14.2478 26.25 14.0076 26.1483 13.7997C26.0466 13.5918 25.857 13.4444 25.4779 13.1495L16.2279 5.95502C15.638 5.49625 15.3431 5.26686 15 5.26686C14.6569 5.26686 14.362 5.49625 13.7721 5.95502L4.52212 13.1495C4.14295 13.4444 3.95337 13.5918 3.85168 13.7997C3.75 14.0076 3.75 14.2478 3.75 14.7282V15.6366Z",fill:"white"}),d("path",{d:"M16.125 18.75H13.875C12.7704 18.75 11.875 19.6454 11.875 20.75V26.1C11.875 26.1828 11.9422 26.25 12.025 26.25H17.975C18.0578 26.25 18.125 26.1828 18.125 26.1V20.75C18.125 19.6454 17.2296 18.75 16.125 18.75Z",fill:"white"}),d("rect",{x:"20",y:"6.25",width:"2.5",height:"5",rx:"0.5",fill:"white"})],-1),d("span",null,"Home",-1)])),d("div",{class:"icon",onClick:D[2]||(D[2]=N=>V({name:"OrgTrainings"}))},D[8]||(D[8]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.5837 3.625C23.4119 3.625 24.8261 3.62526 25.7048 4.50391C26.5833 5.3826 26.5837 6.79675 26.5837 9.625V19.375C26.5837 22.2033 26.5833 23.6174 25.7048 24.4961C24.8261 25.3747 23.4119 25.375 20.5837 25.375H8.41666C5.58824 25.375 4.17425 25.3748 3.29557 24.4961C2.41689 23.6174 2.41666 22.2034 2.41666 19.375V9.625C2.41666 6.79657 2.41689 5.38259 3.29557 4.50391C4.17425 3.62523 5.58824 3.625 8.41666 3.625H20.5837ZM9.66666 12.292C9.11438 12.292 8.66666 12.7397 8.66666 13.292V20.542L8.67155 20.6445C8.72303 21.1485 9.1491 21.542 9.66666 21.542C10.1842 21.542 10.6103 21.1485 10.6618 20.6445L10.6667 20.542V13.292C10.6667 12.7397 10.2189 12.292 9.66666 12.292ZM19.3337 9.875C18.7814 9.875 18.3337 10.3227 18.3337 10.875V20.542L18.3385 20.6436C18.3896 21.148 18.8158 21.542 19.3337 21.542C19.8514 21.5418 20.2778 21.1479 20.3288 20.6436L20.3337 20.542V10.875C20.3337 10.3228 19.8858 9.87518 19.3337 9.875ZM14.4997 14.708C13.9476 14.7082 13.4998 15.156 13.4997 15.708V20.541L13.5046 20.6436C13.5557 21.1477 13.982 21.5408 14.4997 21.541C15.0175 21.541 15.4436 21.1478 15.4948 20.6436L15.4997 20.541V15.708C15.4995 15.1559 15.0518 14.708 14.4997 14.708Z",fill:"white"})],-1),d("span",null,"Trainings",-1)])),d("div",{class:"icon",onClick:D[3]||(D[3]=N=>V({name:"OrgCareers"}))},D[9]||(D[9]=[d("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M22.8798 11.0484C23.4046 10.8642 23.9845 11.1431 24.1081 11.6855C24.4792 13.3134 24.4217 15.0018 23.9268 16.6191C23.4739 18.0989 22.6698 19.4685 21.5787 20.6449C21.2148 21.0372 20.6017 21.0197 20.2239 20.6408L14.9487 15.3495C14.4292 14.8284 14.6314 13.9436 15.3257 13.6999L22.8798 11.0484ZM13 4.0826C13 3.50231 13.4932 3.04057 14.0672 3.12592C15.8633 3.39302 17.5788 4.00579 19.085 4.93161C20.3794 5.72731 21.4793 6.72976 22.3343 7.87824C22.709 8.38157 22.4513 9.07932 21.8592 9.28718L14.3313 11.9301C13.6809 12.1584 13 11.6758 13 10.9865V4.0826Z",fill:"white"}),d("path",{d:"M11.9511 13.2908C11.9512 13.5763 12.0581 13.8518 12.25 14.0632L19.2677 21.7886C19.6714 22.233 19.5963 22.9337 19.0759 23.2331C18.245 23.7112 17.354 24.0924 16.4209 24.365C14.5402 24.9144 12.5476 25.0087 10.6201 24.6394C8.69236 24.2701 6.88846 23.4478 5.36911 22.2468C3.84993 21.0459 2.66126 19.5025 1.90915 17.7537C1.15711 16.0048 0.864996 14.1043 1.05759 12.2205C1.25024 10.3365 1.92171 8.52693 3.01364 6.95288C4.1056 5.37884 5.58398 4.08845 7.31735 3.19605C8.43484 2.62073 9.63633 2.22318 10.8757 2.01305C11.4515 1.91541 11.9511 2.37876 11.9511 2.96284V13.2908Z",fill:"white"})],-1),d("span",null,"Career",-1)])),d("div",{class:"icon",onClick:D[4]||(D[4]=N=>V({name:"OrgCalendar"}))},D[10]||(D[10]=[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M2.16675 9.4165C2.16675 7.53089 2.16675 6.58808 2.75253 6.00229C3.33832 5.4165 4.28113 5.4165 6.16675 5.4165H19.8334C21.719 5.4165 22.6618 5.4165 23.2476 6.00229C23.8334 6.58808 23.8334 7.53089 23.8334 9.4165V9.83317C23.8334 10.3046 23.8334 10.5403 23.687 10.6867C23.5405 10.8332 23.3048 10.8332 22.8334 10.8332H3.16675C2.69534 10.8332 2.45964 10.8332 2.31319 10.6867C2.16675 10.5403 2.16675 10.3046 2.16675 9.83317V9.4165Z",fill:"white"}),d("path",{d:"M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833ZM8.58301 19.5C8.11182 19.5 7.87591 19.5001 7.72949 19.6465C7.58321 19.7929 7.58301 20.0288 7.58301 20.5V20.667C7.58301 21.1382 7.58308 21.3741 7.72949 21.5205C7.87591 21.6669 8.11182 21.667 8.58301 21.667H10.917C11.3882 21.667 11.6241 21.6669 11.7705 21.5205C11.9169 21.3741 11.917 21.1382 11.917 20.667V20.5C11.917 20.0288 11.9168 19.7929 11.7705 19.6465C11.6241 19.5001 11.3882 19.5 10.917 19.5H8.58301ZM15.083 19.5C14.6118 19.5 14.3759 19.5001 14.2295 19.6465C14.0832 19.7929 14.083 20.0288 14.083 20.5V20.667C14.083 21.1382 14.0831 21.3741 14.2295 21.5205C14.3759 21.6669 14.6118 21.667 15.083 21.667H17.417C17.8882 21.667 18.1241 21.6669 18.2705 21.5205C18.4169 21.3741 18.417 21.1382 18.417 20.667V20.5C18.417 20.0288 18.4168 19.7929 18.2705 19.6465C18.1241 19.5001 17.8882 19.5 17.417 19.5H15.083ZM8.58301 15.167C8.11182 15.167 7.87591 15.1671 7.72949 15.3135C7.58337 15.4599 7.58301 15.6959 7.58301 16.167V16.333C7.58301 16.8041 7.58337 17.0401 7.72949 17.1865C7.87591 17.3329 8.11182 17.333 8.58301 17.333H10.917C11.3882 17.333 11.6241 17.3329 11.7705 17.1865C11.9166 17.0401 11.917 16.8041 11.917 16.333V16.167C11.917 15.6959 11.9166 15.4599 11.7705 15.3135C11.6241 15.1671 11.3882 15.167 10.917 15.167H8.58301ZM15.083 15.167C14.6118 15.167 14.3759 15.1671 14.2295 15.3135C14.0834 15.4599 14.083 15.6959 14.083 16.167V16.333C14.083 16.8041 14.0834 17.0401 14.2295 17.1865C14.3759 17.3329 14.6118 17.333 15.083 17.333H17.417C17.8882 17.333 18.1241 17.3329 18.2705 17.1865C18.4166 17.0401 18.417 16.8041 18.417 16.333V16.167C18.417 15.6959 18.4166 15.4599 18.2705 15.3135C18.1241 15.1671 17.8882 15.167 17.417 15.167H15.083Z",fill:"white"}),d("path",{d:"M7.58325 3.25L7.58325 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),d("path",{d:"M18.4167 3.25L18.4167 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),d("span",null,"Calendar",-1)])),D[13]||(D[13]=d("div",{class:"spacer"},null,-1)),d("div",{class:"icon signout",onClick:j},D[11]||(D[11]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d("polyline",{points:"16 17 21 12 16 7"}),d("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),d("span",null,"Sign Out",-1)]))],2)]),_:1}),d("main",nW,[D[20]||(D[20]=d("header",{class:"topbar"},[d("div",{class:"Pathfinder-wrapper"},[d("span",{class:"logo-text"},"Pathfinder")])],-1)),d("section",sW,[d("div",iW,[D[14]||(D[14]=d("h4",{class:"cards-title"},"Total Trainings",-1)),d("span",rW,Z(r.value),1)]),d("div",oW,[D[15]||(D[15]=d("h4",{class:"cards-title"},"Upcoming Trainings",-1)),d("span",aW,Z(o.value),1)]),d("div",lW,[D[16]||(D[16]=d("h4",{class:"cards-title"},"Completed Trainings",-1)),d("span",cW,Z(a.value),1)]),d("div",uW,[D[17]||(D[17]=d("h4",{class:"cards-title"},"Total Careers",-1)),d("span",dW,Z(l.value),1)]),d("div",hW,[D[18]||(D[18]=d("h4",{class:"cards-title"},"Open Careers",-1)),d("span",fW,Z(c.value),1)]),d("div",pW,[D[19]||(D[19]=d("h4",{class:"cards-title"},"Closed Careers",-1)),d("span",gW,Z(u.value),1)])]),d("section",mW,[d("div",vW,[d("canvas",{id:S.value.id},null,8,bW),d("h3",null,Z(S.value.title),1)]),d("div",yW,[(M(!0),B(Ye,null,ct(I.value,N=>(M(),B("div",{key:N.id,class:"side-chart",onClick:ee=>ne(N)},[d("canvas",{id:N.id},null,8,_W),d("h4",null,Z(N.title),1)],8,wW))),128))])])])]))}}),kW=Pi(CW,[["__scopeId","data-v-a9952f18"]]),hc=le(null),Wa=le(null),od=le(null);let h2=null;async function c9(t){try{const e=localStorage.getItem("token");if(!e)throw new Error("No token found");const n=await Le.post("https://pathfinder-development-production.up.railway.app/api/trainings/generate-qr",{trainingID:t.trainingID},{headers:{Authorization:`Bearer ${e}`}});hc.value=`https://pathfinder-development-production.up.railway.app/api/attendance/checkin?trainingID=${t.trainingID}&key=${n.data.key}`,Wa.value=new Date(n.data.expires_at),od.value=t.trainingID,h2&&clearTimeout(h2);const s=new Date,i=Wa.value-s;i>0&&(h2=setTimeout(()=>{hc.value=null,Wa.value=null,od.value=null,console.log(`QR for "${t.title}" expired.`)},i)),console.log(` QR Generated for "${t.title}", expires at ${Wa.value}`)}catch(e){console.error("QR GENERATION FAILED:",e)}}function SW(t){const e=new Date,n=new Date(t.schedule),s=new Date(t.end_time);if(e>=n&&e<s)c9(t);else if(e<n){const i=n-e;setTimeout(()=>c9(t),i),console.log(`QR for "${t.title}" will generate in ${i/1e3}s`)}Wa.value&&e>=Wa.value&&(hc.value=null,Wa.value=null,od.value=null)}const AW={class:"organization-trainings"},LW={class:"avatar"},EW=["src"],TW={key:0,class:"profile-section"},PW={class:"org-name"},NW={class:"profile-actions"},IW={class:"content"},OW={class:"global-search-section"},DW={class:"flex justify-center my-6 px-4"},MW={class:"upcoming"},RW={class:"flex items-center justify-between"},$W={class:"section-title flex items-center gap-1"},jW={class:"count-badge"},BW={class:"trainings-grid"},FW=["onClick"],UW=["onClick"],zW={class:"training-title"},VW={class:"training-date"},HW={class:"menu"},qW=["onClick"],WW=["onClick"],GW=["onClick"],KW={class:"completed"},YW={class:"flex items-center justify-between"},ZW={class:"section-title flex items-center gap-1"},JW={class:"count-badge"},XW={class:"trainings-grid"},QW=["onClick"],eG=["onClick"],tG={class:"training-title"},nG={class:"training-date"},sG={class:"menu"},iG=["onClick"],rG=["onClick"],oG={class:"modal-content"},aG={class:"modal-title"},lG={class:"registrants-table-container"},cG=["onUpdate:modelValue"],uG={class:"registrant-certid"},dG={class:"registrant-name"},hG={class:"registration-date"},fG=["disabled","onClick"],pG={class:"modal-footer"},gG={class:"training-details-modal"},mG={class:"modal-title"},vG={class:"training-info"},bG={class:"training-info"},yG={class:"training-info"},wG={class:"training-info"},_G={key:0,class:"training-info"},xG={key:1,class:"training-info"},CG=["href"],kG={class:"training-actions"},SG={key:2,class:"qr-container"},AG={class:"certificate-modal"},LG={class:"cert-modal-header"},EG={class:"profile-avatar-wrapper"},TG=["src"],PG={key:1,class:"profile-avatar-placeholder"},NG={class:"registrant-name"},IG={class:"status"},OG={class:"date-registered"},DG={class:"cert-input-wrapper"},MG={class:"cert-input-wrapper file-input-wrapper"},RG={for:"certificate-upload",class:"cert-input upload-label"},$G={key:3,class:"training-popup-overlay"},jG={class:"training-popup"},BG={class:"training-popup-title"},FG={class:"popup-form-group schedule-group"},UG={class:"schedule-input-wrapper"},zG={class:"date-input-wrapper"},VG=["min"],HG={class:"time-input-wrapper"},qG={class:"date-input-wrapper"},WG={class:"time-input-wrapper"},GG={class:"date-input-wrapper"},KG={class:"training-radio-group"},YG={class:"relative mb-4"},ZG={class:"tag-list-wrapper"},JG={class:"tag-list"},XG=["onClick"],QG={key:0,class:"flex flex-wrap gap-2 mt-2"},eK=["onClick"],tK={type:"submit",class:"training-post-btn"},nK={components:{QrcodeVue:ll},data(){return{dictLogo:yr,globalSearchQuery:"",showAllUpcoming:!1,showAllCompleted:!1,activeTrainingQR:hc,activeTrainingId:od,isEditMode:!1,trainingToEditId:null,qrCodeValue:null,qrExpiresAt:null,activeTrainingId:null,selectAll:!1,showBulkCertModal:!1,certificateData:{certTrackingID:"",certGivenDate:"",file:null},selectedRegistrant:null,bulkCertData:{baseTrackingID:"",certGivenDate:"",certificates:[]},openUpcomingMenu:null,openCompletedMenu:null,showTrainingDetailsModal:!1,selectedTraining:{},registrantsList:[],showRegistrantsModal:!1,showCertUploadModal:!1,selectedRegistrant:{name:"",dateRegistered:"",img:"",certificateTrackingID:"",certificateGivenDate:"",uploadedFile:null},upcomingtrainings:[],completedtrainings:[],showTrainingPopup:!1,newTraining:{title:"",description:"",date:"",startTime:"",endTime:"",mode:"",location:"",trainingLink:"",Tags:[]},QrcodeVue:"",qrExpiresAt:"",activeTrainingId:null,tagOptions:[],newTagName:""}},methods:{async issueCertificate(t){try{if(t.hasCertificate)return;const e=new Date().toISOString().split("T")[0],n=new ot({orientation:"landscape",unit:"pt",format:"a4"}),s=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),r=[{text:"Certificate of Completion",size:28},{text:`This is to certify that ${t.name}`,size:22},{text:`has completed the training: ${this.selectedTraining.title}`,size:18},{text:`Certificate Tracking ID: ${t.id}`,size:14},{text:`Date Issued: ${e}`,size:14}],o=r.reduce((m,b)=>m+b.size+10,0);let a=(i-o)/2;r.forEach(m=>{n.setFontSize(m.size),n.text(m.text,s/2,a,null,null,"center"),a+=m.size+10});const l=n.output("blob"),c=t.name.replace(/[/\\?%*:|"<>]/g,"_"),u=new File([l],`${c}.pdf`,{type:"application/pdf"}),h=await Pp(u);if(!h)throw new Error("Failed to upload certificate");console.log("Certificate public URL:",h);const p=localStorage.getItem("token"),f=new FormData;f.append("certificateTrackingID",t.id),f.append("certificateGivenDate",e),f.append("certificateFilePath",h),await Le.put(`https://pathfinder-development-production.up.railway.app/api/registrations/${t.id}/certificate`,f,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"multipart/form-data"}}),t.hasCertificate=!0,t.certificateTrackingID=t.id,alert(`Certificate issued for ${t.name}!`)}catch(e){console.error("Error issuing certificate:",e),alert(`Failed to issue certificate for ${t.name}.`)}},async issueBulkCertificates(t){try{const e=`CERT-${Date.now()}`,n=new Date().toISOString().split("T")[0],s=await Promise.all(t.map(async r=>{const o=new ot;o.setFontSize(20),o.text("Certificate of Completion",105,40,null,null,"center"),o.setFontSize(14),o.text(`This is to certify that ${r.name}`,105,60,null,null,"center"),o.text(`has completed the training: ${this.selectedTraining.title}`,105,70,null,null,"center");const a=o.output("blob"),l=new File([a],`${r.name}.pdf`,{type:"application/pdf"});return{filePath:await Pp(l)}})),i=localStorage.getItem("token");await Le.put(`https://pathfinder-development-production.up.railway.app/api/registrations/${this.selectedTraining.id}/bulk-certificates`,{baseTrackingID:e,certGivenDate:n,certificates:s},{headers:{Authorization:`Bearer ${i}`}}),alert("Bulk certificates issued successfully!")}catch(e){console.error("Error issuing bulk certificates:",e),alert("Failed to issue bulk certificates.")}},async issueCertificatesToSelected(){const t=this.registrantsList.filter(e=>e.selected&&!e.hasCertificate);if(!t.length)return alert("No selected registrants or all already issued.");try{const e=new Date().toISOString().split("T")[0],n=`CERT-${Date.now()}`,s=[];for(const r of t){const o=new ot;o.setFontSize(20),o.text("Certificate of Completion",105,40,null,null,"center"),o.setFontSize(14),o.text(`This is to certify that ${r.name}`,105,60,null,null,"center"),o.text(`has completed the training: ${this.selectedTraining.title}`,105,70,null,null,"center"),o.text(`Certificate Tracking ID: ${r.id}`,105,90,null,null,"center"),o.text(`Date Issued: ${e}`,105,100,null,null,"center");const a=o.output("blob"),l=new File([a],`${r.id}.pdf`,{type:"application/pdf"}),c=await Pp(l);if(!c)throw new Error(`Failed to upload certificate for ${r.name}`);s.push({filePath:c})}const i=localStorage.getItem("token");await Le.post(`https://pathfinder-development-production.up.railway.app/api/trainings/${this.selectedTraining.trainingID}/certificates/bulk`,{baseTrackingID:n,certGivenDate:e,certificates:s},{headers:{Authorization:`Bearer ${i}`}}),t.forEach(r=>{r.hasCertificate=!0,r.certificateTrackingID=r.id}),alert("Certificates issued successfully!")}catch(e){console.error("Bulk issuance error:",e),alert("Failed to issue certificates.")}},toggleSelectAll(){this.registrantsList.forEach(t=>{t.selected=this.selectAll})},updateSelectAll(){this.selectAll=this.registrantsList.every(t=>t.selected)},openBulkCertModal(){const t=this.registrantsList.filter(e=>!e.hasCertificate);if(t.length===0){alert("All registrants already have certificates.");return}this.bulkCertData={baseTrackingID:"",certGivenDate:"",certificates:new Array(t.length).fill(null)},this.showBulkCertModal=!0},closeBulkCertModal(){this.showBulkCertModal=!1,this.bulkCertData={baseTrackingID:"",certGivenDate:"",certificates:[]}},handleBulkFileUpload(t,e){this.bulkCertData.certificates[e]=t.target.files[0],this.$forceUpdate()},async sendBulkCertificates(){const t=localStorage.getItem("token");if(!t){alert("Please log in to continue.");return}try{const e=new FormData;e.append("baseTrackingID",this.bulkCertData.baseTrackingID),e.append("certGivenDate",this.bulkCertData.certGivenDate),this.bulkCertData.certificates.forEach((s,i)=>{if(!s)throw new Error(`Please upload a certificate file for all registrants. Missing file at index ${i}`);e.append(`certificates[${i}]`,s)});const n=await Le.post(`https://pathfinder-development-production.up.railway.app/apitrainings/${this.selectedTraining.trainingID}/certificates/bulk`,e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});alert("Certificates issued successfully to all registrants!"),this.closeBulkCertModal(),await this.openRegistrantsModal(this.selectedTraining)}catch(e){console.error("Error issuing bulk certificates:",e),e.response?alert(e.response.data.message||"Failed to issue certificates."):alert(e.message||"An error occurred while issuing certificates.")}},async fetchTags(){try{const t=await Le.get("https://pathfinder-development-production.up.railway.app/api/tags");this.tagOptions=t.data}catch(t){console.error("Error fetching tags:",t)}},toggleTag(t){const e=Number(t),n=this.newTraining.Tags.indexOf(e);n>-1?this.newTraining.Tags.splice(n,1):this.newTraining.Tags.push(e)},isTagSelected(t){const e=Number(t);return this.newTraining.Tags.includes(e)},removeTag(t){const e=Number(t),n=this.newTraining.Tags.indexOf(e);n>-1&&this.newTraining.Tags.splice(n,1)},async addTag(){const t=this.newTagName.trim();if(t)try{const e=await Le.post("https://pathfinder-development-production.up.railway.app/api/tags",{TagName:t});this.tagOptions.push(e.data),this.newTraining.Tags.push(Number(e.data.TagID)),this.newTagName="",alert("Tag added successfully!")}catch(e){console.error("Error adding tag:",e),alert("Failed to add tag.")}else alert("Please enter a tag name.")},async sendCertificateDetails(){if(!this.selectedRegistrant||!this.selectedRegistrant.id){console.error("No registrant ID found!");return}const t=new FormData;t.append("certificateTrackingID",this.selectedRegistrant.certificateTrackingID),t.append("certificateGivenDate",this.selectedRegistrant.certificateGivenDate),this.selectedRegistrant.uploadedFile&&t.append("file",this.selectedRegistrant.uploadedFile);try{const e=await Le.put(`https://pathfinder-development-production.up.railway.app/api/registrations/${this.selectedRegistrant.id}/certificate`,t,{headers:{"Content-Type":"multipart/form-data"}});console.log("Certificate uploaded successfully",e.data),this.showCertUploadModal=!1}catch(e){console.error("Error uploading certificate: ",e)}},getTagName(t){const e=Number(t),n=this.tagOptions.find(s=>Number(s.TagID)===e);return n?n.TagName:e},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},handleViewRegistrants(t){if(!t){console.error(" handleViewRegistrants called without training");return}this.openRegistrantsModal(t)},toggleUpcomingMenu(t){this.openUpcomingMenu=this.openUpcomingMenu===t?null:t,this.openCompletedMenu=null},closeModal(){this.showRegistrantsModal=!1},toggleCompletedMenu(t){this.openCompletedMenu=this.openCompletedMenu===t?null:t,this.openUpcomingMenu=null},closeAllMenus(){this.openUpcomingMenu=null,this.openCompletedMenu=null},handleOutsideClick(t){t.target.closest(".menu")||this.closeAllMenus()},async openRegistrantsModal(t){try{this.selectedTraining=t;const e=localStorage.getItem("token");if(!e){console.error("No token found. Please log in first."),alert("You must log in to view registrants.");return}const n=await Le.get(`https://pathfinder-development-production.up.railway.app/api/trainings/${t.trainingID}/registrants`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});this.registrantsList=n.data,this.showRegistrantsModal=!0,this.closeAllMenus()}catch(e){e.response?(console.error("Error fetching registrants:",e.response.status,e.response.data),e.response.status===401?alert("Unauthorized. Please log in again."):e.response.status===403?alert("You don't have permission to view registrants for this training."):e.response.status===404?alert("Training not found or you don't have access to it."):alert("Failed to fetch registrants. Please try again.")):(console.error("Network or other error:",e.message),alert("An error occurred while fetching registrants."))}},closeRegistrantsModal(){this.showRegistrantsModal=!1,this.registrantsList=[]},openCertUploadModal(t){console.log("REGISTRANT DATA:",t),this.selectedRegistrant={...t,certificateTrackingID:t.id||"",certificateGivenDate:t.certificateGivenDate||"",uploadedFile:null},console.log("SELECTED REGISTRANT:",this.selectedRegistrant),this.showCertUploadModal=!0},closeCertUploadModal(){this.showCertUploadModal=!1,this.selectedRegistrant={name:"",dateRegistered:"",img:""}},handleFileUpload(t){this.selectedRegistrant.uploadedFile=t.target.files[0]},sendCertificateDetails(){if(!this.selectedRegistrant.uploadedFile){alert("Please select a certificate file before sending.");return}this.sendCertificate(this.selectedRegistrant.uploadedFile,this.selectedRegistrant.id).then(()=>{this.closeCertUploadModal()}).catch(t=>{console.error(t),alert("Failed to send certificate.")})},dismissModal(){this.showCertUploadModal=!1,this.selectedRegistrant=null},openTrainingDetails(t){this.selectedTraining=t,this.showTrainingDetailsModal=!0,this.closeAllMenus()},closeTrainingDetails(){this.showTrainingDetailsModal=!1},handleViewRegistrants(t){this.closeTrainingDetails(),this.openRegistrantsModal(t)},async fetchTrainings(){try{const t=localStorage.getItem("user"),e=t?JSON.parse(t):null,n=e?.organizationID??e?.organization?.organizationID??null;let s=[];try{const{data:i}=await Ui.get("/organization/trainings");s=i}catch(i){console.warn("Org trainings endpoint unavailable, falling back:",i?.response?.status);const r=localStorage.getItem("user"),o=r?JSON.parse(r):null,a=o?.organizationID??o?.organization?.organizationID??null,{data:l}=await Ui.get("/trainings",{params:a?{organizationID:a}:{}});s=l}s.forEach(i=>{const r=this.upcomingtrainings.findIndex(o=>o.trainingID===i.trainingID);r>-1?this.upcomingtrainings[r]={...this.upcomingtrainings[r],...i}:this.upcomingtrainings.push(i),SW(i)})}catch(t){console.error("Error fetching trainings:",t)}},openTrainingPopup(){this.showTrainingPopup=!0,this.fetchTags()},async openTrainingPopup(t=null){await this.fetchTags(),t?(this.isEditMode=!0,this.trainingToEditId=t.trainingID,this.newTraining={...t,Tags:t.Tags?t.Tags.map(e=>Number(e.TagID??e.tagID??e.id)):[]}):(this.isEditMode=!1,this.newTraining={title:"",description:"",date:"",startTime:"",endTime:"",mode:"",location:"",trainingLink:"",Tags:[]}),Array.isArray(this.newTraining.Tags)||(this.newTraining.Tags=[]),this.showTrainingPopup=!0},closeTrainingPopup(){this.showTrainingPopup=!1,this.newTraining={title:"",description:"",date:"",startTime:"",endTime:"",mode:"",location:"",trainingLink:"",Tags:[]},this.newTagName=""},async updateTraining(t){const e=this.upcomingtrainings.find(s=>s.trainingID===t);if(!e){alert("Training not found.");return}const n=e.schedule?.includes("T")?e.schedule.split("T"):e.schedule?.split(" ")||[];this.newTraining.title=e.title,this.newTraining.description=e.description,this.newTraining.date=n[0]||"",this.newTraining.startTime=n[1]?.slice(0,5)||"",this.newTraining.endTime=e.end_time?(e.end_time.includes("T")?e.end_time.split("T")[1]:e.end_time.split(" ")[1])?.slice(0,5):"",this.newTraining.mode=e.mode,this.newTraining.location=e.location||"",this.newTraining.trainingLink=e.training_link||"",await this.fetchTags(),this.newTraining.Tags=e.Tags?e.Tags.map(s=>Number(s.TagID??s.tagID??s.id)):[],Array.isArray(this.newTraining.Tags)||(this.newTraining.Tags=[]),this.isEditMode=!0,this.trainingToEditId=t,this.showTrainingPopup=!0,this.closeAllMenus(),console.log("Prefilled training:",this.newTraining)},async saveTraining(){try{if(!this.newTraining.date||!this.newTraining.startTime){alert("PLEASE SELECT BOTH A DATE AND TIME FOR THE TRAINING");return}const t=`${this.newTraining.date} ${this.newTraining.startTime}`,e=this.newTraining.endTime?`${this.newTraining.date} ${this.newTraining.endTime}`:null,n={title:this.newTraining.title,description:this.newTraining.description,schedule:t,end_time:e,mode:this.newTraining.mode,location:this.newTraining.mode==="On-Site"&&this.newTraining.location||null,training_link:this.newTraining.mode==="Online"&&this.newTraining.trainingLink||null,Tags:this.newTraining.Tags||[]},s=localStorage.getItem("token");this.isEditMode&&this.trainingToEditId?(await Le.put(`https://pathfinder-development-production.up.railway.app/api/trainings/${this.trainingToEditId}`,n,{headers:{Authorization:`Bearer ${s}`}}),alert(" TRAINING UPDATED SUCCESSFULLY!")):(await Le.post("https://pathfinder-development-production.up.railway.app/api/trainings",n,{headers:{Authorization:`Bearer ${s}`}}),alert(" TRAINING POSTED SUCCESSFULLY!")),await this.fetchTrainings(),this.closeTrainingPopup(),this.isEditMode=!1,this.trainingToEditId=null}catch(t){console.error("ERROR SAVING TRAINING:",t.response?.data||t),alert(" SOMETHING WENT WRONG WHILE SAVING THE TRAINING")}},async deleteTraining(t){try{if(!confirm("Are you sure you want to delete this training?"))return;const e=localStorage.getItem("token");await Le.delete(`https://pathfinder-development-production.up.railway.app/api/trainings/${t}`,{headers:{Authorization:`Bearer ${e}`}}),alert(" Training deleted successfully!"),await this.fetchTrainings(),this.activeTrainingId===t&&(this.qrCodeValue=null,this.qrExpiresAt=null,this.activeTrainingId=null,this.qrExpireTimeout&&clearTimeout(this.qrExpireTimeout))}catch(e){console.error("Failed to delete training:",e.response?.data||e),alert(" Something went wrong while deleting the training.")}},formatSchedule(t){if(!t)return"No schedule set";try{const[e,n]=t.split(/[ T]/),[s,i,r]=e.split("-"),[o,a,l]=(n||"00:00:00").split(":");return new Date(Number(s),Number(i)-1,Number(r),Number(o),Number(a),Number(l||0)).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return t}}},mounted(){this.fetchTrainings(),document.addEventListener("click",this.handleOutsideClick),this.trainingPollInterval=setInterval(()=>{this.fetchTrainings()},3e4)},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick)},computed:{todayDate(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`},visibleUpcomingTrainings(){const t=this.sortedUpcomingTrainings;return this.showAllUpcoming?t:t.slice(0,4)},visibleCompletedTrainings(){const t=this.sortedCompletedTrainings;return this.showAllCompleted?t:t.slice(0,4)},sortedUpcomingTrainings(){const t=new Date;return this.upcomingtrainings.filter(e=>new Date(e.schedule)>=t).sort((e,n)=>new Date(e.schedule)-new Date(n.schedule))},sortedCompletedTrainings(){const t=new Date;return this.upcomingtrainings.filter(e=>new Date(e.schedule)<t).sort((e,n)=>new Date(n.schedule)-new Date(e.schedule))},filteredUpcoming(){const t=this.globalSearchQuery.toLowerCase();return t?this.sortedUpcomingTrainings.filter(e=>e.title.toLowerCase().startsWith(t)):this.sortedUpcomingTrainings},filteredCompleted(){const t=this.globalSearchQuery.toLowerCase();return t?this.sortedCompletedTrainings.filter(e=>e.title.toLowerCase().startsWith(t)):this.sortedCompletedTrainings},visibleFilteredUpcoming(){return this.showAllUpcoming?this.filteredUpcoming:this.filteredUpcoming.slice(0,4)},visibleFilteredCompleted(){return this.showAllCompleted?this.filteredCompleted:this.filteredCompleted.slice(0,4)},visibleUpcomingTrainings(){const t=this.currentOrganizationId,e=this.sortedUpcomingTrainings.filter(n=>n.organization_id===t);return this.showAllUpcoming?e:e.slice(0,4)},visibleCompletedTrainings(){const t=this.currentOrganizationId,e=this.sortedCompletedTrainings.filter(n=>n.organization_id===t);return this.showAllCompleted?e:e.slice(0,4)},sortedUpcomingTrainings(){const t=new Date;return this.upcomingtrainings.filter(e=>new Date(e.schedule)>=t).sort((e,n)=>new Date(e.schedule)-new Date(n.schedule))},sortedCompletedTrainings(){const t=new Date;return this.upcomingtrainings.filter(e=>new Date(e.schedule)<t).sort((e,n)=>new Date(n.schedule)-new Date(e.schedule))}}},sK=Object.assign(nK,{__name:"OrganizationTrainings",setup(t){const e=le(!0),n=le(""),s=le(new Date),i=()=>{e.value=!e.value},r=js(),o=c=>{r.push(c)};function a(c){const u=new Date(c.schedule);return s.value<=u}setInterval(()=>{s.value=new Date},6e4),It(()=>{const c=localStorage.getItem("user");if(c){const u=JSON.parse(c);u.role==="organization"&&(n.value=u.displayName||u.name)}});const l=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),r.push({name:"Login"})};return(c,u)=>(M(),B("div",AW,[d("button",{class:ft(["hamburger",{open:e.value,shifted:e.value}]),onClick:i},u[38]||(u[38]=[d("span",null,null,-1),d("span",null,null,-1),d("span",null,null,-1)]),2),wt(Li,{name:"slide"},{default:Wn(()=>[d("aside",{class:ft(["sidebar",{collapsed:!e.value}])},[u[45]||(u[45]=d("div",{class:"space"},null,-1)),d("div",LW,[d("img",{src:qt(yr),alt:"DICT Logo",class:"avatar-img"},null,8,EW)]),wt(Li,{name:"fade"},{default:Wn(()=>[e.value?(M(),B("div",TW,[d("h3",PW,Z(n.value),1),d("div",NW,[d("div",{class:"action",onClick:u[0]||(u[0]=h=>o({name:"OrgUpdateProfile"}))},u[39]||(u[39]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M11.7278 8.27191C12.7534 9.87525 14.1247 11.2375 15.7464 12.2534L8.85673 19.144C8.43166 19.569 8.21841 19.7816 7.95731 19.9213C7.69637 20.0609 7.40171 20.1199 6.81278 20.2377L3.73563 20.853C3.40302 20.9195 3.23649 20.9525 3.14188 20.8578C3.04759 20.7632 3.08035 20.5971 3.14677 20.2651L3.76298 17.1879C3.88087 16.5985 3.93965 16.3035 4.07938 16.0424C4.21912 15.7814 4.43173 15.569 4.85673 15.144L11.7278 8.27191ZM16.1116 4.03656C16.6711 3.75929 17.3284 3.75931 17.888 4.03656C18.1821 4.18229 18.455 4.45518 19.0003 5.00043C19.5453 5.54545 19.8184 5.81774 19.9641 6.11175C20.2414 6.67123 20.2413 7.32861 19.9641 7.88812C19.8184 8.18221 19.5455 8.45517 19.0003 9.00043L17.2034 10.7963C15.5308 9.84498 14.1456 8.46859 13.1819 6.81781L15.0003 5.00043C15.5453 4.45539 15.8176 4.18234 16.1116 4.03656Z",fill:"#FFFDFD"})],-1),d("span",null,"Update Profile",-1)]))])])):Ce("",!0)]),_:1}),d("div",{class:"icon",onClick:u[1]||(u[1]=h=>o("/organization"))},u[40]||(u[40]=[d("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M6.25 17.0585C6.25 16.0494 6.25 15.5448 6.47166 15.1141C6.69333 14.6833 7.1039 14.3901 7.92505 13.8035L13.8375 9.58034C14.3989 9.17938 14.6795 8.9789 15 8.9789C15.3205 8.9789 15.6011 9.17938 16.1625 9.58034L22.075 13.8035C22.8961 14.3901 23.3067 14.6833 23.5283 15.1141C23.75 15.5448 23.75 16.0494 23.75 17.0585V24.25C23.75 25.1928 23.75 25.6642 23.4571 25.9571C23.1642 26.25 22.6928 26.25 21.75 26.25H8.25C7.30719 26.25 6.83579 26.25 6.54289 25.9571C6.25 25.6642 6.25 25.1928 6.25 24.25V17.0585Z",fill:"white"}),d("path",{d:"M3.75 15.6366C3.75 15.9035 3.75 16.0369 3.8341 16.0781C3.91819 16.1192 4.02352 16.0373 4.23418 15.8734L13.7721 8.45502C14.362 7.99625 14.6569 7.76686 15 7.76686C15.3431 7.76686 15.638 7.99625 16.2279 8.45502L25.7658 15.8734C25.9765 16.0373 26.0818 16.1192 26.1659 16.0781C26.25 16.0369 26.25 15.9035 26.25 15.6366V14.7282C26.25 14.2478 26.25 14.0076 26.1483 13.7997C26.0466 13.5918 25.857 13.4444 25.4779 13.1495L16.2279 5.95502C15.638 5.49625 15.3431 5.26686 15 5.26686C14.6569 5.26686 14.362 5.49625 13.7721 5.95502L4.52212 13.1495C4.14295 13.4444 3.95337 13.5918 3.85168 13.7997C3.75 14.0076 3.75 14.2478 3.75 14.7282V15.6366Z",fill:"white"}),d("path",{d:"M16.125 18.75H13.875C12.7704 18.75 11.875 19.6454 11.875 20.75V26.1C11.875 26.1828 11.9422 26.25 12.025 26.25H17.975C18.0578 26.25 18.125 26.1828 18.125 26.1V20.75C18.125 19.6454 17.2296 18.75 16.125 18.75Z",fill:"white"}),d("rect",{x:"20",y:"6.25",width:"2.5",height:"5",rx:"0.5",fill:"white"})],-1),d("span",null,"Home",-1)])),d("div",{class:"icon",onClick:u[2]||(u[2]=h=>o({name:"OrgTrainings"}))},u[41]||(u[41]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.5837 3.625C23.4119 3.625 24.8261 3.62526 25.7048 4.50391C26.5833 5.3826 26.5837 6.79675 26.5837 9.625V19.375C26.5837 22.2033 26.5833 23.6174 25.7048 24.4961C24.8261 25.3747 23.4119 25.375 20.5837 25.375H8.41666C5.58824 25.375 4.17425 25.3748 3.29557 24.4961C2.41689 23.6174 2.41666 22.2034 2.41666 19.375V9.625C2.41666 6.79657 2.41689 5.38259 3.29557 4.50391C4.17425 3.62523 5.58824 3.625 8.41666 3.625H20.5837ZM9.66666 12.292C9.11438 12.292 8.66666 12.7397 8.66666 13.292V20.542L8.67155 20.6445C8.72303 21.1485 9.1491 21.542 9.66666 21.542C10.1842 21.542 10.6103 21.1485 10.6618 20.6445L10.6667 20.542V13.292C10.6667 12.7397 10.2189 12.292 9.66666 12.292ZM19.3337 9.875C18.7814 9.875 18.3337 10.3227 18.3337 10.875V20.542L18.3385 20.6436C18.3896 21.148 18.8158 21.542 19.3337 21.542C19.8514 21.5418 20.2778 21.1479 20.3288 20.6436L20.3337 20.542V10.875C20.3337 10.3228 19.8858 9.87518 19.3337 9.875ZM14.4997 14.708C13.9476 14.7082 13.4998 15.156 13.4997 15.708V20.541L13.5046 20.6436C13.5557 21.1477 13.982 21.5408 14.4997 21.541C15.0175 21.541 15.4436 21.1478 15.4948 20.6436L15.4997 20.541V15.708C15.4995 15.1559 15.0518 14.708 14.4997 14.708Z",fill:"white"})],-1),d("span",null,"Trainings",-1)])),d("div",{class:"icon",onClick:u[3]||(u[3]=h=>o({name:"OrgCareers"}))},u[42]||(u[42]=[d("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M22.8798 11.0484C23.4046 10.8642 23.9845 11.1431 24.1081 11.6855C24.4792 13.3134 24.4217 15.0018 23.9268 16.6191C23.4739 18.0989 22.6698 19.4685 21.5787 20.6449C21.2148 21.0372 20.6017 21.0197 20.2239 20.6408L14.9487 15.3495C14.4292 14.8284 14.6314 13.9436 15.3257 13.6999L22.8798 11.0484ZM13 4.0826C13 3.50231 13.4932 3.04057 14.0672 3.12592C15.8633 3.39302 17.5788 4.00579 19.085 4.93161C20.3794 5.72731 21.4793 6.72976 22.3343 7.87824C22.709 8.38157 22.4513 9.07932 21.8592 9.28718L14.3313 11.9301C13.6809 12.1584 13 11.6758 13 10.9865V4.0826Z",fill:"white"}),d("path",{d:"M11.9511 13.2908C11.9512 13.5763 12.0581 13.8518 12.25 14.0632L19.2677 21.7886C19.6714 22.233 19.5963 22.9337 19.0759 23.2331C18.245 23.7112 17.354 24.0924 16.4209 24.365C14.5402 24.9144 12.5476 25.0087 10.6201 24.6394C8.69236 24.2701 6.88846 23.4478 5.36911 22.2468C3.84993 21.0459 2.66126 19.5025 1.90915 17.7537C1.15711 16.0048 0.864996 14.1043 1.05759 12.2205C1.25024 10.3365 1.92171 8.52693 3.01364 6.95288C4.1056 5.37884 5.58398 4.08845 7.31735 3.19605C8.43484 2.62073 9.63633 2.22318 10.8757 2.01305C11.4515 1.91541 11.9511 2.37876 11.9511 2.96284V13.2908Z",fill:"white"})],-1),d("span",null,"Career",-1)])),d("div",{class:"icon",onClick:u[4]||(u[4]=h=>o({name:"OrgCalendar"}))},u[43]||(u[43]=[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M2.16675 9.4165C2.16675 7.53089 2.16675 6.58808 2.75253 6.00229C3.33832 5.4165 4.28113 5.4165 6.16675 5.4165H19.8334C21.719 5.4165 22.6618 5.4165 23.2476 6.00229C23.8334 6.58808 23.8334 7.53089 23.8334 9.4165V9.83317C23.8334 10.3046 23.8334 10.5403 23.687 10.6867C23.5405 10.8332 23.3048 10.8332 22.8334 10.8332H3.16675C2.69534 10.8332 2.45964 10.8332 2.31319 10.6867C2.16675 10.5403 2.16675 10.3046 2.16675 9.83317V9.4165Z",fill:"white"}),d("path",{d:"M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833ZM8.58301 19.5C8.11182 19.5 7.87591 19.5001 7.72949 19.6465C7.58321 19.7929 7.58301 20.0288 7.58301 20.5V20.667C7.58301 21.1382 7.58308 21.3741 7.72949 21.5205C7.87591 21.6669 8.11182 21.667 8.58301 21.667H10.917C11.3882 21.667 11.6241 21.6669 11.7705 21.5205C11.9169 21.3741 11.917 21.1382 11.917 20.667V20.5C11.917 20.0288 11.9168 19.7929 11.7705 19.6465C11.6241 19.5001 11.3882 19.5 10.917 19.5H8.58301ZM15.083 19.5C14.6118 19.5 14.3759 19.5001 14.2295 19.6465C14.0832 19.7929 14.083 20.0288 14.083 20.5V20.667C14.083 21.1382 14.0831 21.3741 14.2295 21.5205C14.3759 21.6669 14.6118 21.667 15.083 21.667H17.417C17.8882 21.667 18.1241 21.6669 18.2705 21.5205C18.4169 21.3741 18.417 21.1382 18.417 20.667V20.5C18.417 20.0288 18.4168 19.7929 18.2705 19.6465C18.1241 19.5001 17.8882 19.5 17.417 19.5H15.083ZM8.58301 15.167C8.11182 15.167 7.87591 15.1671 7.72949 15.3135C7.58337 15.4599 7.58301 15.6959 7.58301 16.167V16.333C7.58301 16.8041 7.58337 17.0401 7.72949 17.1865C7.87591 17.3329 8.11182 17.333 8.58301 17.333H10.917C11.3882 17.333 11.6241 17.3329 11.7705 17.1865C11.9166 17.0401 11.917 16.8041 11.917 16.333V16.167C11.917 15.6959 11.9166 15.4599 11.7705 15.3135C11.6241 15.1671 11.3882 15.167 10.917 15.167H8.58301ZM15.083 15.167C14.6118 15.167 14.3759 15.1671 14.2295 15.3135C14.0834 15.4599 14.083 15.6959 14.083 16.167V16.333C14.083 16.8041 14.0834 17.0401 14.2295 17.1865C14.3759 17.3329 14.6118 17.333 15.083 17.333H17.417C17.8882 17.333 18.1241 17.3329 18.2705 17.1865C18.4166 17.0401 18.417 16.8041 18.417 16.333V16.167C18.417 15.6959 18.4166 15.4599 18.2705 15.3135C18.1241 15.1671 17.8882 15.167 17.417 15.167H15.083Z",fill:"white"}),d("path",{d:"M7.58325 3.25L7.58325 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),d("path",{d:"M18.4167 3.25L18.4167 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),d("span",null,"Calendar",-1)])),u[46]||(u[46]=d("div",{class:"spacer"},null,-1)),d("div",{class:"icon signout",onClick:l},u[44]||(u[44]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d("polyline",{points:"16 17 21 12 16 7"}),d("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),d("span",null,"Sign Out",-1)]))],2)]),_:1}),d("main",IW,[u[74]||(u[74]=d("header",{class:"topbar"},[d("div",{class:"Pathfinder-wrapper"},[d("span",{class:"logo-text"},"Pathfinder")])],-1)),d("section",OW,[d("div",DW,[Ue(d("input",{type:"text","onUpdate:modelValue":u[5]||(u[5]=h=>c.globalSearchQuery=h),placeholder:"Search trainings...",class:"global-search-bar text-black px-4 py-2 border rounded-lg w-full sm:w-3/4 md:w-1/2 lg:w-1/3"},null,512),[[We,c.globalSearchQuery]])])]),d("section",MW,[d("div",RW,[d("h2",$W,[u[47]||(u[47]=Re(" Upcoming Trainings ")),d("span",jW,Z(c.sortedUpcomingTrainings.length),1)]),d("button",{class:"plus-btn-text",onClick:u[6]||(u[6]=h=>c.openTrainingPopup())},"+")]),d("div",BW,[(M(!0),B(Ye,null,ct(c.visibleFilteredUpcoming,h=>(M(),B("div",{key:h.trainingID,class:"training-card",onClick:p=>c.openTrainingDetails(h)},[d("div",{class:"training-right",onClick:p=>c.openTrainingDetails(h)},[d("h3",zW,Z(h.title),1),d("p",VW,Z(c.formatSchedule(h.schedule)),1)],8,UW),d("div",HW,[d("div",{class:"menu-icon",onClick:vt(p=>c.toggleUpcomingMenu(h.trainingID),["stop"])},"  ",8,qW),c.openUpcomingMenu===h.trainingID?(M(),B("div",{key:0,class:"dropdown-menu",onClick:u[7]||(u[7]=vt(()=>{},["stop"]))},[d("ul",null,[d("li",{onClick:p=>c.deleteTraining(h.trainingID)},"Delete Training",8,WW),d("li",{onClick:p=>c.updateTraining(h.trainingID)},"Update Training",8,GW)])])):Ce("",!0)])],8,FW))),128))]),c.sortedUpcomingTrainings.length>4?(M(),B("button",{key:0,class:"show-more-btn",onClick:u[8]||(u[8]=h=>c.showAllUpcoming=!c.showAllUpcoming)},Z(c.showAllUpcoming?"Show Less":"Show More"),1)):Ce("",!0)]),d("section",KW,[d("div",YW,[d("h2",ZW,[u[48]||(u[48]=Re(" Completed Trainings ")),d("span",JW,Z(c.sortedCompletedTrainings.length),1)])]),d("div",XW,[(M(!0),B(Ye,null,ct(c.visibleFilteredCompleted,h=>(M(),B("div",{key:h.trainingID,class:"training-card",onClick:p=>c.openTrainingDetails(h)},[d("div",{class:"training-right",onClick:p=>c.openTrainingDetails(h)},[d("h3",tG,Z(h.title),1),d("p",nG,Z(c.formatSchedule(h.schedule)),1)],8,eG),d("div",sG,[d("div",{class:"menu-icon",onClick:vt(p=>c.toggleCompletedMenu(h.trainingID),["stop"])},"  ",8,iG),c.openCompletedMenu===h.trainingID?(M(),B("div",{key:0,class:"dropdown-menu",onClick:u[9]||(u[9]=vt(()=>{},["stop"]))},[d("ul",null,[d("li",{onClick:p=>c.deleteTraining(h.trainingID)},"Delete Training",8,rG)])])):Ce("",!0)])],8,QW))),128))]),c.sortedCompletedTrainings.length>4?(M(),B("button",{key:0,class:"show-more-btn",onClick:u[10]||(u[10]=h=>c.showAllCompleted=!c.showAllCompleted)},Z(c.showAllCompleted?"Show Less":"Show More"),1)):Ce("",!0)]),c.showRegistrantsModal?(M(),B("div",{key:0,class:"modal-overlay",onClick:u[15]||(u[15]=vt((...h)=>c.closeModal&&c.closeModal(...h),["self"]))},[d("div",oG,[d("button",{class:"modal-close-btn",onClick:u[11]||(u[11]=(...h)=>c.closeModal&&c.closeModal(...h))},""),d("h3",aG,"Registrants for "+Z(c.selectedTraining.title),1),d("div",lG,[d("table",null,[d("thead",null,[d("tr",null,[d("th",null,[Ue(d("input",{type:"checkbox","onUpdate:modelValue":u[12]||(u[12]=h=>c.selectAll=h),onChange:u[13]||(u[13]=(...h)=>c.toggleSelectAll&&c.toggleSelectAll(...h))},null,544),[[Uu,c.selectAll]])]),u[49]||(u[49]=d("th",null,"CERTIFICATE TRACKING ID",-1)),u[50]||(u[50]=d("th",null,"FULL NAME",-1)),u[51]||(u[51]=d("th",null,"REGISTRATION DATE",-1)),u[52]||(u[52]=d("th",null,"STATUS",-1)),u[53]||(u[53]=d("th",{class:"cert-col-header"},"CERTIFICATE",-1))])]),d("tbody",null,[(M(!0),B(Ye,null,ct(c.registrantsList,h=>(M(),B("tr",{key:h.id},[d("td",null,[Ue(d("input",{type:"checkbox","onUpdate:modelValue":p=>h.selected=p},null,8,cG),[[Uu,h.selected]])]),d("td",null,[d("p",uG,Z(h.id),1)]),d("td",null,[d("p",dG,Z(h.name),1)]),d("td",null,[d("p",hG,Z(h.dateRegistered),1)]),d("td",{class:ft({"status-attended":h.status==="Attended","status-registered":h.status==="Registered","status-did-not-attend":h.status==="Did not Attend"})},Z(h.status),3),d("td",null,[d("button",{class:ft(["action-btn",h.hasCertificate?"certificate-issued-btn":"issue-cert-btn"]),disabled:h.hasCertificate,onClick:p=>c.issueCertificate(h)},Z(h.hasCertificate?"Certificate Issued":"Issue Certificate"),11,fG)])]))),128))])])]),d("div",pG,[d("button",{class:"bulk-issue-btn",onClick:u[14]||(u[14]=(...h)=>c.issueCertificatesToSelected&&c.issueCertificatesToSelected(...h))}," Issue Certificates to Selected ")])])])):Ce("",!0),c.showTrainingDetailsModal?(M(),B("div",{key:1,class:"modal-overlay",onClick:u[18]||(u[18]=vt((...h)=>c.closeTrainingDetails&&c.closeTrainingDetails(...h),["self"]))},[d("div",gG,[d("button",{class:"modal-close-btn",onClick:u[16]||(u[16]=(...h)=>c.closeTrainingDetails&&c.closeTrainingDetails(...h))},""),d("h3",mG,Z(c.selectedTraining.title),1),d("p",vG,[u[54]||(u[54]=d("strong",null,"Description:",-1)),Re(" "+Z(c.selectedTraining.description),1)]),d("p",bG,[u[55]||(u[55]=d("strong",null,"Date and Start Time:",-1)),Re(" "+Z(c.formatSchedule(c.selectedTraining.schedule)),1)]),d("p",yG,[u[56]||(u[56]=d("strong",null,"End Time:",-1)),Re(" "+Z(c.formatSchedule(c.selectedTraining.end_time)),1)]),d("p",wG,[u[57]||(u[57]=d("strong",null,"Mode:",-1)),Re(" "+Z(c.selectedTraining.mode),1)]),c.selectedTraining.mode==="On-Site"?(M(),B("p",_G,[u[58]||(u[58]=d("strong",null,"Location:",-1)),Re(" "+Z(c.selectedTraining.location),1)])):Ce("",!0),c.selectedTraining.mode==="Online"?(M(),B("p",xG,[u[59]||(u[59]=d("strong",null,"Training Link: ",-1)),d("a",{href:c.selectedTraining.trainingLink,target:"_blank",class:"training-link"},Z(c.selectedTraining.trainingLink),9,CG)])):Ce("",!0),d("div",kG,[d("button",{class:"btn-view-registrants",onClick:u[17]||(u[17]=h=>c.handleViewRegistrants(c.selectedTraining))}," View Registrants ")]),qt(hc)&&qt(od)===c.selectedTraining.trainingID&&a(c.selectedTraining)?(M(),B("div",SG,[d("h3",null,"QR Code (Expires at: "+Z(c.activeTrainingQRExpiresAt)+")",1),wt(ll,{value:qt(hc),size:200},null,8,["value"])])):Ce("",!0)])])):Ce("",!0),c.showCertUploadModal?(M(),B("div",{key:2,class:"modal-overlay",onClick:u[24]||(u[24]=vt((...h)=>c.closeCertUploadModal&&c.closeCertUploadModal(...h),["self"]))},[d("div",AG,[d("button",{class:"cert-close-btn",onClick:u[19]||(u[19]=(...h)=>c.dismissModal&&c.dismissModal(...h))},u[60]||(u[60]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#4a4a4a","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),d("div",LG,[d("div",EG,[c.selectedRegistrant.img?(M(),B("img",{key:0,src:c.selectedRegistrant.img,alt:"Registrant Profile",class:"profile-avatar-img"},null,8,TG)):(M(),B("div",PG,u[61]||(u[61]=[d("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("circle",{cx:"12",cy:"7",r:"4",fill:"#a7a7a7"}),d("path",{d:"M17.5 19.5c0-3.314-2.239-6-5-6s-5 2.686-5 6h10z",fill:"#a7a7a7"})],-1)])))]),d("p",NG,Z(c.selectedRegistrant.name),1)]),d("p",IG," Status: "+Z(c.selectedRegistrant.status),1),d("p",OG," Date Registered: "+Z(c.selectedRegistrant.dateRegistered),1),d("form",{onSubmit:u[23]||(u[23]=vt((...h)=>c.sendCertificateDetails&&c.sendCertificateDetails(...h),["prevent"])),class:"cert-form"},[Ue(d("input",{type:"text","onUpdate:modelValue":u[20]||(u[20]=h=>c.selectedRegistrant.certificateTrackingID=h),placeholder:"Certificate Tracking ID",class:"cert-input",required:""},null,512),[[We,c.selectedRegistrant.certificateTrackingID]]),d("div",DG,[Ue(d("input",{type:"date","onUpdate:modelValue":u[21]||(u[21]=h=>c.selectedRegistrant.certificateGivenDate=h),placeholder:"dd/mm/yyyy",class:"cert-input date-input",required:""},null,512),[[We,c.selectedRegistrant.certificateGivenDate]]),u[62]||(u[62]=Ws('<span class="calendar-icon" data-v-adaa70be><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adaa70be><path d="M2.16669 9.4165C2.16669 7.53089 2.16669 6.58808 2.75247 6.00229C3.33826 5.4165 4.28107 5.4165 6.16669 5.4165H19.8334C21.719 5.4165 22.6618 5.4165 23.2476 6.00229C23.8334 6.58808 23.8334 7.53089 23.8334 9.4165V9.83317C23.8334 10.3046 23.8334 10.5403 23.6869 10.6867C23.5405 10.8332 23.3048 10.8332 22.8334 10.8332H3.16669C2.69528 10.8332 2.45958 10.8332 2.31313 10.687C2.16669 10.5405 2.16669 10.3048 2.16669 9.83317V9.4165Z" fill="#4a4a4a" data-v-adaa70be></path><path d="M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833ZM8.58301 19.5C8.11182 19.5 7.87591 19.5001 7.72949 19.6465C7.58321 19.7929 7.58301 20.0288 7.58301 20.5V20.667C7.58301 21.1382 7.58308 21.3741 7.72949 21.5205C7.87591 21.6669 8.11182 21.667 8.58301 21.667H10.917C11.3882 21.667 11.6241 21.6669 11.7705 21.5205C11.9169 21.3741 11.917 21.1382 11.917 20.667V20.5C11.917 20.0288 11.9168 19.7929 11.7705 19.6465C11.6241 19.5001 11.3882 19.5 10.917 19.5H8.58301ZM15.083 19.5C14.6118 19.5 14.3759 19.5001 14.2295 19.6465C14.0832 19.7929 14.083 20.0288 14.083 20.5V20.667C14.083 21.1382 14.0831 21.3741 14.2295 21.5205C14.3759 21.6669 14.6118 21.667 15.083 21.667H17.417C17.8882 21.667 18.1241 21.6669 18.2705 21.5205C18.4169 21.3741 18.417 21.1382 18.417 20.667V20.5C18.417 20.0288 18.4168 19.7929 18.2705 19.6465C18.1241 19.5001 17.8882 19.5 17.417 19.5H15.083ZM8.58301 15.167C8.11182 15.167 7.87591 15.1671 7.72949 15.3135C7.58337 15.4599 7.58301 15.6959 7.58301 16.167V16.333C7.58301 16.8041 7.58337 17.0401 7.72949 17.1865C7.87591 17.3329 8.11182 17.333 8.58301 17.333H10.917C11.3882 17.333 11.6241 17.3329 11.7705 17.1865C11.9166 17.0401 11.917 16.8041 11.917 16.333V16.167C11.917 15.6959 11.9166 15.4599 11.7705 15.3135C11.6241 15.1671 11.3882 15.167 10.917 15.167H8.58301ZM15.083 15.167C14.6118 15.167 14.3759 15.1671 14.2295 15.3135C14.0834 15.4599 14.083 15.6959 14.083 16.167V16.333C14.083 16.8041 14.0834 17.0401 14.2295 17.1865C14.3759 17.3329 14.6118 17.333 15.083 17.333H17.417C17.8882 17.333 18.1241 17.3329 18.2705 17.1865C18.4166 17.0401 18.417 16.8041 18.417 16.333V16.167C18.417 15.6959 18.4166 15.4599 18.2705 15.3135C18.1241 15.1671 17.8882 15.167 17.417 15.167H15.083Z" fill="#4a4a4a" data-v-adaa70be></path><path d="M7.58331 3.25L7.58331 6.5" stroke="#4a4a4a" stroke-width="2" stroke-linecap="round" data-v-adaa70be></path><path d="M18.4167 3.25L18.4167 6.5" stroke="#4a4a4a" stroke-width="2" stroke-linecap="round" data-v-adaa70be></path></svg></span>',1))]),d("div",MG,[d("input",{type:"file",id:"certificate-upload",onChange:u[22]||(u[22]=(...h)=>c.handleFileUpload&&c.handleFileUpload(...h)),class:"hidden-file-input"},null,32),d("label",RG,Z(c.selectedRegistrant.uploadedFile?c.selectedRegistrant.uploadedFile.name:"Upload File"),1),u[63]||(u[63]=d("span",{class:"upload-icon"},[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M12 20L11.4 20.8L12 21.25L12.6 20.8L12 20ZM13 8C13 7.44772 12.5523 7 12 7C11.4477 7 11 7.44772 11 8H13ZM8 17L7.4 17.8L11.4 20.8L12 20L12.6 19.2L8.6 16.2L8 17ZM12 20L12.6 20.8L16.6 17.8L16 17L15.4 16.2L11.4 19.2L12 20ZM12 20H13V8H12H11V20H12Z",fill:"#4a4a4a"}),d("path",{d:"M8 13C7.07003 13 6.60504 13 6.22354 12.8978C5.18827 12.6204 4.37962 11.8117 4.10222 10.7765C4 10.395 4 9.92997 4 9V8C4 6.13077 4 5.19615 4.40192 4.5C4.66523 4.04394 5.04394 3.66523 5.5 3.40192C6.19615 3 7.13077 3 9 3H15C16.8692 3 17.8038 3 18.5 3.40192C18.9561 3.66523 19.3348 4.04394 19.5981 4.5C20 5.19615 20 6.13077 20 8V9C20 9.92997 20 10.395 19.8978 10.7765C19.6204 11.8117 18.8117 12.6204 17.7765 12.8978C17.395 13 16.93 13 16 13",stroke:"#4a4a4a","stroke-width":"2","stroke-linecap":"round"})])],-1))]),u[64]||(u[64]=d("button",{type:"submit",class:"cert-send-btn"},"Send",-1))],32)])])):Ce("",!0),c.showTrainingPopup?(M(),B("div",$G,[d("div",jG,[d("button",{onClick:u[25]||(u[25]=(...h)=>c.closeTrainingPopup&&c.closeTrainingPopup(...h)),class:"training-popup-close"},"  "),d("h2",BG,Z(c.isEditMode?"Update Training":"Post Training"),1),d("form",{onSubmit:u[37]||(u[37]=vt((...h)=>c.saveTraining&&c.saveTraining(...h),["prevent"])),class:"training-popup-form"},[Ue(d("input",{"onUpdate:modelValue":u[26]||(u[26]=h=>c.newTraining.title=h),type:"text",placeholder:"Title",class:"training-input"},null,512),[[We,c.newTraining.title]]),Ue(d("textarea",{"onUpdate:modelValue":u[27]||(u[27]=h=>c.newTraining.description=h),placeholder:"Description",class:"training-input"},null,512),[[We,c.newTraining.description]]),d("div",FG,[u[70]||(u[70]=d("label",{for:"schedule"},"Schedule",-1)),d("div",UG,[d("div",zG,[Ue(d("input",{type:"date",id:"schedule","onUpdate:modelValue":u[28]||(u[28]=h=>c.newTraining.date=h),min:c.todayDate,placeholder:"Schedule"},null,8,VG),[[We,c.newTraining.date]]),u[65]||(u[65]=Ws('<span class="calendar-icon" data-v-adaa70be><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adaa70be><path d="M2.16669 9.41675C2.16669 7.53113 2.16669 6.58832 2.75247 6.00253C3.33826 5.41675 4.28107 5.41675 6.16669 5.41675H19.8334C21.719 5.41675 22.6618 5.41675 23.2476 6.00253C23.8334 6.58832 23.8334 7.53113 23.8334 9.41675V9.83342C23.8334 10.3048 23.8334 10.5405 23.6869 10.687C23.5405 10.8334 23.3048 10.8334 22.8334 10.8334H3.16669C2.69528 10.8334 2.45958 10.8334 2.31313 10.687C2.16669 10.5405 2.16669 10.3048 2.16669 9.83341V9.41675Z" fill="black" data-v-adaa70be></path><path d="M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833Z" fill="black" data-v-adaa70be></path><path d="M7.58331 3.25L7.58331 6.5" stroke="black" stroke-width="2" stroke-linecap="round" data-v-adaa70be></path><path d="M18.4167 3.25L18.4167 6.5" stroke="black" stroke-width="2" stroke-linecap="round" data-v-adaa70be></path></svg></span>',1))]),d("div",HG,[u[67]||(u[67]=d("label",{for:"startTime"},"Start Time",-1)),d("div",qG,[Ue(d("input",{type:"time",id:"startTime","onUpdate:modelValue":u[29]||(u[29]=h=>c.newTraining.startTime=h),placeholder:"Start Time"},null,512),[[We,c.newTraining.startTime]]),u[66]||(u[66]=d("span",{class:"calendar-icon"},[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M13 2.16663C7.02012 2.16663 2.16669 7.02006 2.16669 13C2.16669 18.9799 7.02012 23.8333 13 23.8333C18.9799 23.8333 23.8334 18.9799 23.8334 13C23.8334 7.02006 18.9799 2.16663 13 2.16663ZM13 21.6666C8.10012 21.6666 4.33335 17.8999 4.33335 13C4.33335 8.10006 8.10012 4.33329 13 4.33329C17.9 4.33329 21.6667 8.10006 21.6667 13C21.6667 17.8999 17.9 21.6666 13 21.6666Z",fill:"black"}),d("path",{d:"M13.8125 7.58337H12.1875V13.4067L16.9583 16.25L17.875 14.8334L13.8125 12.25V7.58337Z",fill:"black"})])],-1))])]),d("div",WG,[u[69]||(u[69]=d("label",{for:"endTime"},"End Time",-1)),d("div",GG,[Ue(d("input",{type:"time",id:"endTime","onUpdate:modelValue":u[30]||(u[30]=h=>c.newTraining.endTime=h),placeholder:"End Time"},null,512),[[We,c.newTraining.endTime]]),u[68]||(u[68]=d("span",{class:"calendar-icon"},[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M13 2.16663C7.02012 2.16663 2.16669 7.02006 2.16669 13C2.16669 18.9799 7.02012 23.8333 13 23.8333C18.9799 23.8333 23.8334 18.9799 23.8334 13C23.8334 7.02006 18.9799 2.16663 13 2.16663ZM13 21.6666C8.10012 21.6666 4.33335 17.8999 4.33335 13C4.33335 8.10006 8.10012 4.33329 13 4.33329C17.9 4.33329 21.6667 8.10006 21.6667 13C21.6667 17.8999 17.9 21.6666 13 21.6666Z",fill:"black"}),d("path",{d:"M13.8125 7.58337H12.1875V13.4067L16.9583 16.25L17.875 14.8334L13.8125 12.25V7.58337Z",fill:"black"})])],-1))])])])]),d("div",KG,[d("label",null,[Ue(d("input",{type:"radio",value:"On-Site","onUpdate:modelValue":u[31]||(u[31]=h=>c.newTraining.mode=h)},null,512),[[zu,c.newTraining.mode]]),u[71]||(u[71]=Re(" On-Site "))]),d("label",null,[Ue(d("input",{type:"radio",value:"Online","onUpdate:modelValue":u[32]||(u[32]=h=>c.newTraining.mode=h)},null,512),[[zu,c.newTraining.mode]]),u[72]||(u[72]=Re(" Online "))])]),c.newTraining.mode==="On-Site"?Ue((M(),B("input",{key:0,"onUpdate:modelValue":u[33]||(u[33]=h=>c.newTraining.location=h),type:"text",placeholder:"Location",class:"training-input"},null,512)),[[We,c.newTraining.location]]):c.newTraining.mode==="Online"?Ue((M(),B("input",{key:1,"onUpdate:modelValue":u[34]||(u[34]=h=>c.newTraining.trainingLink=h),type:"url",placeholder:"Training Link",class:"training-input"},null,512)),[[We,c.newTraining.trainingLink]]):Ce("",!0),d("div",YG,[u[73]||(u[73]=d("label",{class:"block font-semibold text-gray-600 mb-2"},"Tags",-1)),d("div",ZG,[d("div",JG,[(M(!0),B(Ye,null,ct(c.tagOptions,h=>(M(),B("span",{key:h.TagID,class:ft(["tag-chip",{"tag-chip-selected":c.isTagSelected(h.TagID)}]),onClick:p=>c.toggleTag(h.TagID)},Z(h.TagName),11,XG))),128))])]),c.newTraining.Tags.length?(M(),B("div",QG,[(M(!0),B(Ye,null,ct(c.newTraining.Tags,h=>(M(),B("span",{key:h,class:"bg-blue-100 text-blue-700 text-sm px-3 py-1 rounded-full"},[Re(Z(c.getTagName(h))+" ",1),d("button",{onClick:vt(p=>c.removeTag(h),["stop"]),class:"ml-1 text-red-500"},"",8,eK)]))),128))])):Ce("",!0),Ue(d("input",{"onUpdate:modelValue":u[35]||(u[35]=h=>c.newTagName=h),type:"text",placeholder:"Add new tag",class:"training-input mt-2"},null,512),[[We,c.newTagName]]),d("button",{onClick:u[36]||(u[36]=vt((...h)=>c.addTag&&c.addTag(...h),["prevent"])),class:"training-save-btn mt-2"},"Add Tag")]),d("button",tK,Z(c.isEditMode?"Update":"Post"),1)],32)])])):Ce("",!0)])]))}}),iK=Pi(sK,[["__scopeId","data-v-adaa70be"]]),L8=Le.create({baseURL:"https://pathfinder-development-production.up.railway.app/api"});L8.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const rK={class:"organization-careers"},oK={class:"avatar"},aK=["src"],lK={key:0,class:"profile-section"},cK={class:"org-name"},uK={class:"profile-actions"},dK={class:"content"},hK={class:"global-search-section"},fK={class:"flex justify-center my-6 px-4"},pK={class:"upcoming"},gK={class:"flex items-center justify-between"},mK={class:"section-title flex items-center gap-1"},vK={class:"count-badge"},bK={class:"career-grid"},yK=["onClick"],wK={class:"career-right"},_K={class:"career-title"},xK={class:"career-deadline"},CK={class:"menu"},kK=["onClick"],SK=["onClick"],AK=["onClick"],LK={class:"completed"},EK={class:"flex items-center justify-between"},TK={class:"section-title flex items-center gap-1"},PK={class:"count-badge"},NK={class:"career-grid"},IK=["onClick"],OK={class:"career-right"},DK={class:"career-title"},MK={class:"career-deadline"},RK={class:"menu"},$K=["onClick"],jK=["onClick"],BK={class:"modal-content"},FK={class:"modal-title"},UK={class:"applicants-table-container"},zK={key:0},VK={class:"applicant-name"},HK={class:"application-date"},qK=["onUpdate:modelValue","onChange"],WK={value:"submitted"},GK={value:"in review"},KK={value:"for interview"},YK={value:"accepted"},ZK={value:"rejected"},JK={class:"requirements-col"},XK=["onClick"],QK={key:1},eY=["onClick"],tY={key:1,class:"schedule-btn",disabled:""},nY={key:2},sY=["onClick"],iY={key:1},rY={class:"modal-box"},oY={class:"schedule-form"},aY={class:"date-input-wrapper"},lY={class:"mode-selection"},cY={key:0},uY={key:1},dY={class:"modal-actions"},hY={class:"modal-box"},fY={key:0,class:"view-schedule-info"},pY={key:0},gY={key:1},mY={key:2},vY={key:3},bY=["href"],yY={class:"modal-actions"},wY={key:3,class:"career-popup-overlay"},_Y={class:"career-popup"},xY={class:"career-popup-title"},CY={class:"deadline-input-wrapper"},kY=["min"],SY={class:"relative mb-4"},AY={class:"tag-list-wrapper"},LY={class:"tag-list"},EY=["onClick"],TY={key:0,class:"flex flex-wrap gap-2 mt-2"},PY=["onClick"],NY={type:"submit",class:"career-save-btn"},IY={class:"career-details-modal"},OY={class:"modal-title"},DY={class:"career-info"},MY={class:"career-info"},RY={class:"career-info"},$Y={class:"career-info"},jY={class:"career-info"},BY={class:"career-info"},FY={class:"career-actions"};le(null);le(!1);const au=t=>({submitted:"Submitted","in review":"In Review","for interview":"For Interview",accepted:"Accepted",rejected:"Rejected"})[t]||t,UY={data(){return{showRequirementsModal:!1,requirementsUrl:null,selectedCareer:{title:"",careerID:null,position:""},newTagName:"",dictLogo:yr,globalSearchQuery:"",openUpcomingMenu:null,openCompletedMenu:null,showCareerDetailsModal:!1,showApplicantsModal:!1,showViewScheduleModal:!1,showScheduleModal:!1,selectedPerson:null,showAllUpcoming:!1,showAllCompleted:!1,isEditMode:!1,careerToEditId:null,scheduleData:{date:"",mode:"",detail:""},applicantsList:[],upcomingCareers:[],showCareerPopup:!1,newCareer:{position:"",details:"",qualifications:"",requirements:"",letterAddress:"",deadline:"",Tags:[]},tagOptions:[]}},methods:{async openApplicantsModal(t){t=t||this.selectedCareer||null;let e=localStorage.getItem("token");if(!e){alert("Please log in to continue.");return}e=e.trim().replace(/^"(.*)"$/,"$1");const n=t?.careerID??t?.careerId??t?.id??t?._id??this.selectedCareer?.careerID??this.selectedCareer?.careerId??null;if(!n){console.error("Career object missing careerID:",t);return}console.log("Fetching applicants for Career ID:",n),console.log("Token exists:",!!e,"Token length:",e?e.length:0);try{this.selectedCareer={...this.selectedCareer||{},...t||{},careerID:t?.careerID??t?.careerId??t?.id??t?._id??this.selectedCareer?.careerID??null};const s=await Le.get(`https://pathfinder-development-production.up.railway.app/api/careers/${n}/applicants`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/json","Content-Type":"application/json"}});console.log("Applicants API response:",s.data),s.data&&Array.isArray(s.data)&&s.data.length>0?this.applicantsList=s.data.map(i=>({id:i.id??i.applicationID??i._id,name:i.name??`${i.firstName||""} ${i.lastName||""}`.trim(),dateSubmitted:i.dateSubmitted??i.created_at??i.createdAt,status:i.status?String(i.status).toLowerCase():"submitted",requirements:i.requirements??[],interviewSchedule:i.interviewSchedule??null,interviewMode:i.interviewMode??null,interviewLocation:i.interviewLocation??null,interviewLink:i.interviewLink??null})):this.applicantsList=[],this.showApplicantsModal=!0}catch(s){console.error("Error fetching applicants:",s),console.error("Error response:",s.response),s.response?.status===401?alert("Unauthorized. Please log in again. Error: "+(s.response.data?.message||"Token invalid or expired")):s.response?.status===403?alert("Access denied. You don't have permission to view applicants for this career."):alert(s.response?.data?.message||"An error occurred while fetching applicants. Please try again."),this.applicantsList=[]}},async updateApplicationStatus(t){const e=localStorage.getItem("token");if(!e){alert("Please log in to continue.");return}const n=t.status;console.log("Updating status for application ID:",t.id,"New status:",t.status),console.log("Token exists:",!!e);try{const s=await Le.put(`https://pathfinder-development-production.up.railway.app/api/applications/${t.id}/status`,{status:t.status},{headers:{Authorization:`Bearer ${e.trim()}`,"Content-Type":"application/json",Accept:"application/json"}}),i=this.applicantsList.findIndex(r=>r.id===t.id);if(i!==-1){const r=s.data.data||s.data;this.applicantsList[i]={...this.applicantsList[i],status:r.applicationStatus?r.applicationStatus.toLowerCase():t.status}}}catch(s){console.error("Error updating status:",s),console.error("Error response:",s.response),t.status=n,s.response?.status===401?alert("Unauthorized. Please log in again. Error: "+(s.response.data?.message||"Token invalid or expired")):s.response?.status===403?alert("Access denied. You don't have permission to update this application status."):alert(s.response?.data?.message||"Failed to update application status. Please try again.")}},closeRequirementsModal(){this.showRequirementsModal=!1,this.requirementsUrl=null,this.selectedPerson=null},printRequirements(){if(this.requirementsUrl){const t=window.open(this.requirementsUrl,"_blank");t?t.onload=()=>{t.print()}:alert("Please allow pop-ups to print the requirements.")}else alert("No requirements to print.")},downloadRequirements(t){Le({url:`https://pathfinder-development-production.up.railway.app/api/applications/${t}/requirement`,method:"GET",responseType:"mediumblob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{const n=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"})),s=document.createElement("a");s.href=n,s.download="requirement.pdf",s.click(),window.URL.revokeObjectURL(n)})},async confirmSchedule(){if(!this.scheduleData.date||!this.scheduleData.mode||!this.scheduleData.detail){alert("Please fill out all fields.");return}const t=localStorage.getItem("token");if(!t){alert("Please log in to continue.");return}if(!this.selectedPerson||!this.selectedPerson.id){alert("No applicant selected.");return}try{const e=new Date(this.scheduleData.date);if(isNaN(e.getTime())){alert("Invalid date selected. Please try again.");return}const n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0"),l=`${n}-${s}-${i} ${r}:${o}:${a}`,c=this.scheduleData.mode==="onSite"?"On-Site":"Online",u={interviewSchedule:l,interviewMode:c,interviewLocation:this.scheduleData.mode==="onSite"?this.scheduleData.detail:null,interviewLink:this.scheduleData.mode==="online"?this.scheduleData.detail:null};console.log("Sending interview schedule payload:",u);const h=await Le.put(`https://pathfinder-development-production.up.railway.app/api/applications/${this.selectedPerson.id}/interview`,u,{headers:{Authorization:`Bearer ${t.trim()}`,"Content-Type":"application/json",Accept:"application/json"}});if(console.log("Full response:",h),console.log("Response data:",h.data),h.data.success||h.data.message){const p=this.applicantsList.findIndex(f=>f.id===this.selectedPerson.id);if(p!==-1){const f=h.data.data||h.data;console.log("Received response data:",f);const m={...this.applicantsList[p],status:"for interview",interviewSchedule:f.interviewSchedule||l,interviewMode:f.interviewMode||c,interviewLocation:f.interviewLocation||(this.scheduleData.mode==="onSite"?this.scheduleData.detail:null),interviewLink:f.interviewLink||(this.scheduleData.mode==="online"?this.scheduleData.detail:null)};console.log("Updated applicant data:",m),this.$set?this.$set(this.applicantsList,p,m):(this.applicantsList[p]=m,this.applicantsList=[...this.applicantsList])}this.closeScheduleModal(),alert(" Interview scheduled successfully! The schedule has been saved.")}else throw new Error("Unexpected response format")}catch(e){console.error("Error scheduling interview:",e),console.error("Error response:",e.response),e.response?.status===401?alert("Unauthorized. Please log in again. Error: "+(e.response.data?.message||"Token invalid or expired")):e.response?.status===403?alert("Access denied. You don't have permission to schedule interviews for this application."):e.response?.status===422?alert("Validation error: "+(e.response.data?.message||"Please check your input and try again.")):alert(e.response?.data?.message||"Failed to schedule interview. Please try again.")}},checkToken(){const t=localStorage.getItem("token");return t||(alert(" Please log in to continue."),!1)},async addTag(){if(!this.newTagName){alert("Please enter a tag name.");return}const t=this.checkToken();if(t)try{const e=await Le.post("https://pathfinder-development-production.up.railway.app/api/tags",{TagName:this.newTagName},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});this.tagOptions.push(e.data),this.newCareer.Tags.push(Number(e.data.TagID)),this.newTagName="",alert("Tag added successfully!")}catch(e){console.error("Error adding tag:",e),alert("Failed to add tag.")}},toggleTag(t){Array.isArray(this.newCareer.Tags)||(this.newCareer.Tags=[]);const e=Number(t);this.newCareer.Tags.includes(e)?this.newCareer.Tags=this.newCareer.Tags.filter(n=>n!==e):this.newCareer.Tags.push(e)},isTagSelected(t){const e=Number(t);return Array.isArray(this.newCareer.Tags)&&this.newCareer.Tags.includes(e)},removeTag(t){if(!Array.isArray(this.newCareer.Tags))return;const e=Number(t),n=this.newCareer.Tags.indexOf(e);n!==-1&&this.newCareer.Tags.splice(n,1)},async fetchTags(){try{const t=await Le.get("https://pathfinder-development-production.up.railway.app/api/tags");this.tagOptions=t.data,console.log(this.tagOptions)}catch(t){console.error("Error fetching tags:",t)}},getTagName(t){const e=Number(t),n=this.tagOptions.find(s=>Number(s.TagID)===e);return n?n.TagName:""},toggleUpcomingMenu(t){this.openUpcomingMenu=this.openUpcomingMenu===t?null:t,this.openCompletedMenu=null},toggleCompletedMenu(t){this.openCompletedMenu=this.openCompletedMenu===t?null:t,this.openUpcomingMenu=null},handleClickOutside(t){t.target.closest(".menu-icon, .dropdown-menu")||(this.openUpcomingMenu=null,this.openCompletedMenu=null)},closeModal(){this.showApplicantsModal=!1},showMoreUpcoming(){this.visibleUpcomingCount+=4},showMoreCompleted(){this.visibleCompletedCount+=4},openScheduleModal(t){t.status==="for interview"&&(this.selectedPerson=t,this.showScheduleModal=!0,this.showViewScheduleModal=!1,this.scheduleData={date:"",mode:"",detail:""})},closeScheduleModal(){this.showScheduleModal=!1,this.scheduleData={date:"",mode:"",detail:""},this.selectedPerson=null},async deleteCareer(t){const e=t.careerID||t.id;if(!e){console.error("No career ID provided",t);return}if(confirm(`Are you sure you want to delete "${t.position}"?`))try{const s=localStorage.getItem("token");await Le.delete(`https://pathfinder-development-production.up.railway.app/api/careers/${e}`,{headers:{Authorization:`Bearer ${s}`}});const i=this.upcomingCareers.findIndex(r=>(r.careerID||r.id)===e);i!==-1&&this.upcomingCareers.splice(i,1),alert(" Career deleted successfully!")}catch(s){console.error("ERROR DELETING CAREER:",s.response?.data||s),alert(" Failed to delete career. See console for details.")}},async updateCareer(t){await this.fetchTags(),this.showCareerPopup=!0,this.isEditMode=!0,this.careerToEditId=t.careerID||t.id,this.newCareer={position:t.position,details:t.detailsAndInstructions,qualifications:t.qualifications,requirements:t.requirements,letterAddress:t.applicationLetterAddress,deadline:t.deadlineOfSubmission,Tags:Array.isArray(t.Tags)?t.Tags.map(e=>Number(e.TagID??e.tagID??e.id)):[]},Array.isArray(this.newCareer.Tags)||(this.newCareer.Tags=[]),console.log("Prefilled career:",this.newCareer)},async saveCareer(){try{const{position:t,details:e,qualifications:n,requirements:s,letterAddress:i,deadline:r}=this.newCareer;if(!t||!e||!n||!s||!i||!r){alert(" Please fill out all fields.");return}const a=JSON.parse(localStorage.getItem("user")||"{}")?.organizationID;if(!a){alert(" Could not determine your organization ID.");return}const l=localStorage.getItem("token");if(this.isEditMode&&this.careerToEditId){const c={position:t,detailsAndInstructions:e,qualifications:n,requirements:s,applicationLetterAddress:i,deadlineOfSubmission:r,organizationID:a},u=await Le.put(`https://pathfinder-development-production.up.railway.app/api/careers/${this.careerToEditId}`,c,{headers:{Authorization:`Bearer ${l}`}}),h=this.upcomingCareers.findIndex(p=>(p.careerID||p.id)===this.careerToEditId);h!==-1&&(this.upcomingCareers[h]=u.data.data||u.data),alert(" Career updated successfully!")}else{const c={position:t,detailsAndInstructions:e,qualifications:n,requirements:s,applicationLetterAddress:i,deadlineOfSubmission:r,organizationID:a};await Le.post("https://pathfinder-development-production.up.railway.app/api/careers",c,{headers:{Authorization:`Bearer ${l}`}}),await this.fetchCareers(),alert(" Career posted successfully!")}this.closeCareerPopup(),this.resetNewCareer()}catch(t){console.error("ERROR SAVING CAREER:",t.response?.data||t),console.error("Validation errors:",t.response?.data?.errors),alert(" Something went wrong while saving the career.")}finally{this.isEditMode=!1,this.careerToEditId=null}},resetNewCareer(){this.newCareer={position:"",details:"",qualifications:"",requirements:"",letterAddress:"",deadline:"",Tags:[]},this.isEditMode=!1,this.careerToEditId=null},openViewScheduleModal(t){t.status==="for interview"&&t.interviewSchedule&&(this.selectedPerson=t,this.showViewScheduleModal=!0,this.showScheduleModal=!1)},closeViewScheduleModal(){this.showViewScheduleModal=!1,this.selectedPerson=null},formatInterviewDateTime(t){if(!t)return"Not scheduled";try{const e=new Date(t);if(isNaN(e.getTime())){const n=t.split(" ");if(n.length===2){const[s,i]=n,[r,o,a]=s.split("-"),[l,c]=i.split(":");return new Date(r,o-1,a,l,c).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}return t}return e.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date:",e),t}},openCalendar(){const t=this.$refs.dateInput;if(!t){console.warn("dateInput ref not found");return}try{if(typeof t.showPicker=="function"){t.showPicker();return}}catch(e){console.debug("showPicker() failed:",e)}try{t.focus(),t.click();return}catch(e){console.debug("input.click()/focus failed:",e)}console.warn("Native picker was not opened programmatically by the browser. Consider adding a JS datepicker as a reliable fallback.")},async fetchCareers(){try{(await L8.get("/organization/careers")).data.forEach(n=>{const s=this.upcomingCareers.findIndex(i=>i.careerID===n.careerID);s>-1?this.upcomingCareers[s]={...this.upcomingCareers[s],...n}:this.upcomingCareers.push(n)})}catch(t){console.error("ERROR FETCHING CAREERS:",t)}},openCareerPopup(t=null){t?(this.newCareer={position:t.position||"",details:t.detailsAndInstructions||"",qualifications:t.qualifications||"",requirements:t.requirements||"",letterAddress:t.applicationLetterAddress||"",deadline:t.deadlineOfSubmission||"",Tags:Array.isArray(t.Tags)?t.Tags.map(e=>e.TagID??e.tagID??e.id):[]},this.isEditMode=!0,this.careerToEditId=t.careerID||t.id):(this.newCareer={position:"",details:"",qualifications:"",requirements:"",letterAddress:"",deadline:"",Tags:[]},this.isEditMode=!1,this.careerToEditId=null),Array.isArray(this.newCareer.Tags)||(this.newCareer.Tags=[]),this.showCareerPopup=!0,this.fetchTags()},closeCareerPopup(){this.showCareerPopup=!1,this.resetNewCareer()},openCareerDetails(t){this.selectedCareer={...t,careerID:t.careerID,_id:t.careerID},this.showCareerDetailsModal=!0},closeCareerDetails(){this.showCareerDetailsModal=!1},handleViewApplicants(t){this.closeCareerDetails(),this.openApplicantsModal(t)},async saveCareer(){try{let t=localStorage.getItem("token");if(console.log(" Raw token read from localStorage:",t),!t){alert(" Please log in to continue.");return}t=t.trim().replace(/^"(.*)"$/,"$1"),console.log(" Using token:",t);const e=["position","details","qualifications","requirements","letterAddress","deadline"];for(const o of e)if(!this.newCareer[o]){alert(`Please fill out the field: ${o}`);return}if((!this.newCareer.Tags||this.newCareer.Tags.length===0)&&!confirm("No tags selected. Continue without tags?"))return;const n={position:this.newCareer.position,details:this.newCareer.details,detailsAndInstructions:this.newCareer.details,qualifications:this.newCareer.qualifications,requirements:this.newCareer.requirements,letterAddress:this.newCareer.letterAddress,applicationLetterAddress:this.newCareer.letterAddress,deadline:this.newCareer.deadline,deadlineOfSubmission:this.newCareer.deadline,Tags:this.newCareer.Tags||[]};console.log(" Payload:",n);const s=this.isEditMode&&this.careerToEditId?`https://pathfinder-development-production.up.railway.app/api/careers/${this.careerToEditId}`:"https://pathfinder-development-production.up.railway.app/api/careers",i=this.isEditMode&&this.careerToEditId?"put":"post",r=await Le({method:i,url:s,data:n,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});r?.status>=200&&r?.status<300&&(console.log(" Career saved:",r.data),alert(this.isEditMode?"Career updated successfully!":"Career posted successfully!"),this.isEditMode||this.upcomingCareers.push(r.data.data||r.data),this.closeCareerPopup(),this.resetNewCareer(),await this.fetchCareers())}catch(t){console.error(" ERROR SAVING CAREER:",t),t.response?(console.log(" Server response:",t.response.data),t.response.status===401?(alert("Unauthorized: Your token is invalid or expired. Please log in again."),localStorage.removeItem("token")):t.response.status===422?alert("Validation failed. Check your inputs."):t.response.status===409?alert("This career already exists!"):alert("Server error: "+(t.response.data.message||"Please try again."))):t.request?alert("No response from server. Check your network or server."):alert("Error: "+t.message)}},resetNewCareer(){this.newCareer={position:"",details:"",qualifications:"",requirements:"",letterAddress:"",deadline:"",Tags:[]}},formatdeadline(t){if(!t)return"No deadline set";try{return new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return t}}},computed:{todayDate(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`},visibleUpcomingCareers(){const t=this.sortedUpcomingCareers;return this.showAllUpcoming?t:t.slice(0,4)},visibleCompletedCareers(){const t=this.sortedCompletedCareers;return this.showAllCompleted?t:t.slice(0,4)},sortedUpcomingCareers(){const t=new Date;return(Array.isArray(this.upcomingCareers)?this.upcomingCareers:[]).filter(n=>n.deadlineOfSubmission?new Date(n.deadlineOfSubmission)>=t:!0).sort((n,s)=>new Date(n.deadlineOfSubmission)-new Date(s.deadlineOfSubmission))},sortedCompletedCareers(){const t=new Date;return(Array.isArray(this.upcomingCareers)?this.upcomingCareers:[]).filter(n=>n.deadlineOfSubmission?new Date(n.deadlineOfSubmission)<t:!1).sort((n,s)=>new Date(s.deadlineOfSubmission)-new Date(n.deadlineOfSubmission))},filteredUpcomingCareers(){const t=this.globalSearchQuery.toLowerCase();return this.sortedUpcomingCareers.filter(e=>e.position.toLowerCase().includes(t))},filteredUpcomingCareers(){const t=this.globalSearchQuery.toLowerCase();return t?this.sortedUpcomingCareers.filter(e=>e.position.toLowerCase().startsWith(t)):this.sortedUpcomingCareers},filteredCompletedCareers(){const t=this.globalSearchQuery.toLowerCase();return t?this.sortedCompletedCareers.filter(e=>(e.position||"").toLowerCase().startsWith(t)):this.sortedCompletedCareers},visibleFilteredUpcoming(){return this.showAllUpcoming?this.filteredUpcomingCareers:this.filteredUpcomingCareers.slice(0,4)},visibleFilteredCompleted(){return this.showAllCompleted?this.filteredCompletedCareers:this.filteredCompletedCareers.slice(0,4)}},mounted(){this.fetchCareers(),this.fetchTags(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},zY=Object.assign(UY,{__name:"OrganizationCareers",setup(t){const e=js(),n=le(!0),s=le(""),i=()=>{n.value=!n.value};It(()=>{const a=localStorage.getItem("user");if(a){const l=JSON.parse(a);l.role==="organization"&&(s.value=l.displayName||l.name)}});const r=a=>{e.push(a)},o=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e.push({name:"Login"})};return(a,l)=>(M(),B("div",rK,[d("button",{class:ft(["hamburger",{open:n.value,shifted:n.value}]),onClick:i},l[43]||(l[43]=[d("span",null,null,-1),d("span",null,null,-1),d("span",null,null,-1)]),2),wt(Li,{name:"slide"},{default:Wn(()=>[d("aside",{class:ft(["sidebar",{collapsed:!n.value}])},[l[50]||(l[50]=d("div",{class:"space"},null,-1)),d("div",oK,[d("img",{src:qt(yr),alt:"DICT Logo",class:"avatar-img"},null,8,aK)]),wt(Li,{name:"fade"},{default:Wn(()=>[n.value?(M(),B("div",lK,[d("h3",cK,Z(s.value),1),d("div",uK,[d("div",{class:"action",onClick:l[0]||(l[0]=c=>r({name:"OrgProfile"}))},l[44]||(l[44]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M11.7278 8.27191C12.7534 9.87525 14.1247 11.2375 15.7464 12.2534L8.85673 19.144C8.43166 19.569 8.21841 19.7816 7.95731 19.9213C7.69637 20.0609 7.40171 20.1199 6.81278 20.2377L3.73563 20.853C3.40302 20.9195 3.23649 20.9525 3.14188 20.8578C3.04759 20.7632 3.08035 20.5971 3.14677 20.2651L3.76298 17.1879C3.88087 16.5985 3.93965 16.3035 4.07938 16.0424C4.21912 15.7814 4.43173 15.569 4.85673 15.144L11.7278 8.27191ZM16.1116 4.03656C16.6711 3.75929 17.3284 3.75931 17.888 4.03656C18.1821 4.18229 18.455 4.45518 19.0003 5.00043C19.5453 5.54545 19.8184 5.81774 19.9641 6.11175C20.2414 6.67123 20.2413 7.32861 19.9641 7.88812C19.8184 8.18221 19.5455 8.45517 19.0003 9.00043L17.2034 10.7963C15.5308 9.84498 14.1456 8.46859 13.1819 6.81781L15.0003 5.00043C15.5453 4.45539 15.8176 4.18234 16.1116 4.03656Z",fill:"#FFFDFD"})],-1),d("span",null,"Update Profile",-1)]))])])):Ce("",!0)]),_:1}),d("div",{class:"icon",onClick:l[1]||(l[1]=c=>r("/organization"))},l[45]||(l[45]=[d("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M6.25 17.0585C6.25 16.0494 6.25 15.5448 6.47166 15.1141C6.69333 14.6833 7.1039 14.3901 7.92505 13.8035L13.8375 9.58034C14.3989 9.17938 14.6795 8.9789 15 8.9789C15.3205 8.9789 15.6011 9.17938 16.1625 9.58034L22.075 13.8035C22.8961 14.3901 23.3067 14.6833 23.5283 15.1141C23.75 15.5448 23.75 16.0494 23.75 17.0585V24.25C23.75 25.1928 23.75 25.6642 23.4571 25.9571C23.1642 26.25 22.6928 26.25 21.75 26.25H8.25C7.30719 26.25 6.83579 26.25 6.54289 25.9571C6.25 25.6642 6.25 25.1928 6.25 24.25V17.0585Z",fill:"white"}),d("path",{d:"M3.75 15.6366C3.75 15.9035 3.75 16.0369 3.8341 16.0781C3.91819 16.1192 4.02352 16.0373 4.23418 15.8734L13.7721 8.45502C14.362 7.99625 14.6569 7.76686 15 7.76686C15.3431 7.76686 15.638 7.99625 16.2279 8.45502L25.7658 15.8734C25.9765 16.0373 26.0818 16.1192 26.1659 16.0781C26.25 16.0369 26.25 15.9035 26.25 15.6366V14.7282C26.25 14.2478 26.25 14.0076 26.1483 13.7997C26.0466 13.5918 25.857 13.4444 25.4779 13.1495L16.2279 5.95502C15.638 5.49625 15.3431 5.26686 15 5.26686C14.6569 5.26686 14.362 5.49625 13.7721 5.95502L4.52212 13.1495C4.14295 13.4444 3.95337 13.5918 3.85168 13.7997C3.75 14.0076 3.75 14.2478 3.75 14.7282V15.6366Z",fill:"white"}),d("path",{d:"M16.125 18.75H13.875C12.7704 18.75 11.875 19.6454 11.875 20.75V26.1C11.875 26.1828 11.9422 26.25 12.025 26.25H17.975C18.0578 26.25 18.125 26.1828 18.125 26.1V20.75C18.125 19.6454 17.2296 18.75 16.125 18.75Z",fill:"white"}),d("rect",{x:"20",y:"6.25",width:"2.5",height:"5",rx:"0.5",fill:"white"})],-1),d("span",null,"Home",-1)])),d("div",{class:"icon",onClick:l[2]||(l[2]=c=>r({name:"OrgTrainings"}))},l[46]||(l[46]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.5837 3.625C23.4119 3.625 24.8261 3.62526 25.7048 4.50391C26.5833 5.3826 26.5837 6.79675 26.5837 9.625V19.375C26.5837 22.2033 26.5833 23.6174 25.7048 24.4961C24.8261 25.3747 23.4119 25.375 20.5837 25.375H8.41666C5.58824 25.375 4.17425 25.3748 3.29557 24.4961C2.41689 23.6174 2.41666 22.2034 2.41666 19.375V9.625C2.41666 6.79657 2.41689 5.38259 3.29557 4.50391C4.17425 3.62523 5.58824 3.625 8.41666 3.625H20.5837ZM9.66666 12.292C9.11438 12.292 8.66666 12.7397 8.66666 13.292V20.542L8.67155 20.6445C8.72303 21.1485 9.1491 21.542 9.66666 21.542C10.1842 21.542 10.6103 21.1485 10.6618 20.6445L10.6667 20.542V13.292C10.6667 12.7397 10.2189 12.292 9.66666 12.292ZM19.3337 9.875C18.7814 9.875 18.3337 10.3227 18.3337 10.875V20.542L18.3385 20.6436C18.3896 21.148 18.8158 21.542 19.3337 21.542C19.8514 21.5418 20.2778 21.1479 20.3288 20.6436L20.3337 20.542V10.875C20.3337 10.3228 19.8858 9.87518 19.3337 9.875ZM14.4997 14.708C13.9476 14.7082 13.4998 15.156 13.4997 15.708V20.541L13.5046 20.6436C13.5557 21.1477 13.982 21.5408 14.4997 21.541C15.0175 21.541 15.4436 21.1478 15.4948 20.6436L15.4997 20.541V15.708C15.4995 15.1559 15.0518 14.708 14.4997 14.708Z",fill:"white"})],-1),d("span",null,"Trainings",-1)])),d("div",{class:"icon",onClick:l[3]||(l[3]=c=>r({name:"OrgCareers"}))},l[47]||(l[47]=[d("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M22.8798 11.0484C23.4046 10.8642 23.9845 11.1431 24.1081 11.6855C24.4792 13.3134 24.4217 15.0018 23.9268 16.6191C23.4739 18.0989 22.6698 19.4685 21.5787 20.6449C21.2148 21.0372 20.6017 21.0197 20.2239 20.6408L14.9487 15.3495C14.4292 14.8284 14.6314 13.9436 15.3257 13.6999L22.8798 11.0484ZM13 4.0826C13 3.50231 13.4932 3.04057 14.0672 3.12592C15.8633 3.39302 17.5788 4.00579 19.085 4.93161C20.3794 5.72731 21.4793 6.72976 22.3343 7.87824C22.709 8.38157 22.4513 9.07932 21.8592 9.28718L14.3313 11.9301C13.6809 12.1584 13 11.6758 13 10.9865V4.0826Z",fill:"white"}),d("path",{d:"M11.9511 13.2908C11.9512 13.5763 12.0581 13.8518 12.25 14.0632L19.2677 21.7886C19.6714 22.233 19.5963 22.9337 19.0759 23.2331C18.245 23.7112 17.354 24.0924 16.4209 24.365C14.5402 24.9144 12.5476 25.0087 10.6201 24.6394C8.69236 24.2701 6.88846 23.4478 5.36911 22.2468C3.84993 21.0459 2.66126 19.5025 1.90915 17.7537C1.15711 16.0048 0.864996 14.1043 1.05759 12.2205C1.25024 10.3365 1.92171 8.52693 3.01364 6.95288C4.1056 5.37884 5.58398 4.08845 7.31735 3.19605C8.43484 2.62073 9.63633 2.22318 10.8757 2.01305C11.4515 1.91541 11.9511 2.37876 11.9511 2.96284V13.2908Z",fill:"white"})],-1),d("span",null,"Career",-1)])),d("div",{class:"icon",onClick:l[4]||(l[4]=c=>r({name:"OrgCalendar"}))},l[48]||(l[48]=[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M2.16675 9.4165C2.16675 7.53089 2.16675 6.58808 2.75253 6.00229C3.33832 5.4165 4.28113 5.4165 6.16675 5.4165H19.8334C21.719 5.4165 22.6618 5.4165 23.2476 6.00229C23.8334 6.58808 23.8334 7.53089 23.8334 9.4165V9.83317C23.8334 10.3046 23.8334 10.5403 23.687 10.6867C23.5405 10.8332 23.3048 10.8332 22.8334 10.8332H3.16675C2.69534 10.8332 2.45964 10.8332 2.31319 10.6867C2.16675 10.5403 2.16675 10.3046 2.16675 9.83317V9.4165Z",fill:"white"}),d("path",{d:"M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833ZM8.58301 19.5C8.11182 19.5 7.87591 19.5001 7.72949 19.6465C7.58321 19.7929 7.58301 20.0288 7.58301 20.5V20.667C7.58301 21.1382 7.58308 21.3741 7.72949 21.5205C7.87591 21.6669 8.11182 21.667 8.58301 21.667H10.917C11.3882 21.667 11.6241 21.6669 11.7705 21.5205C11.9169 21.3741 11.917 21.1382 11.917 20.667V20.5C11.917 20.0288 11.9168 19.7929 11.7705 19.6465C11.6241 19.5001 11.3882 19.5 10.917 19.5H8.58301ZM15.083 19.5C14.6118 19.5 14.3759 19.5001 14.2295 19.6465C14.0832 19.7929 14.083 20.0288 14.083 20.5V20.667C14.083 21.1382 14.0831 21.3741 14.2295 21.5205C14.3759 21.6669 14.6118 21.667 15.083 21.667H17.417C17.8882 21.667 18.1241 21.6669 18.2705 21.5205C18.4169 21.3741 18.417 21.1382 18.417 20.667V20.5C18.417 20.0288 18.4168 19.7929 18.2705 19.6465C18.1241 19.5001 17.8882 19.5 17.417 19.5H15.083ZM8.58301 15.167C8.11182 15.167 7.87591 15.1671 7.72949 15.3135C7.58337 15.4599 7.58301 15.6959 7.58301 16.167V16.333C7.58301 16.8041 7.58337 17.0401 7.72949 17.1865C7.87591 17.3329 8.11182 17.333 8.58301 17.333H10.917C11.3882 17.333 11.6241 17.3329 11.7705 17.1865C11.9166 17.0401 11.917 16.8041 11.917 16.333V16.167C11.917 15.6959 11.9166 15.4599 11.7705 15.3135C11.6241 15.1671 11.3882 15.167 10.917 15.167H8.58301ZM15.083 15.167C14.6118 15.167 14.3759 15.1671 14.2295 15.3135C14.0834 15.4599 14.083 15.6959 14.083 16.167V16.333C14.083 16.8041 14.0834 17.0401 14.2295 17.1865C14.3759 17.3329 14.6118 17.333 15.083 17.333H17.417C17.8882 17.333 18.1241 17.3329 18.2705 17.1865C18.4166 17.0401 18.417 16.8041 18.417 16.333V16.167C18.417 15.6959 18.4166 15.4599 18.2705 15.3135C18.1241 15.1671 17.8882 15.167 17.417 15.167H15.083Z",fill:"white"}),d("path",{d:"M7.58325 3.25L7.58325 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),d("path",{d:"M18.4167 3.25L18.4167 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),d("span",null,"Calendar",-1)])),l[51]||(l[51]=d("div",{class:"spacer"},null,-1)),d("div",{class:"icon signout",onClick:o},l[49]||(l[49]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d("polyline",{points:"16 17 21 12 16 7"}),d("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),d("span",null,"Sign Out",-1)]))],2)]),_:1}),d("main",dK,[l[74]||(l[74]=d("header",{class:"topbar"},[d("div",{class:"Pathfinder-wrapper"},[d("span",{class:"logo-text"},"Pathfinder")])],-1)),d("section",hK,[d("div",fK,[Ue(d("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=c=>a.globalSearchQuery=c),placeholder:" Search careers...",class:"global-search-bar text-black px-4 py-2 rounded-lg w-full sm:w-3/4 md:w-1/2 lg:w-1/3"},null,512),[[We,a.globalSearchQuery]])])]),d("section",pK,[d("div",gK,[d("h2",mK,[l[52]||(l[52]=Re(" Open Careers ")),d("span",vK,Z(a.sortedUpcomingCareers.length),1)]),d("button",{class:"plus-btn-text",onClick:l[6]||(l[6]=c=>a.openCareerPopup())},"+")]),d("div",bK,[(M(!0),B(Ye,null,ct(a.visibleFilteredUpcoming,c=>(M(),B("div",{class:"career-card",key:c.careerID||c.id,onClick:u=>a.openCareerDetails(c)},[d("div",wK,[d("h3",_K,Z(c.position),1),d("p",xK," Deadline: "+Z(a.formatdeadline(c.deadlineOfSubmission)),1)]),d("div",CK,[d("div",{class:"menu-icon",onClick:vt(u=>a.toggleUpcomingMenu(c.careerID||c.id),["stop"])},"  ",8,kK),a.openUpcomingMenu===(c.careerID||c.id)?(M(),B("div",{key:0,class:"dropdown-menu",onClick:l[7]||(l[7]=vt(()=>{},["stop"]))},[d("ul",null,[d("li",{onClick:u=>a.deleteCareer(c)},"Delete Career",8,SK),d("li",{onClick:u=>a.openCareerPopup(c)},"Update Career",8,AK)])])):Ce("",!0)])],8,yK))),128))]),a.sortedUpcomingCareers.length>4?(M(),B("button",{key:0,class:"show-more-btn",onClick:l[8]||(l[8]=c=>a.showAllUpcoming=!a.showAllUpcoming)},Z(a.showAllUpcoming?"Show Less":"Show More"),1)):Ce("",!0)]),d("section",LK,[d("div",EK,[d("h2",TK,[l[53]||(l[53]=Re(" Closed Careers ")),d("span",PK,Z(a.sortedCompletedCareers.length),1)])]),d("div",NK,[(M(!0),B(Ye,null,ct(a.visibleFilteredCompleted,c=>(M(),B("div",{class:"career-card",key:c.careerID||c.id,onClick:u=>a.openCareerDetails(c)},[d("div",OK,[d("h3",DK,Z(c.title||c.position),1),d("p",MK," Closed: "+Z(a.formatdeadline(c.deadlineOfSubmission)),1)]),d("div",RK,[d("div",{class:"menu-icon",onClick:vt(u=>a.toggleCompletedMenu(c.careerID||c.id),["stop"])},"  ",8,$K),a.openCompletedMenu===(c.careerID||c.id)?(M(),B("div",{key:0,class:"dropdown-menu",onClick:l[9]||(l[9]=vt(()=>{},["stop"]))},[d("ul",null,[d("li",{onClick:u=>a.deleteCareer(c)},"Delete Career",8,jK)])])):Ce("",!0)])],8,IK))),128))]),a.sortedCompletedCareers.length>4?(M(),B("button",{key:0,class:"show-more-btn",onClick:l[10]||(l[10]=c=>a.showAllCompleted=!a.showAllCompleted)},Z(a.showAllCompleted?"Show Less":"Show More"),1)):Ce("",!0)]),a.showApplicantsModal?(M(),B("div",{key:0,class:"modal-overlay",onClick:l[12]||(l[12]=vt((...c)=>a.closeModal&&a.closeModal(...c),["self"]))},[d("div",BK,[d("button",{class:"modal-close-btn",onClick:l[11]||(l[11]=(...c)=>a.closeModal&&a.closeModal(...c))},""),d("h3",FK," Applicants for "+Z(a.selectedCareer.title||a.selectedCareer.position),1),d("div",UK,[d("table",null,[l[55]||(l[55]=d("thead",null,[d("tr",null,[d("th",null,"FULL NAME"),d("th",null,"DATE SUBMITTED"),d("th",null,"APPLICATION STATUS"),d("th",null,"REQUIREMENTS"),d("th",null,"SCHEDULE INTERVIEW"),d("th",null,"VIEW SCHEDULE")])],-1)),d("tbody",null,[a.applicantsList.length===0?(M(),B("tr",zK,l[54]||(l[54]=[d("td",{colspan:"6",style:{"text-align":"center"}},[d("p",null,"No applicants found for this career.")],-1)]))):Ce("",!0),(M(!0),B(Ye,null,ct(a.applicantsList,c=>(M(),B("tr",{key:c.id},[d("td",null,[d("p",VK,Z(c.name),1)]),d("td",null,[d("p",HK,Z(c.dateSubmitted),1)]),d("td",null,[Ue(d("select",{"onUpdate:modelValue":u=>c.status=u,onChange:u=>a.updateApplicationStatus(c),class:"status-dropdown"},[d("option",WK,Z(au("submitted")),1),d("option",GK,Z(au("in review")),1),d("option",KK,Z(au("for interview")),1),d("option",YK,Z(au("accepted")),1),d("option",ZK,Z(au("rejected")),1)],40,qK),[[ud,c.status]])]),d("td",JK,[c.requirements?(M(),B("button",{key:0,class:"download-btn",onClick:u=>{console.log("PERSON OBJECT:",c),a.downloadRequirements(c.id,c.requirements)}}," Download Requirements ",8,XK)):(M(),B("span",QK,"No requirements"))]),d("td",null,[c.status==="for interview"&&!c.interviewSchedule?(M(),B("button",{key:0,class:"schedule-btn",onClick:u=>a.openScheduleModal(c)}," Schedule ",8,eY)):c.status==="for interview"&&c.interviewSchedule?(M(),B("button",tY," Scheduled ")):(M(),B("span",nY,"-"))]),d("td",null,[c.status==="for interview"&&c.interviewSchedule?(M(),B("button",{key:0,class:"schedule-btn view",onClick:u=>a.openViewScheduleModal(c)}," View Schedule ",8,sY)):(M(),B("span",iY,"-"))])]))),128))])])])])])):Ce("",!0),a.showScheduleModal?(M(),B("div",{key:1,class:"modal-overlay",onClick:l[26]||(l[26]=vt((...c)=>a.closeScheduleModal&&a.closeScheduleModal(...c),["self"]))},[d("div",rY,[d("button",{class:"modal-close-btn",onClick:l[13]||(l[13]=(...c)=>a.closeScheduleModal&&a.closeScheduleModal(...c))},""),d("h3",null,"Schedule Interview for "+Z(a.selectedPerson?.name),1),d("div",oY,[l[61]||(l[61]=d("label",{for:"scheduleDate"},"Date & Time:",-1)),d("div",aY,[Ue(d("input",{id:"scheduleDate",ref:"dateInput",type:"datetime-local","onUpdate:modelValue":l[14]||(l[14]=c=>a.scheduleData.date=c),onKeydown:l[15]||(l[15]=vt(()=>{},["prevent"])),onKeypress:l[16]||(l[16]=vt(()=>{},["prevent"])),onPaste:l[17]||(l[17]=vt(()=>{},["prevent"])),onInput:l[18]||(l[18]=c=>c.target.value=c.target.value)},null,544),[[We,a.scheduleData.date]]),d("span",{class:"calendar-icon",onClick:l[19]||(l[19]=vt((...c)=>a.openCalendar&&a.openCalendar(...c),["prevent"]))},l[56]||(l[56]=[Ws('<svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6c6c1424><path d="M2.16669 9.41675C2.16669 7.53113 2.16669 6.58832 2.75247 6.00253C3.33826 5.41675 4.28107 5.41675 6.16669 5.41675H19.8334C21.719 5.41675 22.6618 5.41675 23.2476 6.00253C23.8334 6.58832 23.8334 7.53113 23.8334 9.41675V9.83342C23.8334 10.3048 23.8334 10.5405 23.6869 10.687C23.5405 10.8334 23.3048 10.8334 22.8334 10.8334H3.16669C2.69528 10.8334 2.45958 10.8334 2.31313 10.687C2.16669 10.5405 2.16669 10.3048 2.16669 9.83341V9.41675Z" fill="black" data-v-6c6c1424></path><path d="M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833Z" fill="black" data-v-6c6c1424></path><path d="M7.58331 3.25L7.58331 6.5" stroke="black" stroke-width="2" stroke-linecap="round" data-v-6c6c1424></path><path d="M18.4167 3.25L18.4167 6.5" stroke="black" stroke-width="2" stroke-linecap="round" data-v-6c6c1424></path></svg>',1)]))]),d("div",lY,[d("label",null,[Ue(d("input",{type:"radio",value:"onSite","onUpdate:modelValue":l[20]||(l[20]=c=>a.scheduleData.mode=c)},null,512),[[zu,a.scheduleData.mode]]),l[57]||(l[57]=Re(" On-Site"))]),d("label",null,[Ue(d("input",{type:"radio",value:"online","onUpdate:modelValue":l[21]||(l[21]=c=>a.scheduleData.mode=c)},null,512),[[zu,a.scheduleData.mode]]),l[58]||(l[58]=Re(" Online"))])]),a.scheduleData.mode==="onSite"?(M(),B("div",cY,[l[59]||(l[59]=d("label",null,"Location:",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":l[22]||(l[22]=c=>a.scheduleData.detail=c),placeholder:"Enter interview location"},null,512),[[We,a.scheduleData.detail]])])):a.scheduleData.mode==="online"?(M(),B("div",uY,[l[60]||(l[60]=d("label",null,"Interview Link:",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":l[23]||(l[23]=c=>a.scheduleData.detail=c),placeholder:"https://meet.google.com/..."},null,512),[[We,a.scheduleData.detail]])])):Ce("",!0),d("div",dY,[d("button",{class:"confirm-btn",onClick:l[24]||(l[24]=(...c)=>a.confirmSchedule&&a.confirmSchedule(...c))}," Confirm "),d("button",{class:"cancel-btn",onClick:l[25]||(l[25]=(...c)=>a.closeScheduleModal&&a.closeScheduleModal(...c))}," Cancel ")])])])])):Ce("",!0),a.showViewScheduleModal?(M(),B("div",{key:2,class:"modal-overlay",onClick:l[29]||(l[29]=vt((...c)=>a.closeViewScheduleModal&&a.closeViewScheduleModal(...c),["self"]))},[d("div",hY,[d("button",{class:"modal-close-btn",onClick:l[27]||(l[27]=(...c)=>a.closeViewScheduleModal&&a.closeViewScheduleModal(...c))},"  "),d("h3",null,"Interview Schedule for "+Z(a.selectedPerson?.name),1),a.selectedPerson?(M(),B("div",fY,[a.selectedPerson.interviewSchedule?(M(),B("p",pY,[l[62]||(l[62]=d("strong",null,"Date & Time:",-1)),Re(" "+Z(a.formatInterviewDateTime(a.selectedPerson.interviewSchedule)),1)])):Ce("",!0),a.selectedPerson.interviewMode?(M(),B("p",gY,[l[63]||(l[63]=d("strong",null,"Mode:",-1)),Re(" "+Z(a.selectedPerson.interviewMode),1)])):Ce("",!0),a.selectedPerson.interviewMode==="On-Site"&&a.selectedPerson.interviewLocation?(M(),B("p",mY,[l[64]||(l[64]=d("strong",null,"Location:",-1)),Re(" "+Z(a.selectedPerson.interviewLocation),1)])):a.selectedPerson.interviewMode==="Online"&&a.selectedPerson.interviewLink?(M(),B("p",vY,[l[65]||(l[65]=d("strong",null,"Interview Link:",-1)),d("a",{href:a.selectedPerson.interviewLink,target:"_blank",rel:"noopener noreferrer"},Z(a.selectedPerson.interviewLink),9,bY)])):Ce("",!0)])):Ce("",!0),d("div",yY,[d("button",{class:"cancel-btn",onClick:l[28]||(l[28]=(...c)=>a.closeViewScheduleModal&&a.closeViewScheduleModal(...c))}," Close ")])])])):Ce("",!0),a.showCareerPopup?(M(),B("div",wY,[d("div",_Y,[d("button",{onClick:l[30]||(l[30]=(...c)=>a.closeCareerPopup&&a.closeCareerPopup(...c)),class:"career-popup-close"},"  "),d("h2",xY,Z(a.isEditMode?"Update Career":"Post Career"),1),d("form",{onSubmit:l[39]||(l[39]=vt((...c)=>a.saveCareer&&a.saveCareer(...c),["prevent"])),class:"Career-popup-form"},[Ue(d("input",{"onUpdate:modelValue":l[31]||(l[31]=c=>a.newCareer.position=c),type:"text",placeholder:"Position",class:"career-input"},null,512),[[We,a.newCareer.position]]),Ue(d("input",{"onUpdate:modelValue":l[32]||(l[32]=c=>a.newCareer.details=c),type:"text",placeholder:"Details and Instruction",class:"career-input"},null,512),[[We,a.newCareer.details]]),Ue(d("textarea",{"onUpdate:modelValue":l[33]||(l[33]=c=>a.newCareer.qualifications=c),placeholder:"Qualifications",class:"career-input"},null,512),[[We,a.newCareer.qualifications]]),Ue(d("textarea",{"onUpdate:modelValue":l[34]||(l[34]=c=>a.newCareer.requirements=c),placeholder:"Requirements",class:"career-input"},null,512),[[We,a.newCareer.requirements]]),Ue(d("input",{"onUpdate:modelValue":l[35]||(l[35]=c=>a.newCareer.letterAddress=c),type:"text",placeholder:"Application Letter Address",class:"career-input"},null,512),[[We,a.newCareer.letterAddress]]),d("div",CY,[Ue(d("input",{type:"date","onUpdate:modelValue":l[36]||(l[36]=c=>a.newCareer.deadline=c),min:a.todayDate,placeholder:"Deadline of Submission",class:"career-input"},null,8,kY),[[We,a.newCareer.deadline]]),l[66]||(l[66]=d("span",{class:"calendar-icon"},null,-1))]),d("div",SY,[l[67]||(l[67]=d("label",{class:"block font-semibold text-gray-600 mb-2"},"Tags",-1)),d("div",AY,[d("div",LY,[(M(!0),B(Ye,null,ct(a.tagOptions,c=>(M(),B("span",{key:c.TagID,class:ft(["tag-chip",{"tag-chip-selected":a.isTagSelected(c.TagID)}]),onClick:u=>a.toggleTag(c.TagID)},Z(c.TagName),11,EY))),128))])]),a.newCareer.Tags.length?(M(),B("div",TY,[(M(!0),B(Ye,null,ct(a.newCareer.Tags,c=>(M(),B("span",{key:c,class:"bg-blue-100 text-blue-700 text-sm px-3 py-1 rounded-full"},[Re(Z(a.getTagName(c))+" ",1),d("button",{onClick:vt(u=>a.removeTag(c),["stop"]),class:"ml-1 text-red-500"},"  ",8,PY)]))),128))])):Ce("",!0),Ue(d("input",{"onUpdate:modelValue":l[37]||(l[37]=c=>a.newTagName=c),type:"text",placeholder:"Add new tag",class:"career-input mt-2"},null,512),[[We,a.newTagName]]),d("button",{onClick:l[38]||(l[38]=vt((...c)=>a.addTag&&a.addTag(...c),["prevent"])),class:"career-save-btn mt-2"}," Add Tag ")]),d("button",NY,Z(a.isEditMode?"Update":"Post"),1)],32)])])):Ce("",!0),a.showCareerDetailsModal?(M(),B("div",{key:4,class:"modal-overlay",onClick:l[42]||(l[42]=vt((...c)=>a.closeCareerDetails&&a.closeCareerDetails(...c),["self"]))},[d("div",IY,[d("button",{class:"modal-close-btn",onClick:l[40]||(l[40]=(...c)=>a.closeCareerDetails&&a.closeCareerDetails(...c))},""),d("h3",OY,Z(a.selectedCareer.title),1),d("p",DY,[l[68]||(l[68]=d("strong",null,"Position:",-1)),Re(" "+Z(a.selectedCareer.position),1)]),d("p",MY,[l[69]||(l[69]=d("strong",null,"Details:",-1)),Re(" "+Z(a.selectedCareer.detailsAndInstructions),1)]),d("p",RY,[l[70]||(l[70]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(a.selectedCareer.qualifications),1)]),d("p",$Y,[l[71]||(l[71]=d("strong",null,"Requirements:",-1)),Re(" "+Z(a.selectedCareer.requirements),1)]),d("p",jY,[l[72]||(l[72]=d("strong",null,"Letter Address:",-1)),Re(" "+Z(a.selectedCareer.applicationLetterAddress),1)]),d("p",BY,[l[73]||(l[73]=d("strong",null,"Deadline:",-1)),Re(" "+Z(a.formatdeadline(a.selectedCareer.deadlineOfSubmission)),1)]),d("div",FY,[d("button",{class:"btn-view-applicants",onClick:l[41]||(l[41]=c=>a.handleViewApplicants(a.selectedCareer))}," View Applicants ")])])])):Ce("",!0)])]))}}),VY=Pi(zY,[["__scopeId","data-v-6c6c1424"]]),HY=F0("auth",{state:()=>({isLoggedIn:!!localStorage.getItem("token"),user:null}),actions:{async login(t){localStorage.setItem("token",t),Le.defaults.headers.common.Authorization=`Bearer ${t}`,this.isLoggedIn=!0,await this.fetchUser()},logout(){localStorage.removeItem("token"),delete Le.defaults.headers.common.Authorization,this.user=null,this.isLoggedIn=!1},async fetchUser(){try{const t=await Le.get("/api/user",{withCredentials:!0});this.user=t.data}catch{this.logout()}},async initialize(){const t=localStorage.getItem("token");t&&(Le.defaults.headers.common.Authorization=`Bearer ${t}`,await this.fetchUser())}}}),qY={class:"flex relative font-poppins"},WY={class:"flex items-center"},GY={class:"flex flex-col flex-1 overflow-y-auto"},KY={class:"flex flex-col p-2 gap-2 flex-1"},YY={class:"flex flex-col items-center justify-center gap-2 mb-6 pt-4 mx-auto"},ZY={class:"avatar"},JY={key:0,class:"text-xl font-bold text-white transition-opacity duration-300"},XY={key:0},QY={key:0},eZ={key:0},tZ={key:0},nZ={key:0},sZ={class:"flex flex-col p-2 mt-auto gap-2"},iZ={key:0},rZ={key:0},oZ={__name:"SideBar",setup(t){dd();const e=js(),n=le("");HY();const s=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e.push({name:"Login"})},i=le(!1),r=le(null),o=()=>{i.value=!i.value},a=l=>{i.value&&r.value&&!r.value.contains(l.target)&&(i.value=!1)};return It(()=>{const l=()=>{r.value.style.height=`${window.innerHeight}px`};window.addEventListener("resize",l),l(),tl(()=>window.removeEventListener("resize",l))}),It(()=>{document.addEventListener("click",a);const l=localStorage.getItem("user");if(l){const c=JSON.parse(l);c.firstName&&c.lastName?n.value=`${c.firstName} ${c.lastName}`:n.value="Guest"}else n.value="Guest"}),It(()=>{document.addEventListener("click",a)}),tl(()=>{document.removeEventListener("click",a)}),(l,c)=>(M(),B("div",qY,[d("div",{ref_key:"sidebar",ref:r,class:ft(["fixed h-screen top-0 left-0 overflow-y-auto bg-dark-slate text-white transition-all duration-300 flex flex-col z-50",i.value?"w-72 px-4":"w-16 items-center"])},[d("div",WY,[d("button",{class:"p-2 mt-4 mb-2 hover:bg-slate-700 rounded-lg",onClick:vt(o,["stop"])},c[7]||(c[7]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),d("aside",GY,[d("ul",KY,[d("li",null,[d("button",{onClick:c[0]||(c[0]=u=>l.$router.push({name:"Profile"})),class:"w-full"},[d("div",YY,[d("div",ZY,[d("div",{class:ft([i.value?"w-16":"w-10","rounded-full","transition-all","duration-300"])},c[8]||(c[8]=[d("img",{src:"https://img.daisyui.com/images/profile/demo/yellingcat@192.webp",alt:"User Avatar"},null,-1)]),2)]),i.value?(M(),B("span",JY,Z(n.value),1)):Ce("",!0)])])]),d("li",null,[d("button",{class:"text-white mt-3 gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:c[1]||(c[1]=u=>l.$router.push({name:"Trainingpage"}))},[c[9]||(c[9]=d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.05442 1.17157C0 2.34315 0 4.22876 0 8V16C0 19.7712 0 21.6569 1.05442 22.8284C2.10883 24 3.80589 24 7.2 24H16.8C20.1941 24 21.8912 24 22.9456 22.8284C24 21.6569 24 19.7712 24 16V8C24 4.22876 24 2.34315 22.9456 1.17157C21.8912 0 20.1941 0 16.8 0H7.2C3.80589 0 2.10883 0 1.05442 1.17157ZM16.8 6.66667C17.4627 6.66667 18 7.26362 18 8V18.6667C18 19.403 17.4627 20 16.8 20C16.1373 20 15.6 19.403 15.6 18.6667V8C15.6 7.26362 16.1373 6.66667 16.8 6.66667ZM8.4 10.6667C8.4 9.93029 7.86274 9.33333 7.2 9.33333C6.53726 9.33333 6 9.93029 6 10.6667L6 18.6667C6 19.403 6.53726 20 7.2 20C7.86274 20 8.4 19.403 8.4 18.6667L8.4 10.6667ZM13.2 13.3333C13.2 12.597 12.6627 12 12 12C11.3373 12 10.8 12.597 10.8 13.3333V18.6667C10.8 19.403 11.3373 20 12 20C12.6627 20 13.2 19.403 13.2 18.6667V13.3333Z",fill:"white"})],-1)),i.value?(M(),B("span",XY,"Training")):Ce("",!0)])]),d("li",null,[d("button",{class:"text-white gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:c[2]||(c[2]=u=>l.$router.push({name:"Careerpage"}))},[c[10]||(c[10]=Ws('<svg class="size-6 flex-shrink-0" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.1456 19.0508C20.4307 19.3614 20.9281 19.3788 21.2121 19.0672C22.3383 17.8319 23.1617 16.3635 23.611 14.7685C24.1117 12.991 24.1277 11.1277 23.6669 9.35319C23.5618 8.94823 23.1083 8.74338 22.7073 8.89627L14.9063 11.8712C14.4209 12.0562 14.2739 12.6531 14.6205 13.0308L20.1456 19.0508Z" fill="white"></path><path d="M22.4984 6.57385C22.7184 6.94044 22.5324 7.4006 22.1252 7.55588L14.4062 10.4995C13.9141 10.6872 13.3816 10.3356 13.3816 9.82305V1.91852C13.3816 1.49848 13.7483 1.16366 14.1778 1.21988C15.9607 1.45324 17.6679 2.08798 19.154 3.08041C20.5314 4.0003 21.6708 5.19538 22.4984 6.57385Z" fill="white"></path><path d="M11.8816 0.706916C11.8816 0.288745 11.518 -0.0452101 11.0897 0.00501095C9.54973 0.185579 8.05327 0.635662 6.67712 1.33692C4.84512 2.27048 3.28289 3.62037 2.12882 5.26701C0.974739 6.91366 0.264437 8.80624 0.0608279 10.7771C-0.142781 12.748 0.166586 14.7363 0.961528 16.566C1.75647 18.3956 3.01245 20.0101 4.61821 21.2665C6.22397 22.5228 8.12995 23.3823 10.1673 23.7686C12.2047 24.155 14.3106 24.0563 16.2984 23.4815C17.5139 23.1299 18.6624 22.607 19.7071 21.9335C20.0707 21.6991 20.1185 21.2086 19.8283 20.8924L12.0997 12.4716C11.9592 12.3185 11.8816 12.1208 11.8816 11.916V0.706916Z" fill="white"></path><path d="M21.0922 20.082C21.1317 20.1251 21.171 20.0986 21.1286 20.0582L20.6621 19.6135L21.0922 20.082Z" fill="white"></path></svg>',1)),i.value?(M(),B("span",QY,"Career")):Ce("",!0)])]),d("li",null,[d("button",{class:"text-white gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:c[3]||(c[3]=u=>l.$router.push({name:"ResumeEditorpage"}))},[c[11]||(c[11]=d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M19.8333 3.21521V9.06681C19.8333 9.86022 19.8333 10.2569 19.9877 10.56C20.1235 10.8265 20.3402 11.0432 20.6068 11.1791C20.9098 11.3335 21.3066 11.3335 22.1 11.3335H27.9516M22.6666 18.4167H11.3333M22.6666 24.0834H11.3333M14.1666 12.75H11.3333M19.8333 2.83337H12.4666C10.0864 2.83337 8.89629 2.83337 7.98717 3.2966C7.18748 3.70406 6.53731 4.35423 6.12985 5.15391C5.66663 6.06304 5.66663 7.25315 5.66663 9.63337V24.3667C5.66663 26.7469 5.66663 27.937 6.12985 28.8462C6.53731 29.6459 7.18748 30.296 7.98717 30.7035C8.89629 31.1667 10.0864 31.1667 12.4666 31.1667H21.5333C23.9135 31.1667 25.1036 31.1667 26.0128 30.7035C26.8124 30.296 27.4626 29.6459 27.8701 28.8462C28.3333 27.937 28.3333 26.7469 28.3333 24.3667V11.3334L19.8333 2.83337Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),i.value?(M(),B("span",eZ,"Resume")):Ce("",!0)])]),d("li",null,[d("button",{class:"text-white gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:c[4]||(c[4]=u=>l.$router.push({name:"Certificatespage"}))},[c[12]||(c[12]=d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M9.47917 29.1666H7.29167C5.68084 29.1666 4.375 27.8608 4.375 26.25V5.83329C4.375 4.22246 5.68084 2.91663 7.29167 2.91663H27.7083C29.3192 2.91663 30.625 4.22246 30.625 5.83329V26.25C30.625 27.8608 29.3192 29.1666 27.7083 29.1666H25.5208M17.5 27.7083C19.9162 27.7083 21.875 25.7495 21.875 23.3333C21.875 20.917 19.9162 18.9583 17.5 18.9583C15.0838 18.9583 13.125 20.917 13.125 23.3333C13.125 25.7495 15.0838 27.7083 17.5 27.7083ZM17.5 27.7083L17.5313 27.708L12.8751 32.3641L8.75036 28.2393L13.1537 23.836M17.5 27.7083L22.1562 32.3641L26.281 28.2393L21.8777 23.836M13.125 8.74996H21.875M10.2083 13.8541H24.7917",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),i.value?(M(),B("span",tZ,"Certificates")):Ce("",!0)])]),d("li",null,[d("button",{class:"text-white gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:c[5]||(c[5]=u=>l.$router.push({name:"Bookmarkpage"}))},[c[13]||(c[13]=d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M3 3V24L10.5 16.5L18 24V3H3ZM15 0H0V21L1.5 19.5V1.5H15V0Z",fill:"white"})],-1)),i.value?(M(),B("span",nZ,"Bookmark")):Ce("",!0)])])]),d("div",sZ,[d("ul",null,[d("li",null,[d("button",{class:"text-white gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:c[6]||(c[6]=u=>l.$router.push({name:"UpdateDeletepage"}))},[c[14]||(c[14]=d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"white"})],-1)),i.value?(M(),B("span",iZ,"Account Setting")):Ce("",!0)])]),d("li",null,[d("button",{class:"text-white gap-3 p-3 py-2 hover:bg-slate-700 rounded-lg w-full flex items-center justify-start",onClick:s},[c[15]||(c[15]=d("svg",{class:"size-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15.24 22.27H15.11C10.67 22.27 8.53002 20.52 8.16002 16.6C8.12002 16.19 8.42002 15.82 8.84002 15.78C9.24002 15.74 9.62002 16.05 9.66002 16.46C9.95002 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93002 4.41998 9.66002 7.61998C9.61002 8.02998 9.26002 8.33998 8.84002 8.29998C8.42002 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z",fill:"white"}),d("path",{d:"M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z",fill:"white"}),d("path",{d:"M5.84994 16.1C5.65994 16.1 5.46994 16.03 5.31994 15.88L1.96994 12.53C1.67994 12.24 1.67994 11.76 1.96994 11.47L5.31994 8.12003C5.60994 7.83003 6.08994 7.83003 6.37994 8.12003C6.66994 8.41003 6.66994 8.89003 6.37994 9.18003L3.55994 12L6.37994 14.82C6.66994 15.11 6.66994 15.59 6.37994 15.88C6.23994 16.03 6.03994 16.1 5.84994 16.1Z",fill:"white"})],-1)),i.value?(M(),B("span",rZ,"Logout")):Ce("",!0)])])])])])],2)]))}},aZ={class:"flex-grow flex items-center justify-between p-4"},lZ={class:"flex items-center justify-between p-4 w-full"},cZ={key:0,class:"flex items-center justify-center gap-8 flex-grow font-poppins pt-4 pb-3"},uZ={key:1,class:"absolute top-2 right-6"},dZ={key:2,class:"flex justify-end w-full"},hZ={key:0,class:"absolute top-full left-0 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-md z-50 p-3 flex flex-col gap-3"},fZ={class:"flex flex-wrap gap-2 justify-start"},pZ=["onMousedown"],gZ={key:0,class:"flex flex-wrap gap-2 justify-start"},mZ=["onMousedown"],vZ={key:1,class:"mt-2 max-h-60 overflow-y-auto"},bZ=["onClick"],yZ={class:"font-semibold text-gray-800"},wZ={class:"text-sm text-gray-500"},_Z={key:2,class:"text-center text-gray-500 text-sm mt-2"},xZ={key:0,open:"",class:"modal sm:modal-middle"},CZ={class:"modal-box max-w-3xl relative font-poppins"},kZ={class:"text-xl font-bold mb-2"},SZ={class:"text-sm text-gray-600 mb-2"},AZ={class:"my-4 flex justify-end gap-2"},LZ=["disabled"],EZ={key:0,class:"flex items-center justify-center"},TZ={key:1},PZ={class:"flex justify-center my-4"},NZ=["src"],IZ={key:1,class:"text-center text-gray-500 text-sm"},OZ={key:1,open:"",class:"modal sm:modal-middle"},DZ={class:"modal-box max-w-3xl relative font-poppins"},MZ={class:"text-xl font-bold mb-2"},RZ={class:"text-sm text-gray-600 mb-2"},$Z={class:"my-4 flex justify-end gap-2"},jZ=["disabled"],BZ={key:0,class:"animate-spin h-4 w-4 border-2 border-gray-400 rounded-full border-t-transparent"},FZ={key:1},UZ={key:2,open:"",class:"modal sm:modal-middle"},zZ={class:"modal-box max-w-lg relative font-poppins"},VZ={class:"text-xl font-bold mb-4"},HZ={class:"mb-4"},qZ={class:"fixed top-4 right-4 space-y-2 z-50"},WZ={key:3,open:"",class:"modal sm:modal-middle"},GZ={class:"modal-box max-w-2xl relative font-poppins"},KZ={class:"flex items-center gap-3 mb-3"},YZ=["src"],ZZ={class:"text-xl font-bold"},JZ={class:"text-sm text-gray-600"},XZ={key:0,class:"text-sm mb-5"},QZ=["href"],eJ={key:1,class:"mt-4"},tJ={class:"flex overflow-x-auto space-x-3 pb-2 snap-x snap-mandatory",style:{"scrollbar-width":"thin"}},nJ=["onClick"],sJ={class:"font-semibold text-sm leading-snug mb-1"},iJ={class:"text-[11px] text-gray-600 truncate"},rJ={key:2,class:"mt-6"},oJ={class:"flex overflow-x-auto space-x-3 pb-2 snap-x snap-mandatory",style:{"scrollbar-width":"thin"}},aJ=["onClick"],lJ={class:"font-semibold text-sm leading-snug mb-1"},cJ={class:"text-[11px] text-gray-600 truncate"},uJ={__name:"TopBar",setup(t){const e=le(null),n=dd(),s=le([]),i=ag(),r=le(!1),o=es({});async function a(A){if(!r.value){r.value=!0;try{await i.toggleRegister(A)}finally{r.value=!1}}}async function l(A){const O=A.TrainingID??A.trainingID??A.CareerID??A.ID??A.id;if(!O)return;(await i.toggleBookmark(O)).error?h("Failed to toggle bookmark.","error"):h(i.isTrainingBookmarked(O)?"Bookmarked successfully!":"Bookmark removed!","success")}async function c(A){const O=await i.toggleBookmark(A);O.success?h(O.bookmarked?"Bookmarked successfully!":"Bookmark removed!","success"):h(O.error||"Failed to toggle bookmark","error")}function u(A){const O=A.TrainingID??A.trainingID??A.CareerID??A.ID??A.id;return i.isTrainingBookmarked(O)}function h(A,O="info"){s.value.push({message:A,type:O}),setTimeout(()=>{s.value.shift()},3e3)}It(()=>{i.fetchMyRegistrations(),i.fetchBookmarks()});const p=le(!1),f=le([]),m=le([]),b=le(null),y=["Training","Career","Organization"],w=le(""),C=le([]),k=le(!1);le(!1);const S=le({}),I=le({});le({}),le([]);function z(A){f.value.includes(A)?(f.value=f.value.filter(O=>O!==A),(A==="Training"||A==="Career")&&(m.value=[])):((A==="Training"||A==="Career")&&(f.value=f.value.filter(O=>O!==(A==="Training"?"Career":"Training"))),f.value.push(A))}function H(A){m.value.includes(A)?m.value=[]:(["Online","On-site"].includes(A)&&(m.value=m.value.filter(O=>!["Online","On-site"].includes(O))),m.value=[A])}function U(A){b.value&&!b.value.contains(A.target)&&(p.value=!1)}It(()=>document.addEventListener("click",U)),tl(()=>document.removeEventListener("click",U));async function T(){if(!w.value.trim()){C.value=[];return}try{const A=await Le.get("https://pathfinder-development-production.up.railway.app/api/search",{params:{search:w.value,filterType:f.value[0]?.toLowerCase()||"",subFilter:m.value[0]||""}});C.value=A.data.results||[]}catch(A){console.error("Search failed:",A),C.value=[]}}mr([w,f,m],T);function q(A){return A.Type?.toLowerCase().includes("training")}const L=le(!1),P=le(!1),ne=le(!1),V=le({}),j=le({});function F(){V.value={},L.value=!1}function D(){V.value={},P.value=!1}function N(A){V.value=A,k.value=!0}function ee(){k.value=!1}function fe(){ne.value=!1,j.value={}}async function ae(A){if(console.log(" Item clicked:",A),console.log(" Detected Type:",A.Type),A.Type==="Training"||A.Type.includes("Training"))V.value=A,L.value=!0;else if(A.Type==="Career"||A.Type.includes("Career"))V.value=A,P.value=!0;else if(A.Type==="Organization"){j.value={...A,careers:[],trainings:[]},ne.value=!0;try{const Y=(await Le.get(`/api/search?search=${encodeURIComponent(A.Title)}&filterType=organization`)).data.results||[];j.value.careers=Y.filter(he=>he.Type.includes("Career")),j.value.trainings=Y.filter(he=>he.Type.includes("Training"))}catch(O){console.error("Error fetching organization posts:",O)}}}return(A,O)=>(M(),B("div",aZ,[d("div",lZ,[d("button",{class:"text-xl font-bold font-poppins text-darkslategray whitespace-nowrap",onClick:O[0]||(O[0]=Y=>A.$router.push({name:"Homepage"}))}," Pathfinder "),qt(n).path==="/admin"||qt(n).path==="/admin/adminhomepage"||qt(n).name==="AdminUpdateDelete"?(M(),B("div",cZ,[d("button",{onClick:O[1]||(O[1]=Y=>A.$router.push({name:"AdminHomePage"})),class:ft(["flex flex-col items-center justify-center transition-all duration-200",qt(n).name==="AdminHomePage"?"text-dark-slate border-b-4 border-dark-slate":"text-gray-400 hover:text-customButton border-b-4 border-transparent hover:customButton"]),title:"Account Verification"},O[15]||(O[15]=[Ws('<svg class="w-8 h-8 mb-1" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-v-ea2193f2><rect width="24" height="24" fill="white" data-v-ea2193f2></rect><path d="M17.1 2H12.9C9.81693 2 8.37099 3.09409 8.06975 5.73901C8.00673 6.29235 8.465 6.75 9.02191 6.75H11.1C15.3 6.75 17.25 8.7 17.25 12.9V14.9781C17.25 15.535 17.7077 15.9933 18.261 15.9303C20.9059 15.629 22 14.1831 22 11.1V6.9C22 3.4 20.6 2 17.1 2Z" data-v-ea2193f2></path><path d="M11.1 8H6.9C3.4 8 2 9.4 2 12.9V17.1C2 20.6 3.4 22 6.9 22H11.1C14.6 22 16 20.6 16 17.1V12.9C16 9.4 14.6 8 11.1 8ZM12.29 13.65L8.58 17.36C8.44 17.5 8.26 17.57 8.07 17.57C7.88 17.57 7.7 17.5 7.56 17.36L5.7 15.5C5.42 15.22 5.42 14.77 5.7 14.49C5.98 14.21 6.43 14.21 6.71 14.49L8.06 15.84L11.27 12.63C11.55 12.35 12 12.35 12.28 12.63C12.56 12.91 12.57 13.37 12.29 13.65Z" data-v-ea2193f2></path></svg><span class="text-xs" data-v-ea2193f2>Account Verification</span>',2)]),2),d("button",{onClick:O[2]||(O[2]=Y=>A.$router.push({name:"AdminUpdateDelete"})),class:ft(["flex flex-col items-center justify-center transition-all duration-200",qt(n).name==="AdminUpdateDelete"?"text-dark-slate border-b-4 border-dark-slate":"text-gray-400 hover:text-customButton border-b-4 border-transparent hover:customButton"]),title:"Account Settings"},O[16]||(O[16]=[d("svg",{class:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"currentColor"})],-1),d("span",{class:"text-xs"},"Account Setting",-1)]),2)])):Ce("",!0),qt(n).path==="/admin"||qt(n).path==="/admin/adminhomepage"||qt(n).name==="AdminUpdateDelete"?(M(),B("div",uZ,[d("button",{onClick:O[3]||(O[3]=(...Y)=>A.logout&&A.logout(...Y)),class:ft(["flex flex-col items-center justify-center transition-all duration-200",qt(n).name==="Logout"?"text-dark-slate border-b-4 border-dark-slate":"text-gray-400 hover:text-customButton border-b-4 border-transparent hover:border-customButton"]),title:"Logout"},O[17]||(O[17]=[Ws('<svg class="w-8 h-8 mb-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-ea2193f2><path d="M21.4999 13V15.26C21.4999 19.73 19.7099 21.52 15.2399 21.52H15.1099C11.0899 21.52 9.23991 20.07 8.90991 16.53" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ea2193f2></path><path d="M8.8999 7.55999C9.2099 3.95999 11.0599 2.48999 15.1099 2.48999H15.2399C19.7099 2.48999 21.4999 4.27999 21.4999 8.74999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ea2193f2></path><path d="M15.0001 12H3.62012" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ea2193f2></path><path d="M5.85 8.65002L2.5 12L5.85 15.35" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-ea2193f2></path></svg><span class="text-xs" data-v-ea2193f2>Logout</span>',2)]),2)])):(M(),B("div",dZ,[d("div",{ref_key:"searchContainer",ref:b,class:"relative w-full max-w-md ml-4 font-poppins"},[d("label",{class:"bg-blue-gray input w-full flex items-center gap-2 border-none rounded-full px-3 py-2 cursor-text",onClick:O[7]||(O[7]=Y=>p.value=!0)},[O[18]||(O[18]=d("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[d("g",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"2.5",fill:"none",stroke:"darkslategray"},[d("circle",{cx:"11",cy:"11",r:"8"}),d("path",{d:"m21 21-4.3-4.3"})])],-1)),Ue(d("input",{type:"search",placeholder:"Search","onUpdate:modelValue":O[4]||(O[4]=Y=>w.value=Y),class:"flex-grow bg-transparent outline-none font-poppins",onFocus:O[5]||(O[5]=Y=>p.value=!0)},null,544),[[We,w.value]]),w.value?(M(),B("button",{key:0,type:"button",onClick:O[6]||(O[6]=Y=>w.value=""),class:"absolute right-2 text-gray-400 hover:text-black"},"  ")):Ce("",!0)]),p.value?(M(),B("div",hZ,[d("div",fZ,[(M(),B(Ye,null,ct(y,Y=>d("button",{key:Y,onMousedown:vt(he=>z(Y),["prevent"]),class:ft(["px-4 py-1 rounded-full text-sm font-medium border transition-colors",f.value.includes(Y)?"bg-dark-slate text-white border-dark-slate":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-gray-300"])},Z(Y),43,pZ)),64))]),f.value.includes("Training")?(M(),B("div",gZ,[(M(),B(Ye,null,ct(["Online","On-site"],Y=>d("button",{key:Y,onMousedown:vt(he=>H(Y),["prevent"]),class:ft(["px-4 py-1 rounded-full text-sm font-medium border transition-colors",m.value.includes(Y)?"bg-dark-slate text-white border-dark-slate":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-gray-300"])},Z(Y),43,mZ)),64))])):Ce("",!0),C.value.length?(M(),B("div",vZ,[(M(!0),B(Ye,null,ct(C.value,(Y,he)=>(M(),B("div",{key:he,class:"p-2 hover:bg-gray-100 rounded cursor-pointer",onClick:ge=>ae(Y)},[d("div",yZ,Z(Y.Title||Y.Position||Y.Name),1),d("div",wZ,Z(Y.OrganizationName||Y.location||""),1)],8,bZ))),128))])):w.value&&f.value.length?(M(),B("div",_Z," No results found. ")):Ce("",!0)])):Ce("",!0)],512)]))]),L.value?(M(),B("dialog",xZ,[d("div",CZ,[d("button",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:F},"  "),d("h2",kZ,Z(V.value.Title),1),d("p",SZ," Organization: "+Z(V.value.OrganizationName),1),d("div",AZ,[d("button",{class:"btn btn-outline btn-sm",onClick:O[8]||(O[8]=Y=>c(V.value))},Z(u(V.value)?"Bookmarked":"Bookmark"),1),q(V.value)?(M(),B("button",{key:0,class:ft(["btn btn-sm text-white flex items-center justify-center",qt(i).registeredPosts[V.value.trainingID??V.value.TrainingID??V.value.id??V.value.ID]?"bg-gray-500":"bg-customButton"]),disabled:r.value,onClick:O[9]||(O[9]=Y=>a(V.value))},[r.value?(M(),B("span",EZ,O[19]||(O[19]=[d("svg",{class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):(M(),B("span",TZ,Z(qt(i).registeredPosts[V.value.trainingID??V.value.TrainingID??V.value.id??V.value.ID]?"Unregister":"Register"),1))],10,LZ)):Ce("",!0)]),d("div",PZ,[e.value?(M(),B("img",{key:0,src:e.value,alt:"Training QR",class:"w-40 h-40 border rounded shadow-md"},null,8,NZ)):(M(),B("p",IZ," QR code will appear once registered. "))]),d("p",null,[O[20]||(O[20]=d("strong",null,"Mode:",-1)),Re(" "+Z(V.value.Mode||"Not specified"),1)]),d("p",null,[O[21]||(O[21]=d("strong",null,"Description:",-1)),Re(" "+Z(V.value.Description),1)]),d("p",null,[O[22]||(O[22]=d("strong",null,"Schedule:",-1)),Re(" "+Z(V.value.Schedule),1)]),d("p",null,[O[23]||(O[23]=d("strong",null,"Location:",-1)),Re(" "+Z(V.value.Location),1)])])])):Ce("",!0),P.value?(M(),B("dialog",OZ,[d("div",DZ,[d("button",{class:"btn btn-sm btn-circle absolute right-2 top-2",onClick:D},"  "),d("h2",MZ,Z(V.value.Title||V.value.Position),1),d("p",RZ," Organization: "+Z(V.value.OrganizationName),1),d("div",$Z,[d("button",{class:"btn btn-outline btn-sm flex items-center gap-2",onClick:O[10]||(O[10]=Y=>l(V.value)),disabled:o[V.value.TrainingID||V.value.CareerID]},[o[V.value.TrainingID||V.value.CareerID]?(M(),B("span",BZ)):(M(),B("span",FZ,Z(S.value[V.value.TrainingID||V.value.CareerID]?"Bookmarked":"Bookmark"),1))],8,jZ),I.value[V.value.ID]?(M(),B("button",{key:1,class:"btn btn-sm bg-gray-500 text-white",onClick:O[12]||(O[12]=Y=>A.cancelApplication(V.value))}," Cancel Application ")):(M(),B("button",{key:0,class:"btn btn-sm bg-customButton text-white",onClick:O[11]||(O[11]=Y=>N(V.value))}," Apply "))]),d("p",null,[O[24]||(O[24]=d("strong",null,"Details:",-1)),Re(" "+Z(V.value.Description||V.value.DetailsandInstructions),1)]),d("p",null,[O[25]||(O[25]=d("strong",null,"Qualifications:",-1)),Re(" "+Z(V.value.Qualifications),1)]),d("p",null,[O[26]||(O[26]=d("strong",null,"Requirements:",-1)),Re(" "+Z(V.value.Requirements),1)]),d("p",null,[O[27]||(O[27]=d("strong",null,"Application Address:",-1)),Re(" "+Z(V.value.ApplicationLetterAddress),1)]),d("p",null,[O[28]||(O[28]=d("strong",null,"Deadline:",-1)),Re(" "+Z(V.value.DeadlineofSubmission),1)])])])):Ce("",!0),k.value?(M(),B("dialog",UZ,[d("div",zZ,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:ee},"  "),d("h2",VZ," Apply for "+Z(V.value?.Position||V.value?.Title),1),d("form",{onSubmit:O[14]||(O[14]=vt((...Y)=>A.submitApplication&&A.submitApplication(...Y),["prevent"]))},[d("div",HZ,[O[29]||(O[29]=d("label",{class:"block text-sm font-medium mb-1"}," Upload PDF Requirements ",-1)),d("input",{type:"file",accept:"application/pdf",onChange:O[13]||(O[13]=(...Y)=>A.handleFileUpload&&A.handleFileUpload(...Y)),required:"",class:"file-input file-input-bordered w-full"},null,32)]),d("div",{class:"flex justify-end gap-2"},[d("button",{type:"button",class:"btn btn-outline btn-sm",onClick:ee}," Cancel "),O[30]||(O[30]=d("button",{type:"submit",class:"btn bg-customButton hover:bg-dark-slate text-white btn-sm"}," Submit ",-1))])],32)])])):Ce("",!0),d("div",qZ,[(M(!0),B(Ye,null,ct(s.value,(Y,he)=>(M(),B("div",{key:he,class:ft(["px-4 py-2 rounded text-white shadow-md",{"bg-green-600":Y.type==="success","bg-red-600":Y.type==="error","bg-blue-600":Y.type==="info"}])},Z(Y.message),3))),128))]),ne.value?(M(),B("dialog",WZ,[d("div",GZ,[d("button",{class:"btn btn-sm btn-circle border-transparent bg-transparent absolute right-2 top-2",onClick:fe},"  "),d("div",KZ,[j.value.Logo?(M(),B("img",{key:0,src:j.value.Logo,alt:"Organization Logo",class:"w-14 h-14 rounded-full object-cover"},null,8,YZ)):Ce("",!0),d("div",null,[d("h2",ZZ,Z(j.value.Title||j.value.OrganizationName),1),d("p",JZ,Z(j.value.Description||j.value.OrganizationLocation),1)])]),j.value.Website?(M(),B("p",XZ,[d("a",{href:j.value.Website,target:"_blank",class:"text-blue-600 underline break-all"},Z(j.value.Website),9,QZ)])):Ce("",!0),j.value.careers&&j.value.careers.length?(M(),B("div",eJ,[O[31]||(O[31]=d("h3",{class:"text-base font-semibold mb-3"},"Career Posts",-1)),d("div",tJ,[(M(!0),B(Ye,null,ct(j.value.careers,Y=>(M(),B("div",{key:Y.ID,class:"snap-start w-[180px] flex-shrink-0 p-3 bg-blue-gray rounded-lg cursor-pointer hover:bg-gray-200 transition shadow-sm",onClick:he=>ae(Y)},[d("h4",sJ,Z(Y.Title),1),d("p",iJ," Deadline: "+Z(Y.DeadlineOfSubmission||"N/A"),1)],8,nJ))),128))])])):Ce("",!0),j.value.trainings&&j.value.trainings.length?(M(),B("div",rJ,[O[32]||(O[32]=d("h3",{class:"text-base font-semibold mb-3"},"Training Posts",-1)),d("div",oJ,[(M(!0),B(Ye,null,ct(j.value.trainings,Y=>(M(),B("div",{key:Y.ID,class:"snap-start w-[180px] flex-shrink-0 p-3 bg-blue-gray rounded-lg cursor-pointer hover:bg-gray-200 transition shadow-sm",onClick:he=>ae(Y)},[d("h4",lJ,Z(Y.Title),1),d("p",cJ," Schedule: "+Z(Y.Schedule||"Not specified"),1)],8,aJ))),128))])])):Ce("",!0)])])):Ce("",!0)]))}},dJ=Pi(uJ,[["__scopeId","data-v-ea2193f2"]]),hJ={class:"flex min-h-screen"},fJ={class:"flex flex-col flex-1"},pJ={class:"h-16 text-dark-slate flex items-center px-12"},gJ={class:"flex-1 overflow-x-auto px-12 bg-gray-100"},mJ={class:"w-full max-w-full"},vJ={__name:"MainLayout",setup(t){return le(!0),(e,n)=>{const s=to("router-view");return M(),B("div",hJ,[wt(oZ),d("div",fJ,[d("header",pJ,[wt(dJ)]),d("main",gJ,[d("div",mJ,[wt(s,null,{default:Wn(({Component:i})=>[(M(),qo(Y9,null,[(M(),qo(Q9(i)))],1024))]),_:1})])])])])}}},bJ={},yJ={class:"flex justify-center items-start min-h-screen overflow-y-auto py-10 px-4"};function wJ(t,e){const n=to("router-view");return M(),B("div",yJ,[wt(n)])}const _J=Pi(bJ,[["render",wJ]]),xJ={class:"organization-calendar"},CJ={class:"avatar"},kJ=["src"],SJ={key:0,class:"profile-section"},AJ={class:"org-name"},LJ={class:"profile-actions"},EJ={class:"content"},TJ={class:"calendar-section"},PJ={class:"calendar-container"},NJ={class:"calendar-wrapper"},IJ={class:"calendar-header"},OJ={class:"calendar-grid"},DJ=["onClick"],MJ={key:0,class:"date-number"},RJ={key:1,class:"events-list"},$J={key:0,class:"events-list"},jJ=["onClick"],BJ={class:"calendar-side"},FJ={key:0,class:"event-group"},UJ={key:0,class:"event-info"},zJ={key:1,class:"event-info"},VJ={key:2,class:"event-info"},HJ={key:3,class:"event-info"},qJ={key:4,class:"event-info"},WJ={key:5,class:"event-info"},GJ={key:1,class:"event-group"},KJ={key:0,class:"event-info"},YJ={key:1,class:"event-info"},ZJ={key:2,class:"event-info"},JJ={key:3,class:"event-info"},XJ={key:4,class:"event-info"},QJ={key:5,class:"event-info"},eX={key:2,class:"event-group"},tX={class:"event-info"},nX={class:"event-info"},sX={key:0,class:"event-info"},iX={key:1,class:"event-info"},rX={key:2,class:"event-info"},oX=["href"],aX={name:"OrganizationCalendar",data(){return{dictLogo:yr,currentDate:new Date,selectedEvents:{trainings:[],careers:[],scheduledInterviews:[]},isSidebarOpen:!0,dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],showModal:!1,selectedDate:null,showMenu:!1,trainings:[],careers:[],scheduledInterviews:[]}},setup(){return{events:le({})}},computed:{monthYear(){return this.currentDate.toLocaleString("default",{month:"long",year:"numeric"})},calendarDays(){const t=this.currentDate.getFullYear(),e=this.currentDate.getMonth(),n=new Date(t,e,1),i=new Date(t,e+1,0).getDate(),r=[];for(let o=0;o<n.getDay();o++)r.push(null);for(let o=1;o<=i;o++)r.push(new Date(t,e,o));return r},formattedSelectedDate(){return this.selectedDate?this.selectedDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""}},methods:{formatTime12Hour(t){if(!t)return"";const[e,n]=t.split(":"),s=parseInt(e,10),i=parseInt(n,10),r=s>=12?"PM":"AM";return`${s%12===0?12:s%12}:${i.toString().padStart(2,"0")} ${r}`},async fetchApplications(){try{const t=JSON.parse(localStorage.getItem("user")),e=localStorage.getItem("token");if(!t||!e)return;const{data:n}=await Le.get("https://pathfinder-development-production.up.railway.app/api/applications",{headers:{Authorization:`Bearer ${e}`}}),s=n.filter(i=>i.interviewSchedule).map(i=>({id:i.applicationID,careerID:i.careerID,title:i.career?.position||"Career Interview",date:new Date(i.interviewSchedule).toISOString().split("T")[0],type:"career",interviewSchedule:i.interviewSchedule,interviewMode:i.interviewMode,interviewLink:i.interviewLink,interviewLocation:i.interviewLocation,organization:i.career?.organization}));s.forEach(i=>{events.value[i.date]||(events.value[i.date]=[]),events.value[i.date].push(i)}),console.log(" Career events merged:",s)}catch(t){console.error("Failed to fetch applications:",t)}},async fetchInterviews(){const t=localStorage.getItem("token");if(t)try{const e=await Le.get("https://pathfinder-development-production.up.railway.app/api/applications/interviews",{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});console.log("API /applications/interviews response:",e.data);const n=e.data.map(s=>{const i=s.interviewSchedule||s.schedule||null,r=i?new Date(i):null;return{id:s.id||s.applicationID||s.interviewID,applicantID:s.applicantID||s.applicant_id||null,title:s.title||s.interwiewStatus||"For Interview",date:r?r.toISOString().split("T")[0]:"",interviewSchedule:i,interviewMode:s.interviewMode||s.mode||null,interviewLink:s.interviewLink||s.link||null,interviewLocation:s.interviewLocation||s.location||null,organization:s.organizationName||s.organization||null}});this.scheduledInterviews=n,console.log(" Scheduled interviews loaded:",n.length)}catch(e){console.error("Error fetching interviews:",e)}},async fetchTrainings(){let t;try{t=await Ui.get("/organization/trainings")}catch(e){console.warn("Org trainings endpoint unavailable for calendar, falling back:",e?.response?.status);const n=localStorage.getItem("token");if(!n)return;const s=localStorage.getItem("user"),i=s?JSON.parse(s):null,r=i?.organizationID??i?.organization?.organizationID??null;t=await Le.get("https://pathfinder-development-production.up.railway.app/api/trainings",{headers:{Authorization:`Bearer ${n}`,Accept:"application/json"},params:r?{organizationID:r}:{}})}this.trainings=t.data.map(e=>{const n=e.schedule?new Date(e.schedule+" UTC"):null,s=e.end_time?new Date(e.end_time+" UTC"):null;return{id:e.trainingID,title:e.title,description:e.description,date:n?n.toISOString().split("T")[0]:"",startTime:n?n.toTimeString().slice(0,5):"",endTime:s?s.toTimeString().slice(0,5):"",mode:e.mode,location:e.location,link:e.trainingLink,organizationID:e.organization.organizationID}})},async fetchCareers(){const t=await Ui.get("/organization/careers");this.careers=t.data.map(e=>({id:e.careerID,title:e.position,details:e.detailsAndInstructions,qualifications:e.qualifications,requirements:e.requirements,letterAddress:e.applicationLetterAddress,date:e.deadlineOfSubmission?e.deadlineOfSubmission.split("T")[0]:null,organizationID:e.organization?.organizationID||e.organizationID}))},openEventDetailsByDate(t){this.selectedDate=t,this.openDayModal(t)},formatDate(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`},prevMonth(){this.currentDate.setMonth(this.currentDate.getMonth()-1),this.currentDate=new Date(this.currentDate)},nextMonth(){this.currentDate.setMonth(this.currentDate.getMonth()+1),this.currentDate=new Date(this.currentDate)},isToday(t){if(!t)return!1;const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},hasEvent(t){if(!t)return!1;const e=this.formatDate(t);return this.trainings.some(n=>n.date===e)||this.careers.some(n=>n.date===e)||this.scheduledInterviews.some(n=>n.date===e)},getEventTitles(t){if(!t)return[];const e=this.formatDate(t),n=this.trainings.filter(r=>r.date===e).map(r=>({type:"training",title:" "+r.title})),s=this.careers.filter(r=>r.date===e).map(r=>({type:"career",title:" "+r.title})),i=this.scheduledInterviews.filter(r=>r.date===e).map(r=>({type:"interview",title:" "+r.title}));return[...n,...s,...i]},getEventColor(t){if(!t)return"";const e=this.formatDate(t);return this.trainings.some(n=>n.date===e)||this.careers.some(n=>n.date===e)?"#F5F5F5":this.scheduledInterviews.some(n=>n.date===e)?"#FFE5E5":""},formatDate(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`},getEventsByDate(t){if(!t)return[];const e=this.formatDate(t),n=this.trainings?.filter(r=>r.date===e)||[],s=this.careers?.filter(r=>r.date===e)||[],i=this.scheduledInterviews?.filter(r=>r.date===e)||[];return[...n,...s,...i]},openEventDetails(t){this.selectedEvent=t},openDayModal(t){if(!t)return;const e=this.formatDate(t),n=this.trainings.filter(r=>r.date===e).map(r=>({...r,type:"Training"})),s=this.careers.filter(r=>r.date===e).map(r=>({...r,type:"Career"})),i=this.scheduledInterviews.filter(r=>r.date===e).map(r=>({...r,type:"Interview"}));this.selectedDate=e,this.selectedEvents={trainings:n,careers:s,interviews:i}},closeSidebar(){this.selectedEvents={trainings:[],careers:[]},this.selectedDate=null},toggleMenu(){this.showMenu=!this.showMenu},closeMenu(){this.showMenu=!1},editEvent(){alert("Edit function triggered!"),this.closeMenu()},deleteEvent(){confirm("Are you sure you want to delete this event?")&&alert("Delete function triggered!"),this.closeMenu()},closeModal(){this.showModal=!1,this.selectedDate=null,this.selectedEvents=[],this.showMenu=!1}},mounted(){this.fetchTrainings(),this.fetchCareers(),this.fetchApplications(),this.fetchInterviews()}},lX=Object.assign(aX,{setup(t){const e=js(),n=le(!0),s=le("");It(()=>{const b=localStorage.getItem("user");if(b){const y=JSON.parse(b);y.role==="organization"&&(s.value=y.displayName||y.name)}});const i=b=>{e.push(b)};It(()=>{const b=localStorage.getItem("user");if(b)try{const y=JSON.parse(b);y.role==="organization"&&(s.value=y.displayName||y.name||"Organization")}catch(y){console.error("Failed to parse user from localStorage:",y)}});const r=()=>{n.value=!n.value},o=new Date,a=le(o.getMonth()),l=le(o.getFullYear()),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=Xt(()=>new Date(l.value,a.value).toLocaleString("default",{month:"long"})),h=Xt(()=>{const b=new Date(l.value,a.value,1),y=new Date(l.value,a.value+1,0),w=[];for(let C=0;C<b.getDay();C++)w.push(null);for(let C=1;C<=y.getDate();C++)w.push(new Date(l.value,a.value,C));return w}),p=()=>{a.value===0?(a.value=11,l.value--):a.value--},f=()=>{a.value===11?(a.value=0,l.value++):a.value++},m=b=>b?b.getDate()===o.getDate()&&b.getMonth()===o.getMonth()&&b.getFullYear()===o.getFullYear():!1;return(b,y)=>(M(),B("div",xJ,[d("button",{class:ft(["hamburger",{open:n.value,shifted:n.value}]),onClick:r},y[7]||(y[7]=[d("span",null,null,-1),d("span",null,null,-1),d("span",null,null,-1)]),2),wt(Li,{name:"slide"},{default:Wn(()=>[d("aside",{class:ft(["sidebar",{collapsed:!n.value}])},[y[14]||(y[14]=d("div",{class:"space"},null,-1)),d("div",CJ,[d("img",{src:qt(yr),alt:"DICT Logo",class:"avatar-img"},null,8,kJ)]),wt(Li,{name:"fade"},{default:Wn(()=>[n.value?(M(),B("div",SJ,[d("h3",AJ,Z(s.value),1),d("div",LJ,[d("div",{class:"action",onClick:y[0]||(y[0]=w=>i({name:"OrgUpdateProfile"}))},y[8]||(y[8]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M11.7278 8.27191C12.7534 9.87525 14.1247 11.2375 15.7464 12.2534L8.85673 19.144C8.43166 19.569 8.21841 19.7816 7.95731 19.9213C7.69637 20.0609 7.40171 20.1199 6.81278 20.2377L3.73563 20.853C3.40302 20.9195 3.23649 20.9525 3.14188 20.8578C3.04759 20.7632 3.08035 20.5971 3.14677 20.2651L3.76298 17.1879C3.88087 16.5985 3.93965 16.3035 4.07938 16.0424C4.21912 15.7814 4.43173 15.569 4.85673 15.144L11.7278 8.27191ZM16.1116 4.03656C16.6711 3.75929 17.3284 3.75931 17.888 4.03656C18.1821 4.18229 18.455 4.45518 19.0003 5.00043C19.5453 5.54545 19.8184 5.81774 19.9641 6.11175C20.2414 6.67123 20.2413 7.32861 19.9641 7.88812C19.8184 8.18221 19.5455 8.45517 19.0003 9.00043L17.2034 10.7963C15.5308 9.84498 14.1456 8.46859 13.1819 6.81781L15.0003 5.00043C15.5453 4.45539 15.8176 4.18234 16.1116 4.03656Z",fill:"#FFFDFD"})],-1),d("span",null,"Update Profile",-1)]))])])):Ce("",!0)]),_:1}),d("div",{class:"icon",onClick:y[1]||(y[1]=w=>i("/organization"))},y[9]||(y[9]=[d("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M6.25 17.0585C6.25 16.0494 6.25 15.5448 6.47166 15.1141C6.69333 14.6833 7.1039 14.3901 7.92505 13.8035L13.8375 9.58034C14.3989 9.17938 14.6795 8.9789 15 8.9789C15.3205 8.9789 15.6011 9.17938 16.1625 9.58034L22.075 13.8035C22.8961 14.3901 23.3067 14.6833 23.5283 15.1141C23.75 15.5448 23.75 16.0494 23.75 17.0585V24.25C23.75 25.1928 23.75 25.6642 23.4571 25.9571C23.1642 26.25 22.6928 26.25 21.75 26.25H8.25C7.30719 26.25 6.83579 26.25 6.54289 25.9571C6.25 25.6642 6.25 25.1928 6.25 24.25V17.0585Z",fill:"white"}),d("path",{d:"M3.75 15.6366C3.75 15.9035 3.75 16.0369 3.8341 16.0781C3.91819 16.1192 4.02352 16.0373 4.23418 15.8734L13.7721 8.45502C14.362 7.99625 14.6569 7.76686 15 7.76686C15.3431 7.76686 15.638 7.99625 16.2279 8.45502L25.7658 15.8734C25.9765 16.0373 26.0818 16.1192 26.1659 16.0781C26.25 16.0369 26.25 15.9035 26.25 15.6366V14.7282C26.25 14.2478 26.25 14.0076 26.1483 13.7997C26.0466 13.5918 25.857 13.4444 25.4779 13.1495L16.2279 5.95502C15.638 5.49625 15.3431 5.26686 15 5.26686C14.6569 5.26686 14.362 5.49625 13.7721 5.95502L4.52212 13.1495C4.14295 13.4444 3.95337 13.5918 3.85168 13.7997C3.75 14.0076 3.75 14.2478 3.75 14.7282V15.6366Z",fill:"white"}),d("path",{d:"M16.125 18.75H13.875C12.7704 18.75 11.875 19.6454 11.875 20.75V26.1C11.875 26.1828 11.9422 26.25 12.025 26.25H17.975C18.0578 26.25 18.125 26.1828 18.125 26.1V20.75C18.125 19.6454 17.2296 18.75 16.125 18.75Z",fill:"white"}),d("rect",{x:"20",y:"6.25",width:"2.5",height:"5",rx:"0.5",fill:"white"})],-1),d("span",null,"Home",-1)])),d("div",{class:"icon",onClick:y[2]||(y[2]=w=>i({name:"OrgTrainings"}))},y[10]||(y[10]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.5837 3.625C23.4119 3.625 24.8261 3.62526 25.7048 4.50391C26.5833 5.3826 26.5837 6.79675 26.5837 9.625V19.375C26.5837 22.2033 26.5833 23.6174 25.7048 24.4961C24.8261 25.3747 23.4119 25.375 20.5837 25.375H8.41666C5.58824 25.375 4.17425 25.3748 3.29557 24.4961C2.41689 23.6174 2.41666 22.2034 2.41666 19.375V9.625C2.41666 6.79657 2.41689 5.38259 3.29557 4.50391C4.17425 3.62523 5.58824 3.625 8.41666 3.625H20.5837ZM9.66666 12.292C9.11438 12.292 8.66666 12.7397 8.66666 13.292V20.542L8.67155 20.6445C8.72303 21.1485 9.1491 21.542 9.66666 21.542C10.1842 21.542 10.6103 21.1485 10.6618 20.6445L10.6667 20.542V13.292C10.6667 12.7397 10.2189 12.292 9.66666 12.292ZM19.3337 9.875C18.7814 9.875 18.3337 10.3227 18.3337 10.875V20.542L18.3385 20.6436C18.3896 21.148 18.8158 21.542 19.3337 21.542C19.8514 21.5418 20.2778 21.1479 20.3288 20.6436L20.3337 20.542V10.875C20.3337 10.3228 19.8858 9.87518 19.3337 9.875ZM14.4997 14.708C13.9476 14.7082 13.4998 15.156 13.4997 15.708V20.541L13.5046 20.6436C13.5557 21.1477 13.982 21.5408 14.4997 21.541C15.0175 21.541 15.4436 21.1478 15.4948 20.6436L15.4997 20.541V15.708C15.4995 15.1559 15.0518 14.708 14.4997 14.708Z",fill:"white"})],-1),d("span",null,"Trainings",-1)])),d("div",{class:"icon",onClick:y[3]||(y[3]=w=>i({name:"OrgCareers"}))},y[11]||(y[11]=[d("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M22.8798 11.0484C23.4046 10.8642 23.9845 11.1431 24.1081 11.6855C24.4792 13.3134 24.4217 15.0018 23.9268 16.6191C23.4739 18.0989 22.6698 19.4685 21.5787 20.6449C21.2148 21.0372 20.6017 21.0197 20.2239 20.6408L14.9487 15.3495C14.4292 14.8284 14.6314 13.9436 15.3257 13.6999L22.8798 11.0484ZM13 4.0826C13 3.50231 13.4932 3.04057 14.0672 3.12592C15.8633 3.39302 17.5788 4.00579 19.085 4.93161C20.3794 5.72731 21.4793 6.72976 22.3343 7.87824C22.709 8.38157 22.4513 9.07932 21.8592 9.28718L14.3313 11.9301C13.6809 12.1584 13 11.6758 13 10.9865V4.0826Z",fill:"white"}),d("path",{d:"M11.9511 13.2908C11.9512 13.5763 12.0581 13.8518 12.25 14.0632L19.2677 21.7886C19.6714 22.233 19.5963 22.9337 19.0759 23.2331C18.245 23.7112 17.354 24.0924 16.4209 24.365C14.5402 24.9144 12.5476 25.0087 10.6201 24.6394C8.69236 24.2701 6.88846 23.4478 5.36911 22.2468C3.84993 21.0459 2.66126 19.5025 1.90915 17.7537C1.15711 16.0048 0.864996 14.1043 1.05759 12.2205C1.25024 10.3365 1.92171 8.52693 3.01364 6.95288C4.1056 5.37884 5.58398 4.08845 7.31735 3.19605C8.43484 2.62073 9.63633 2.22318 10.8757 2.01305C11.4515 1.91541 11.9511 2.37876 11.9511 2.96284V13.2908Z",fill:"white"})],-1),d("span",null,"Career",-1)])),d("div",{class:"icon",onClick:y[4]||(y[4]=w=>i({name:"OrgCalendar"}))},y[12]||(y[12]=[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M2.16675 9.4165C2.16675 7.53089 2.16675 6.58808 2.75253 6.00229C3.33832 5.4165 4.28113 5.4165 6.16675 5.4165H19.8334C21.719 5.4165 22.6618 5.4165 23.2476 6.00229C23.8334 6.58808 23.8334 7.53089 23.8334 9.4165V9.83317C23.8334 10.3046 23.8334 10.5403 23.687 10.6867C23.5405 10.8332 23.3048 10.8332 22.8334 10.8332H3.16675C2.69534 10.8332 2.45964 10.8332 2.31319 10.6867C2.16675 10.5403 2.16675 10.3046 2.16675 9.83317V9.4165Z",fill:"white"}),d("path",{d:"M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833ZM8.58301 19.5C8.11182 19.5 7.87591 19.5001 7.72949 19.6465C7.58321 19.7929 7.58301 20.0288 7.58301 20.5V20.667C7.58301 21.1382 7.58308 21.3741 7.72949 21.5205C7.87591 21.6669 8.11182 21.667 8.58301 21.667H10.917C11.3882 21.667 11.6241 21.6669 11.7705 21.5205C11.9169 21.3741 11.917 21.1382 11.917 20.667V20.5C11.917 20.0288 11.9168 19.7929 11.7705 19.6465C11.6241 19.5001 11.3882 19.5 10.917 19.5H8.58301ZM15.083 19.5C14.6118 19.5 14.3759 19.5001 14.2295 19.6465C14.0832 19.7929 14.083 20.0288 14.083 20.5V20.667C14.083 21.1382 14.0831 21.3741 14.2295 21.5205C14.3759 21.6669 14.6118 21.667 15.083 21.667H17.417C17.8882 21.667 18.1241 21.6669 18.2705 21.5205C18.4169 21.3741 18.417 21.1382 18.417 20.667V20.5C18.417 20.0288 18.4168 19.7929 18.2705 19.6465C18.1241 19.5001 17.8882 19.5 17.417 19.5H15.083ZM8.58301 15.167C8.11182 15.167 7.87591 15.1671 7.72949 15.3135C7.58337 15.4599 7.58301 15.6959 7.58301 16.167V16.333C7.58301 16.8041 7.58337 17.0401 7.72949 17.1865C7.87591 17.3329 8.11182 17.333 8.58301 17.333H10.917C11.3882 17.333 11.6241 17.3329 11.7705 17.1865C11.9166 17.0401 11.917 16.8041 11.917 16.333V16.167C11.917 15.6959 11.9166 15.4599 11.7705 15.3135C11.6241 15.1671 11.3882 15.167 10.917 15.167H8.58301ZM15.083 15.167C14.6118 15.167 14.3759 15.1671 14.2295 15.3135C14.0834 15.4599 14.083 15.6959 14.083 16.167V16.333C14.083 16.8041 14.0834 17.0401 14.2295 17.1865C14.3759 17.3329 14.6118 17.333 15.083 17.333H17.417C17.8882 17.333 18.1241 17.3329 18.2705 17.1865C18.4166 17.0401 18.417 16.8041 18.417 16.333V16.167C18.417 15.6959 18.4166 15.4599 18.2705 15.3135C18.1241 15.1671 17.8882 15.167 17.417 15.167H15.083Z",fill:"white"}),d("path",{d:"M7.58325 3.25L7.58325 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),d("path",{d:"M18.4167 3.25L18.4167 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),d("span",null,"Calendar",-1)])),y[15]||(y[15]=d("div",{class:"spacer"},null,-1)),d("div",{class:"icon signout",onClick:y[5]||(y[5]=w=>b.$router.push("/loginform"))},y[13]||(y[13]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d("polyline",{points:"16 17 21 12 16 7"}),d("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),d("span",null,"Sign Out",-1)]))],2)]),_:1}),d("main",EJ,[y[35]||(y[35]=d("header",{class:"topbar"},[d("div",{class:"Pathfinder-wrapper"},[d("span",{class:"logo-text"},"Pathfinder")])],-1)),d("section",TJ,[d("div",PJ,[d("div",NJ,[d("div",IJ,[d("button",{onClick:p},""),d("h2",null,Z(u.value)+" "+Z(l.value),1),d("button",{onClick:f},"")]),d("div",OJ,[(M(),B(Ye,null,ct(c,w=>d("div",{class:"day-name",key:w},Z(w),1)),64)),(M(!0),B(Ye,null,ct(h.value,(w,C)=>(M(),B("div",{key:C,class:ft(["day-cell",{today:m(w),event:b.hasEvent(w)}]),style:j1({backgroundColor:b.getEventColor(w)}),onClick:k=>b.openDayModal(w)},[w?(M(),B("span",MJ,Z(w.getDate()),1)):Ce("",!0),w&&b.getEventsByDate(w).length?(M(),B("div",RJ,[w&&b.getEventTitles(w).length?(M(),B("div",$J,[(M(!0),B(Ye,null,ct(b.getEventTitles(w).slice(0,1),(k,S)=>(M(),B("div",{key:S,class:ft(["event-title",k.type])},Z(k.title),3))),128)),b.getEventTitles(w).length>1?(M(),B("div",{key:0,class:"show-more",onClick:vt(k=>b.openEventDetailsByDate(w),["stop"])}," + Show more ",8,jJ)):Ce("",!0)])):Ce("",!0)])):Ce("",!0)],14,DJ))),128))]),y[16]||(y[16]=Ws('<div class="calendar-legend" data-v-87c465af><div class="legend-item" data-v-87c465af><span class="training" data-v-87c465af></span> Trainings </div><div class="legend-item" data-v-87c465af><span class="career" data-v-87c465af></span> Careers </div><div class="legend-item" data-v-87c465af><span class="interview" data-v-87c465af></span> Scheduled Interviews </div></div>',1))]),d("div",BJ,[b.selectedEvents&&(b.selectedEvents.trainings?.length||b.selectedEvents.careers?.length||b.selectedEvents.interviews?.length)?(M(),B(Ye,{key:0},[d("h3",null,"Events on "+Z(b.selectedDate),1),b.selectedEvents.trainings.length?(M(),B("div",FJ,[y[22]||(y[22]=d("h4",{class:"group-title"}," Trainings",-1)),(M(!0),B(Ye,null,ct(b.selectedEvents.trainings,(w,C)=>(M(),B("div",{key:"t-"+C,class:"event-details-card"},[d("h5",null,Z(w.title),1),w.startTime?(M(),B("p",UJ,[y[17]||(y[17]=d("strong",null,"Start Time:",-1)),Re(" "+Z(b.formatTime12Hour(w.startTime)),1)])):Ce("",!0),w.endTime?(M(),B("p",zJ,[y[18]||(y[18]=d("strong",null,"End Time:",-1)),Re(" "+Z(b.formatTime12Hour(w.endTime)),1)])):Ce("",!0),w.mode?(M(),B("p",VJ,[y[19]||(y[19]=d("strong",null,"Mode:",-1)),Re(" "+Z(w.mode),1)])):Ce("",!0),w.location?(M(),B("p",HJ,[y[20]||(y[20]=d("strong",null,"Location:",-1)),Re(" "+Z(w.location),1)])):Ce("",!0),w.description?(M(),B("p",qJ,y[21]||(y[21]=[d("strong",null,"Description:",-1)]))):Ce("",!0),w.description?(M(),B("p",WJ,Z(w.description),1)):Ce("",!0)]))),128))])):Ce("",!0),b.selectedEvents.careers.length?(M(),B("div",GJ,[y[26]||(y[26]=d("h4",{class:"group-title"}," Careers",-1)),(M(!0),B(Ye,null,ct(b.selectedEvents.careers,(w,C)=>(M(),B("div",{key:"c-"+C,class:"event-details-card"},[d("h5",null,Z(w.title),1),w.qualifications?(M(),B("p",KJ,y[23]||(y[23]=[d("strong",null,"Qualifications:",-1)]))):Ce("",!0),w.qualifications?(M(),B("p",YJ,Z(w.qualifications),1)):Ce("",!0),w.requirements?(M(),B("p",ZJ,y[24]||(y[24]=[d("strong",null,"Requirements:",-1)]))):Ce("",!0),w.requirements?(M(),B("p",JJ,Z(w.requirements),1)):Ce("",!0),w.details?(M(),B("p",XJ,y[25]||(y[25]=[d("strong",null,"Details:",-1)]))):Ce("",!0),w.details?(M(),B("p",QJ,Z(w.details),1)):Ce("",!0)]))),128))])):Ce("",!0),b.selectedEvents.interviews.length?(M(),B("div",eX,[y[32]||(y[32]=d("h4",{class:"group-title"}," Scheduled Interviews",-1)),(M(!0),B(Ye,null,ct(b.selectedEvents.interviews,(w,C)=>(M(),B("div",{key:"i-"+C,class:"event-details-card"},[d("h5",null,Z(w.title),1),d("p",tX,[y[27]||(y[27]=d("strong",null,"Applicant:",-1)),Re(" "+Z(w.applicantID||"N/A"),1)]),d("p",nX,[y[28]||(y[28]=d("strong",null,"Time:",-1)),Re(" "+Z(b.formatTime12Hour(w.interviewSchedule)||"TBD"),1)]),w.mode?(M(),B("p",sX,[y[29]||(y[29]=d("strong",null,"Mode:",-1)),Re(" "+Z(w.interviewMode),1)])):Ce("",!0),w.location?(M(),B("p",iX,[y[30]||(y[30]=d("strong",null,"Location:",-1)),Re(" "+Z(w.interviewLocation),1)])):Ce("",!0),w.interviewLink?(M(),B("p",rX,[y[31]||(y[31]=d("strong",null,"Link:",-1)),d("a",{href:w.interviewLink,target:"_blank",rel:"noopener noreferrer"},Z(w.interviewLink),9,oX)])):Ce("",!0)]))),128))])):Ce("",!0),d("button",{class:"close-btn",onClick:y[6]||(y[6]=(...w)=>b.closeSidebar&&b.closeSidebar(...w))},"Close")],64)):(M(),B(Ye,{key:1},[y[33]||(y[33]=d("h3",null,"Select a date",-1)),y[34]||(y[34]=d("p",null,"Click a date in the calendar to view its trainings and careers.",-1))],64))])])])])]))}}),cX=Pi(lX,[["__scopeId","data-v-87c465af"]]),uX={class:"organization-profile"},dX={key:0,class:"post-options"},hX={__name:"Profile",setup(t){const e=le(!1),n=le(!1),s=()=>{e.value=!e.value},i=()=>{console.log("Signed out")};return(r,o)=>(M(),B("div",uX,[wt(Li,{name:"slide"},{default:Wn(()=>[d("aside",{class:ft(["sidebar",{collapsed:!n.value}]),onMouseenter:o[6]||(o[6]=a=>n.value=!0),onMouseleave:o[7]||(o[7]=a=>n.value=!1)},[d("div",{class:"icon",onClick:o[0]||(o[0]=a=>r.$router.push("/OrganizationHomePage"))},o[8]||(o[8]=[d("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M6.25 17.0585C6.25 16.0494 6.25 15.5448 6.47166 15.1141C6.69333 14.6833 7.1039 14.3901 7.92505 13.8035L13.8375 9.58034C14.3989 9.17938 14.6795 8.9789 15 8.9789C15.3205 8.9789 15.6011 9.17938 16.1625 9.58034L22.075 13.8035C22.8961 14.3901 23.3067 14.6833 23.5283 15.1141C23.75 15.5448 23.75 16.0494 23.75 17.0585V24.25C23.75 25.1928 23.75 25.6642 23.4571 25.9571C23.1642 26.25 22.6928 26.25 21.75 26.25H8.25C7.30719 26.25 6.83579 26.25 6.54289 25.9571C6.25 25.6642 6.25 25.1928 6.25 24.25V17.0585Z",fill:"white"}),d("path",{d:"M3.75 15.6366C3.75 15.9035 3.75 16.0369 3.8341 16.0781C3.91819 16.1192 4.02352 16.0373 4.23418 15.8734L13.7721 8.45502C14.362 7.99625 14.6569 7.76686 15 7.76686C15.3431 7.76686 15.638 7.99625 16.2279 8.45502L25.7658 15.8734C25.9765 16.0373 26.0818 16.1192 26.1659 16.0781C26.25 16.0369 26.25 15.9035 26.25 15.6366V14.7282C26.25 14.2478 26.25 14.0076 26.1483 13.7997C26.0466 13.5918 25.857 13.4444 25.4779 13.1495L16.2279 5.95502C15.638 5.49625 15.3431 5.26686 15 5.26686C14.6569 5.26686 14.362 5.49625 13.7721 5.95502L4.52212 13.1495C4.14295 13.4444 3.95337 13.5918 3.85168 13.7997C3.75 14.0076 3.75 14.2478 3.75 14.7282V15.6366Z",fill:"white"}),d("path",{d:"M16.125 18.75H13.875C12.7704 18.75 11.875 19.6454 11.875 20.75V26.1C11.875 26.1828 11.9422 26.25 12.025 26.25H17.975C18.0578 26.25 18.125 26.1828 18.125 26.1V20.75C18.125 19.6454 17.2296 18.75 16.125 18.75Z",fill:"white"}),d("rect",{x:"20",y:"6.25",width:"2.5",height:"5",rx:"0.5",fill:"white"})],-1),d("span",null,"Home",-1)])),d("div",{class:"icon",onClick:o[1]||(o[1]=a=>r.$router.push("/trainings"))},o[9]||(o[9]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.5837 3.625C23.4119 3.625 24.8261 3.62526 25.7048 4.50391C26.5833 5.3826 26.5837 6.79675 26.5837 9.625V19.375C26.5837 22.2033 26.5833 23.6174 25.7048 24.4961C24.8261 25.3747 23.4119 25.375 20.5837 25.375H8.41666C5.58824 25.375 4.17425 25.3748 3.29557 24.4961C2.41689 23.6174 2.41666 22.2034 2.41666 19.375V9.625C2.41666 6.79657 2.41689 5.38259 3.29557 4.50391C4.17425 3.62523 5.58824 3.625 8.41666 3.625H20.5837ZM9.66666 12.292C9.11438 12.292 8.66666 12.7397 8.66666 13.292V20.542L8.67155 20.6445C8.72303 21.1485 9.1491 21.542 9.66666 21.542C10.1842 21.542 10.6103 21.1485 10.6618 20.6445L10.6667 20.542V13.292C10.6667 12.7397 10.2189 12.292 9.66666 12.292ZM19.3337 9.875C18.7814 9.875 18.3337 10.3227 18.3337 10.875V20.542L18.3385 20.6436C18.3896 21.148 18.8158 21.542 19.3337 21.542C19.8514 21.5418 20.2778 21.1479 20.3288 20.6436L20.3337 20.542V10.875C20.3337 10.3228 19.8858 9.87518 19.3337 9.875ZM14.4997 14.708C13.9476 14.7082 13.4998 15.156 13.4997 15.708V20.541L13.5046 20.6436C13.5557 21.1477 13.982 21.5408 14.4997 21.541C15.0175 21.541 15.4436 21.1478 15.4948 20.6436L15.4997 20.541V15.708C15.4995 15.1559 15.0518 14.708 14.4997 14.708Z",fill:"white"})],-1),d("span",null,"Trainings",-1)])),d("div",{class:"icon",onClick:s},o[10]||(o[10]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M3.625 7.625C3.625 5.41586 5.41586 3.625 7.625 3.625H21.375C23.5841 3.625 25.375 5.41586 25.375 7.625V21.375C25.375 23.5841 23.5841 25.375 21.375 25.375H7.625C5.41586 25.375 3.625 23.5841 3.625 21.375V7.625Z",stroke:"white","stroke-width":"2"}),d("path",{d:"M14.5 9.6665L14.5 19.3332",stroke:"white","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"round"}),d("path",{d:"M19.3333 14.5L9.66666 14.5",stroke:"white","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"round"})],-1),d("span",null,"Post",-1)])),wt(Li,{name:"fade"},{default:Wn(()=>[e.value&&n.value?(M(),B("div",dX,[d("button",{onClick:o[2]||(o[2]=a=>r.$router.push("/post-career"))},"Post Career"),d("button",{onClick:o[3]||(o[3]=a=>r.$router.push("/post-training"))},"Post Training")])):Ce("",!0)]),_:1}),d("div",{class:"icon",onClick:o[4]||(o[4]=a=>r.$router.push("/career"))},o[11]||(o[11]=[d("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M22.8798 11.0484C23.4046 10.8642 23.9845 11.1431 24.1081 11.6855C24.4792 13.3134 24.4217 15.0018 23.9268 16.6191C23.4739 18.0989 22.6698 19.4685 21.5787 20.6449C21.2148 21.0372 20.6017 21.0197 20.2239 20.6408L14.9487 15.3495C14.4292 14.8284 14.6314 13.9436 15.3257 13.6999L22.8798 11.0484ZM13 4.0826C13 3.50231 13.4932 3.04057 14.0672 3.12592C15.8633 3.39302 17.5788 4.00579 19.085 4.93161C20.3794 5.72731 21.4793 6.72976 22.3343 7.87824C22.709 8.38157 22.4513 9.07932 21.8592 9.28718L14.3313 11.9301C13.6809 12.1584 13 11.6758 13 10.9865V4.0826Z",fill:"white"}),d("path",{d:"M11.9511 13.2908C11.9512 13.5763 12.0581 13.8518 12.25 14.0632L19.2677 21.7886C19.6714 22.233 19.5963 22.9337 19.0759 23.2331C18.245 23.7112 17.354 24.0924 16.4209 24.365C14.5402 24.9144 12.5476 25.0087 10.6201 24.6394C8.69236 24.2701 6.88846 23.4478 5.36911 22.2468C3.84993 21.0459 2.66126 19.5025 1.90915 17.7537C1.15711 16.0048 0.864996 14.1043 1.05759 12.2205C1.25024 10.3365 1.92171 8.52693 3.01364 6.95288C4.1056 5.37884 5.58398 4.08845 7.31735 3.19605C8.43484 2.62073 9.63633 2.22318 10.8757 2.01305C11.4515 1.91541 11.9511 2.37876 11.9511 2.96284V13.2908Z",fill:"white"})],-1),d("span",null,"Career",-1)])),d("div",{class:"icon",onClick:o[5]||(o[5]=a=>r.$router.push("/profile"))},o[12]||(o[12]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6001 9.6C15.6001 11.5882 13.9884 13.2 12.0001 13.2C10.0119 13.2 8.40015 11.5882 8.40015 9.6C8.40015 7.61177 10.0119 6 12.0001 6C13.9884 6 15.6001 7.61177 15.6001 9.6ZM14.4001 9.6C14.4001 10.9255 13.3256 12 12.0001 12C10.6747 12 9.60015 10.9255 9.60015 9.6C9.60015 8.27452 10.6747 7.2 12.0001 7.2C13.3256 7.2 14.4001 8.27452 14.4001 9.6Z",fill:"white"}),d("path",{d:"M12.0001 15C8.11552 15 4.80571 17.297 3.54492 20.5152C3.85206 20.8202 4.1756 21.1087 4.51412 21.3792C5.45296 18.4246 8.39818 16.2 12.0001 16.2C15.6021 16.2 18.5473 18.4246 19.4862 21.3792C19.8247 21.1087 20.1482 20.8202 20.4554 20.5152C19.1946 17.2971 15.8848 15 12.0001 15Z",fill:"white"})],-1),d("span",null,"Profile",-1)])),o[14]||(o[14]=d("div",{class:"spacer"},null,-1)),o[15]||(o[15]=d("div",{class:"spacer"},null,-1)),d("div",{class:"icon signout",onClick:i},o[13]||(o[13]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d("polyline",{points:"16 17 21 12 16 7"}),d("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),d("span",null,"Sign Out",-1)]))],34)]),_:1})]))}},fX=Pi(hX,[["__scopeId","data-v-16e0db1b"]]),pX={class:"organization-homepage"},gX={class:"avatar"},mX=["src"],vX={key:0,class:"profile-section"},bX={class:"org-name"},yX={class:"profile-actions"},wX={class:"content"},_X={class:"update-profile-container"},xX={class:"input-group"},CX={class:"input-group"},kX={class:"input-group"},SX={class:"input-group"},AX={class:"input-group"},LX={class:"input-group"},EX={name:"OrganizationHomePage",data(){return{dictLogo:yr}},setup(){le(!0);const t=le("Loading...");It(()=>{const e=localStorage.getItem("organizationName");t.value=e||"My Organization"})}},TX=Object.assign(EX,{setup(t){const e=js(),n=le({organizationName:"",organizationLocation:"",organizationWebsiteURL:"",organizationPhoneNumber:"",organizationPassword:"",organizationConfirmPassword:""}),s=le(!0),i=()=>{s.value=!s.value},r=le("Loading...");It(()=>{const c=localStorage.getItem("user");if(c){const u=JSON.parse(c);r.value=u.organizationName||u.displayName||u.name||"Unknown Org"}o()});const o=async()=>{const c=localStorage.getItem("token");if(!c){alert("Please log in again."),e.push({name:"OrgLogin"});return}try{const h=(await Le.get("https://pathfinder-development-production.up.railway.app/api/organization/details",{headers:{Authorization:`Bearer ${c}`}})).data.organization;n.value.organizationName=h.organizationName||"",n.value.organizationLocation=h.location||"",n.value.organizationWebsiteURL=h.websiteURL||"",n.value.organizationPhoneNumber=h.phoneNumber||"",n.value.organizationPassword="",n.value.organizationConfirmPassword=""}catch(u){console.error("Error fetching organization details:",u),alert("Failed to load organization details.")}},a=c=>{e.push(c)},l=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e.push({name:"OrgLogin"})};return(c,u)=>(M(),B("div",pX,[d("button",{class:ft(["hamburger",{open:s.value,shifted:s.value}]),onClick:i},u[12]||(u[12]=[d("span",null,null,-1),d("span",null,null,-1),d("span",null,null,-1)]),2),wt(Li,{name:"slide"},{default:Wn(()=>[d("aside",{class:ft(["sidebar",{collapsed:!s.value}])},[u[19]||(u[19]=d("div",{class:"space"},null,-1)),d("div",gX,[d("img",{src:qt(yr),alt:"DICT Logo",class:"avatar-img"},null,8,mX)]),wt(Li,{name:"fade"},{default:Wn(()=>[s.value?(M(),B("div",vX,[d("h3",bX,Z(r.value),1),d("div",yX,[d("div",{class:"action",onClick:u[0]||(u[0]=h=>a({name:"OrgUpdateProfile"}))},u[13]||(u[13]=[d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M11.7278 8.27191C12.7534 9.87525 14.1247 11.2375 15.7464 12.2534L8.85673 19.144C8.43166 19.569 8.21841 19.7816 7.95731 19.9213C7.69637 20.0609 7.40171 20.1199 6.81278 20.2377L3.73563 20.853C3.40302 20.9195 3.23649 20.9525 3.14188 20.8578C3.04759 20.7632 3.08035 20.5971 3.14677 20.2651L3.76298 17.1879C3.88087 16.5985 3.93965 16.3035 4.07938 16.0424C4.21912 15.7814 4.43173 15.569 4.85673 15.144L11.7278 8.27191ZM16.1116 4.03656C16.6711 3.75929 17.3284 3.75931 17.888 4.03656C18.1821 4.18229 18.455 4.45518 19.0003 5.00043C19.5453 5.54545 19.8184 5.81774 19.9641 6.11175C20.2414 6.67123 20.2413 7.32861 19.9641 7.88812C19.8184 8.18221 19.5455 8.45517 19.0003 9.00043L17.2034 10.7963C15.5308 9.84498 14.1456 8.46859 13.1819 6.81781L15.0003 5.00043C15.5453 4.45539 15.8176 4.18234 16.1116 4.03656Z",fill:"#FFFDFD"})],-1),d("span",null,"Update Profile",-1)]))])])):Ce("",!0)]),_:1}),d("div",{class:"icon",onClick:u[1]||(u[1]=h=>a("/organization"))},u[14]||(u[14]=[d("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M6.25 17.0585C6.25 16.0494 6.25 15.5448 6.47166 15.1141C6.69333 14.6833 7.1039 14.3901 7.92505 13.8035L13.8375 9.58034C14.3989 9.17938 14.6795 8.9789 15 8.9789C15.3205 8.9789 15.6011 9.17938 16.1625 9.58034L22.075 13.8035C22.8961 14.3901 23.3067 14.6833 23.5283 15.1141C23.75 15.5448 23.75 16.0494 23.75 17.0585V24.25C23.75 25.1928 23.75 25.6642 23.4571 25.9571C23.1642 26.25 22.6928 26.25 21.75 26.25H8.25C7.30719 26.25 6.83579 26.25 6.54289 25.9571C6.25 25.6642 6.25 25.1928 6.25 24.25V17.0585Z",fill:"white"}),d("path",{d:"M3.75 15.6366C3.75 15.9035 3.75 16.0369 3.8341 16.0781C3.91819 16.1192 4.02352 16.0373 4.23418 15.8734L13.7721 8.45502C14.362 7.99625 14.6569 7.76686 15 7.76686C15.3431 7.76686 15.638 7.99625 16.2279 8.45502L25.7658 15.8734C25.9765 16.0373 26.0818 16.1192 26.1659 16.0781C26.25 16.0369 26.25 15.9035 26.25 15.6366V14.7282C26.25 14.2478 26.25 14.0076 26.1483 13.7997C26.0466 13.5918 25.857 13.4444 25.4779 13.1495L16.2279 5.95502C15.638 5.49625 15.3431 5.26686 15 5.26686C14.6569 5.26686 14.362 5.49625 13.7721 5.95502L4.52212 13.1495C4.14295 13.4444 3.95337 13.5918 3.85168 13.7997C3.75 14.0076 3.75 14.2478 3.75 14.7282V15.6366Z",fill:"white"}),d("path",{d:"M16.125 18.75H13.875C12.7704 18.75 11.875 19.6454 11.875 20.75V26.1C11.875 26.1828 11.9422 26.25 12.025 26.25H17.975C18.0578 26.25 18.125 26.1828 18.125 26.1V20.75C18.125 19.6454 17.2296 18.75 16.125 18.75Z",fill:"white"}),d("rect",{x:"20",y:"6.25",width:"2.5",height:"5",rx:"0.5",fill:"white"})],-1),d("span",null,"Home",-1)])),d("div",{class:"icon",onClick:u[2]||(u[2]=h=>a({name:"OrgTrainings"}))},u[15]||(u[15]=[d("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.5837 3.625C23.4119 3.625 24.8261 3.62526 25.7048 4.50391C26.5833 5.3826 26.5837 6.79675 26.5837 9.625V19.375C26.5837 22.2033 26.5833 23.6174 25.7048 24.4961C24.8261 25.3747 23.4119 25.375 20.5837 25.375H8.41666C5.58824 25.375 4.17425 25.3748 3.29557 24.4961C2.41689 23.6174 2.41666 22.2034 2.41666 19.375V9.625C2.41666 6.79657 2.41689 5.38259 3.29557 4.50391C4.17425 3.62523 5.58824 3.625 8.41666 3.625H20.5837ZM9.66666 12.292C9.11438 12.292 8.66666 12.7397 8.66666 13.292V20.542L8.67155 20.6445C8.72303 21.1485 9.1491 21.542 9.66666 21.542C10.1842 21.542 10.6103 21.1485 10.6618 20.6445L10.6667 20.542V13.292C10.6667 12.7397 10.2189 12.292 9.66666 12.292ZM19.3337 9.875C18.7814 9.875 18.3337 10.3227 18.3337 10.875V20.542L18.3385 20.6436C18.3896 21.148 18.8158 21.542 19.3337 21.542C19.8514 21.5418 20.2778 21.1479 20.3288 20.6436L20.3337 20.542V10.875C20.3337 10.3228 19.8858 9.87518 19.3337 9.875ZM14.4997 14.708C13.9476 14.7082 13.4998 15.156 13.4997 15.708V20.541L13.5046 20.6436C13.5557 21.1477 13.982 21.5408 14.4997 21.541C15.0175 21.541 15.4436 21.1478 15.4948 20.6436L15.4997 20.541V15.708C15.4995 15.1559 15.0518 14.708 14.4997 14.708Z",fill:"white"})],-1),d("span",null,"Trainings",-1)])),d("div",{class:"icon",onClick:u[3]||(u[3]=h=>a({name:"OrgCareers"}))},u[16]||(u[16]=[d("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M22.8798 11.0484C23.4046 10.8642 23.9845 11.1431 24.1081 11.6855C24.4792 13.3134 24.4217 15.0018 23.9268 16.6191C23.4739 18.0989 22.6698 19.4685 21.5787 20.6449C21.2148 21.0372 20.6017 21.0197 20.2239 20.6408L14.9487 15.3495C14.4292 14.8284 14.6314 13.9436 15.3257 13.6999L22.8798 11.0484ZM13 4.0826C13 3.50231 13.4932 3.04057 14.0672 3.12592C15.8633 3.39302 17.5788 4.00579 19.085 4.93161C20.3794 5.72731 21.4793 6.72976 22.3343 7.87824C22.709 8.38157 22.4513 9.07932 21.8592 9.28718L14.3313 11.9301C13.6809 12.1584 13 11.6758 13 10.9865V4.0826Z",fill:"white"}),d("path",{d:"M11.9511 13.2908C11.9512 13.5763 12.0581 13.8518 12.25 14.0632L19.2677 21.7886C19.6714 22.233 19.5963 22.9337 19.0759 23.2331C18.245 23.7112 17.354 24.0924 16.4209 24.365C14.5402 24.9144 12.5476 25.0087 10.6201 24.6394C8.69236 24.2701 6.88846 23.4478 5.36911 22.2468C3.84993 21.0459 2.66126 19.5025 1.90915 17.7537C1.15711 16.0048 0.864996 14.1043 1.05759 12.2205C1.25024 10.3365 1.92171 8.52693 3.01364 6.95288C4.1056 5.37884 5.58398 4.08845 7.31735 3.19605C8.43484 2.62073 9.63633 2.22318 10.8757 2.01305C11.4515 1.91541 11.9511 2.37876 11.9511 2.96284V13.2908Z",fill:"white"})],-1),d("span",null,"Career",-1)])),d("div",{class:"icon",onClick:u[4]||(u[4]=h=>a({name:"OrgCalendar"}))},u[17]||(u[17]=[d("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M2.16675 9.4165C2.16675 7.53089 2.16675 6.58808 2.75253 6.00229C3.33832 5.4165 4.28113 5.4165 6.16675 5.4165H19.8334C21.719 5.4165 22.6618 5.4165 23.2476 6.00229C23.8334 6.58808 23.8334 7.53089 23.8334 9.4165V9.83317C23.8334 10.3046 23.8334 10.5403 23.687 10.6867C23.5405 10.8332 23.3048 10.8332 22.8334 10.8332H3.16675C2.69534 10.8332 2.45964 10.8332 2.31319 10.6867C2.16675 10.5403 2.16675 10.3046 2.16675 9.83317V9.4165Z",fill:"white"}),d("path",{d:"M22.833 13C23.3042 13 23.5401 13.0002 23.6865 13.1465C23.833 13.2929 23.833 13.5286 23.833 14V19.833C23.833 21.7186 23.8329 22.6613 23.2471 23.2471C22.6613 23.8329 21.7186 23.833 19.833 23.833H6.16699C4.28137 23.833 3.33872 23.8329 2.75293 23.2471C2.16714 22.6613 2.16699 21.7186 2.16699 19.833V14C2.16699 13.5286 2.16703 13.2929 2.31348 13.1465C2.45994 13.0002 2.69576 13 3.16699 13H22.833ZM8.58301 19.5C8.11182 19.5 7.87591 19.5001 7.72949 19.6465C7.58321 19.7929 7.58301 20.0288 7.58301 20.5V20.667C7.58301 21.1382 7.58308 21.3741 7.72949 21.5205C7.87591 21.6669 8.11182 21.667 8.58301 21.667H10.917C11.3882 21.667 11.6241 21.6669 11.7705 21.5205C11.9169 21.3741 11.917 21.1382 11.917 20.667V20.5C11.917 20.0288 11.9168 19.7929 11.7705 19.6465C11.6241 19.5001 11.3882 19.5 10.917 19.5H8.58301ZM15.083 19.5C14.6118 19.5 14.3759 19.5001 14.2295 19.6465C14.0832 19.7929 14.083 20.0288 14.083 20.5V20.667C14.083 21.1382 14.0831 21.3741 14.2295 21.5205C14.3759 21.6669 14.6118 21.667 15.083 21.667H17.417C17.8882 21.667 18.1241 21.6669 18.2705 21.5205C18.4169 21.3741 18.417 21.1382 18.417 20.667V20.5C18.417 20.0288 18.4168 19.7929 18.2705 19.6465C18.1241 19.5001 17.8882 19.5 17.417 19.5H15.083ZM8.58301 15.167C8.11182 15.167 7.87591 15.1671 7.72949 15.3135C7.58337 15.4599 7.58301 15.6959 7.58301 16.167V16.333C7.58301 16.8041 7.58337 17.0401 7.72949 17.1865C7.87591 17.3329 8.11182 17.333 8.58301 17.333H10.917C11.3882 17.333 11.6241 17.3329 11.7705 17.1865C11.9166 17.0401 11.917 16.8041 11.917 16.333V16.167C11.917 15.6959 11.9166 15.4599 11.7705 15.3135C11.6241 15.1671 11.3882 15.167 10.917 15.167H8.58301ZM15.083 15.167C14.6118 15.167 14.3759 15.1671 14.2295 15.3135C14.0834 15.4599 14.083 15.6959 14.083 16.167V16.333C14.083 16.8041 14.0834 17.0401 14.2295 17.1865C14.3759 17.3329 14.6118 17.333 15.083 17.333H17.417C17.8882 17.333 18.1241 17.3329 18.2705 17.1865C18.4166 17.0401 18.417 16.8041 18.417 16.333V16.167C18.417 15.6959 18.4166 15.4599 18.2705 15.3135C18.1241 15.1671 17.8882 15.167 17.417 15.167H15.083Z",fill:"white"}),d("path",{d:"M7.58325 3.25L7.58325 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),d("path",{d:"M18.4167 3.25L18.4167 6.5",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),d("span",null,"Calendar",-1)])),u[20]||(u[20]=d("div",{class:"spacer"},null,-1)),d("div",{class:"icon signout",onClick:l},u[18]||(u[18]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d("polyline",{points:"16 17 21 12 16 7"}),d("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),d("span",null,"Sign Out",-1)]))],2)]),_:1}),d("main",wX,[u[29]||(u[29]=d("header",{class:"topbar"},[d("div",{class:"Pathfinder-wrapper"},[d("span",{class:"logo-text"},"Pathfinder")])],-1)),d("div",_X,[u[28]||(u[28]=d("h2",{class:"update-title"},"Update Account",-1)),d("form",{onSubmit:u[11]||(u[11]=vt((...h)=>c.updateAccount&&c.updateAccount(...h),["prevent"]))},[d("div",xX,[u[21]||(u[21]=d("label",null,"Organization Name",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":u[5]||(u[5]=h=>n.value.organizationName=h),placeholder:"Enter organization name"},null,512),[[We,n.value.organizationName]])]),d("div",CX,[u[22]||(u[22]=d("label",null,"Location",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":u[6]||(u[6]=h=>n.value.organizationLocation=h),placeholder:"Enter location"},null,512),[[We,n.value.organizationLocation]])]),d("div",kX,[u[23]||(u[23]=d("label",null,"Website URL",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":u[7]||(u[7]=h=>n.value.organizationWebsiteURL=h),placeholder:"Enter website URL"},null,512),[[We,n.value.organizationWebsiteURL]])]),d("div",SX,[u[24]||(u[24]=d("label",null,"Phone Number",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":u[8]||(u[8]=h=>n.value.organizationPhoneNumber=h),placeholder:"Enter phone number"},null,512),[[We,n.value.organizationPhoneNumber]])]),d("div",AX,[u[25]||(u[25]=d("label",null,"Password",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":u[9]||(u[9]=h=>n.value.organizationPassword=h),placeholder:"Enter password"},null,512),[[We,n.value.organizationPassword]])]),d("div",LX,[u[26]||(u[26]=d("label",null,"Confirm Password",-1)),Ue(d("input",{type:"text","onUpdate:modelValue":u[10]||(u[10]=h=>n.value.organizationConfirmPassword=h),placeholder:"Enter confirm password"},null,512),[[We,n.value.organizationConfirmPassword]])]),u[27]||(u[27]=d("button",{type:"submit",class:"save-btn"},"Save Changes",-1))],32)])])]))}}),PX=Pi(TX,[["__scopeId","data-v-321a362b"]]),NX={class:"min-h-screen p-3 rounded-lg font-poppins bg-gray-50"},IX={class:"bg-white rounded-lg shadow p-6 flex-1"},OX={class:"mt-4"},DX={key:0,class:"space-y-4"},MX=["onClick"],RX={class:"text-md font-medium"},$X={class:"flex space-x-2"},jX=["onClick"],BX=["onClick"],FX={key:1,class:"text-gray-500 italic"},UX={key:0,class:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-20"},zX={class:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative"},VX={class:"space-y-2"},HX=["href"],qX={class:"mt-6 flex justify-end space-x-2"},WX={key:1,class:"fixed inset-0 z-50 bg-black bg-opacity-30 flex items-center justify-center"},GX={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md relative"},KX={class:"mt-4 flex justify-end space-x-2"},YX={__name:"AdminHomepage",setup(t){const e=le([]),n=le(null),s=le(!1),i=le(""),r=le(null);function o(h){r.value=h,i.value="",s.value=!0}async function a(){if(!i.value.trim()){alert("Please enter a reason.");return}try{await Le.post(`https://pathfinder-development-production.up.railway.app/api/organization/${r.value}/reject`,{reason:i.value}),e.value=e.value.filter(h=>h.organizationID!==r.value),s.value=!1,i.value="",r.value=null,showToast("Organization rejected successfully.")}catch(h){console.error("Rejection failed:",h.response?.data||h.message),showToast("Failed to reject organization.")}}async function l(){try{const h=await Le.get("https://pathfinder-development-production.up.railway.app/api/admin/pending-organizations");e.value=h.data}catch(h){console.error("Error loading organizations:",h)}}function c(h){n.value=h}async function u(h){try{await Le.post(`https://pathfinder-development-production.up.railway.app/api/organization/${h}/approve`),e.value=e.value.filter(p=>p.organizationID!==h),n.value=null}catch(p){console.error("Approval failed:",p)}}return It(()=>{l()}),(h,p)=>(M(),B("div",NX,[d("div",IX,[p[6]||(p[6]=d("header",{class:"sticky top-0 z-10 h-16 text-black flex items-center px-4"},[d("h1",null,[d("span",{class:"block text-sm"},"Organization Account"),d("span",{class:"block font-bold text-3xl"},"Verification")])],-1)),d("section",OX,[e.value.length?(M(),B("div",DX,[(M(!0),B(Ye,null,ct(e.value,f=>(M(),B("div",{key:f.organizationID,onClick:m=>c(f),class:"p-2 border rounded-lg cursor-pointer hover:bg-gray-50 flex justify-between items-center"},[d("div",null,[d("h3",RX,Z(f.organizationName??f.name),1)]),d("div",$X,[d("button",{onClick:vt(m=>u(f.organizationID),["stop"]),class:"px-4 py-2 text-white bg-customButton hover:bg-dark-slate rounded-lg transition"}," Accept ",8,jX),d("button",{onClick:vt(m=>o(f.organizationID),["stop"]),class:"px-4 py-2 text-black bg-gray-400 hover:bg-gray-500 rounded-lg transition"}," Reject ",8,BX)])],8,MX))),128))])):(M(),B("p",FX," No organizations waiting for verification. "))])]),n.value?(M(),B("div",UX,[d("div",zX,[d("button",{onClick:p[0]||(p[0]=f=>n.value=null),class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},"  "),p[11]||(p[11]=d("h2",{class:"text-xl font-semibold mb-4"},"Organization Details",-1)),d("div",VX,[d("p",null,[p[7]||(p[7]=d("strong",null,"Name:",-1)),Re(" "+Z(n.value.organizationName??n.value.name),1)]),d("p",null,[p[8]||(p[8]=d("strong",null,"Location:",-1)),Re(" "+Z(n.value.location),1)]),d("p",null,[p[9]||(p[9]=d("strong",null,"Website:",-1)),d("a",{href:n.value.websiteURL,target:"_blank",class:"text-blue-600 underline"},Z(n.value.websiteURL),9,HX)]),d("p",null,[p[10]||(p[10]=d("strong",null,"Email:",-1)),Re(" "+Z(n.value.emailAddress),1)])]),d("div",qX,[d("button",{onClick:p[1]||(p[1]=f=>o(n.value.organizationID)),class:"px-4 py-2 text-black bg-gray-400 hover:bg-gray-500 rounded-lg"}," Reject "),d("button",{onClick:p[2]||(p[2]=f=>u(n.value.organizationID)),class:"px-4 py-2 text-white bg-customButton hover:bg-dark-slate rounded-lg"}," Accept ")])])])):Ce("",!0),s.value?(M(),B("div",WX,[d("div",GX,[d("button",{onClick:p[3]||(p[3]=f=>s.value=!1),class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},"  "),p[12]||(p[12]=d("h2",{class:"text-xl font-semibold mb-4"},"Reject Organization",-1)),p[13]||(p[13]=d("label",{class:"block mb-2 font-medium"},"Reason for rejection:",-1)),Ue(d("textarea",{"onUpdate:modelValue":p[4]||(p[4]=f=>i.value=f),class:"w-full border p-2 rounded-md",rows:"4",placeholder:"Enter reason..."},null,512),[[We,i.value]]),d("div",KX,[d("button",{onClick:p[5]||(p[5]=f=>s.value=!1),class:"px-4 py-2 bg-gray-400 hover:bg-gray-500 text-black rounded-lg"}," Cancel "),d("button",{onClick:a,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg"}," Submit ")])])])):Ce("",!0)]))}},ZX=Pi(YX,[["__scopeId","data-v-d859f9c5"]]),JX={class:"flex flex-col items-center justify-center min-h-screen text-center px-4"},XX={key:0},QX={key:1,class:"text-red-600 font-semibold"},eQ={key:2,class:"mb-4 p-4 border rounded w-full max-w-md bg-gray-50 text-left"},tQ={class:"text-xl font-semibold mb-1"},nQ={class:"mb-1"},sQ={class:"text-sm text-gray-600 mb-1"},iQ={class:"text-sm text-gray-600 mb-1"},rQ={key:0,class:"text-sm text-gray-600 mb-1"},oQ={key:1,class:"text-sm text-gray-600 mb-1"},aQ=["href"],lQ={class:"text-sm text-gray-600"},cQ={key:2,class:"text-sm text-gray-600 mt-1"},uQ=["href"],dQ={class:"form-control"},hQ={class:"form-control"},fQ={class:"form-control"},pQ={class:"form-control"},gQ=["disabled"],mQ={class:"text-xl"},vQ={class:"font-medium"},bQ={__name:"AttendanceChecking",setup(t){const e=dd(),n=le(null),s=le(null),i=le(null),r=le(""),o=le(""),a=le(""),l=le(""),c=le(""),u=le(!0),h=le(""),p=le(!1),f=le(!1),m=Xt(()=>f.value?"bg-green-100 text-green-800 border border-green-400":"bg-red-100 text-red-800 border border-red-400"),b=Xt(()=>f.value?"":"");It(async()=>{if(n.value=e.query.trainingID,s.value=e.query.key,!n.value||!s.value){h.value=" Invalid or incomplete QR code.",u.value=!1;return}try{const C=await Le.get(`https://pathfinder-development-production.up.railway.app/api/training/${n.value}`);i.value=C.data}catch{h.value=" Failed to load training information. Please check the link or try again."}finally{u.value=!1}});function y(C){return C?new Date(C).toLocaleString("en-PH",{timeZone:"Asia/Manila",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):""}async function w(){if(!r.value||!o.value||!a.value||!l.value){c.value=" All fields are required.",f.value=!1,p.value=!0;return}try{const C=await Le.post("https://pathfinder-development-production.up.railway.app/api/attendance/checkin",{trainingID:n.value,key:s.value,firstName:r.value,lastName:o.value,emailAddress:a.value,phoneNumber:l.value});c.value=C.data.message||" Attendance Recorded Successfully",f.value=!0,p.value=!0}catch(C){c.value=C.response?.data?.message||" Attendance submission failed.",f.value=!1,p.value=!0}}return(C,k)=>(M(),B("div",JX,[k[11]||(k[11]=d("h1",{class:"text-2xl font-bold mb-4"},"Attendance Check-In",-1)),u.value?(M(),B("p",XX,"Checking QR code and loading training...")):Ce("",!0),h.value?(M(),B("p",QX,Z(h.value),1)):Ce("",!0),i.value&&!u.value?(M(),B("div",eQ,[d("h2",tQ,Z(i.value.title),1),d("p",nQ,Z(i.value.description),1),d("p",sQ,[k[4]||(k[4]=d("strong",null,"Schedule:",-1)),Re(" "+Z(y(i.value.schedule))+" to "+Z(y(i.value.end_time)),1)]),d("p",iQ,[k[5]||(k[5]=d("strong",null,"Mode:",-1)),Re(" "+Z(i.value.mode),1)]),i.value.location?(M(),B("p",rQ,[k[6]||(k[6]=d("strong",null,"Location:",-1)),Re(" "+Z(i.value.location),1)])):Ce("",!0),i.value.trainingLink?(M(),B("p",oQ,[k[7]||(k[7]=d("strong",null,"Training Link:",-1)),d("a",{href:i.value.trainingLink,target:"_blank",class:"underline text-blue-600"},Z(i.value.trainingLink),9,aQ)])):Ce("",!0),d("p",lQ,[k[8]||(k[8]=d("strong",null,"Organization:",-1)),Re(" "+Z(i.value.organization?.name||"Unknown"),1)]),i.value.attendance_link?(M(),B("p",cQ,[k[9]||(k[9]=d("strong",null,"Attendance Link:",-1)),d("a",{href:i.value.attendance_link,target:"_blank",class:"underline text-blue-600"},Z(i.value.attendance_link),9,uQ)])):Ce("",!0)])):Ce("",!0),!u.value&&!p.value&&!h.value?(M(),B("form",{key:3,onSubmit:vt(w,["prevent"]),class:"space-y-4 w-full max-w-md"},[k[10]||(k[10]=d("p",{class:"mb-2 text-left font-medium"},"Please enter your details to record attendance:",-1)),d("div",dQ,[Ue(d("input",{"onUpdate:modelValue":k[0]||(k[0]=S=>r.value=S),type:"text",placeholder:"First Name",class:"input w-full bg-gray-100 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[We,r.value]])]),d("div",hQ,[Ue(d("input",{"onUpdate:modelValue":k[1]||(k[1]=S=>o.value=S),type:"text",placeholder:"Last Name",class:"input w-full bg-gray-100 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[We,o.value]])]),d("div",fQ,[Ue(d("input",{"onUpdate:modelValue":k[2]||(k[2]=S=>a.value=S),type:"email",placeholder:"Email",class:"input w-full bg-gray-100 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[We,a.value]])]),d("div",pQ,[Ue(d("input",{"onUpdate:modelValue":k[3]||(k[3]=S=>l.value=S),type:"text",placeholder:"Phone Number",class:"input w-full bg-gray-100 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[We,l.value]])]),d("button",{type:"submit",class:"btn w-full bg-customButton hover:bg-dark-slate text-white rounded-lg py-2",disabled:u.value}," Submit Attendance ",8,gQ)],32)):Ce("",!0),p.value?(M(),B("div",{key:4,class:ft([m.value,"mt-4 w-full max-w-md p-3 rounded shadow flex items-center space-x-2"])},[d("span",mQ,Z(b.value),1),d("span",vQ,Z(c.value),1)],2)):Ce("",!0)]))}},yQ={class:"min-h-screen p-3 rounded-lg font-poppins"},wQ={class:"min-h-screen font-poppins lg:flex"},_Q={class:"w-full lg:mt-0 lg:ml-0 flex flex-col gap-6"},xQ={class:"bg-white rounded-lg shadow p-6 flex-1"},CQ={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},kQ={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},SQ={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},AQ={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},LQ={class:"bg-white p-6 rounded-lg max-w-sm w-full"},EQ={class:"flex justify-end gap-2"},TQ=["disabled"],PQ=["disabled"],NQ={__name:"AdminUpdateDelete",setup(t){const e=js(),n=le(!1),s=le(!1),i=le(0),r=le(0),o=le({firstName:"",middleName:"",lastName:"",address:"",emailAddress:"",phoneNumber:"",newPassword:"",currentPassword:""}),a=le("");It(async()=>{l();try{const p=(await Le.get("https://pathfinder-development-production.up.railway.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;o.value={...o.value,firstName:p.firstName||p.first_name||"",middleName:p.middleName||p.middle_name||"",lastName:p.lastName||p.last_name||"",emailAddress:p.emailAddress||p.email||"",phoneNumber:p.phoneNumber||p.phone||"",address:p.address||""},a.value=`${o.value.firstName} ${o.value.lastName}`.trim(),localStorage.setItem("user",JSON.stringify(p))}catch(h){console.error("API failed, fallback to localStorage:",h);const p=localStorage.getItem("user");if(p){const f=JSON.parse(p);o.value={...o.value,firstName:f.firstName||f.first_name||"",middleName:f.middleName||f.middle_name||"",lastName:f.lastName||f.last_name||"",emailAddress:f.emailAddress||f.email||"",phoneNumber:f.phoneNumber||f.phone||"",address:f.address||""},a.value=`${o.value.firstName} ${o.value.lastName}`.trim()}}});async function l(){try{const h=localStorage.getItem("token");if(!h)return;const f=(await Le.get("https://pathfinder-development-production.up.railway.app/api/registrations",{headers:{Authorization:`Bearer ${h}`}})).data||[];i.value=f.filter(m=>m.registrationStatus?.toLowerCase()==="upcoming"||m.registrationStatus?.toLowerCase()==="registered").length,r.value=f.filter(m=>m.registrationStatus?.toLowerCase()==="completed").length}catch(h){console.error(" Error fetching training counters:",h)}}const c=async()=>{if(!o.value.currentPassword){alert("You must enter your current password to save changes.");return}try{await Le.put("https://pathfinder-development-production.up.railway.app/api/user",o.value,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("Profile updated successfully!"),e.push("/homepage")}catch(h){alert(h.response?.data?.message||"Update failed.")}},u=async()=>{try{s.value=!0;const h=await Le.delete("https://pathfinder-development-production.up.railway.app/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},data:{currentPassword:o.value.currentPassword}});alert(h.data.message),localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/auth/login")}catch(h){alert(h.response?.data?.message||"Deletion failed.")}finally{s.value=!1,n.value=!1}};return(h,p)=>(M(),B("div",yQ,[d("div",wQ,[d("div",_Q,[d("div",xQ,[p[16]||(p[16]=d("header",{class:"sticky top-0 z-10 bg-white h-16 text-black flex items-center px-4"},[d("h1",{class:"text-3xl font-bold"},"Account Setting")],-1)),d("form",{onSubmit:vt(c,["prevent"]),class:"space-y-4 pt-4"},[p[8]||(p[8]=d("div",{class:"divider sm:hidden"},null,-1)),d("div",CQ,[Ue(d("input",{class:"border border-gray-300 input w-full",type:"text",placeholder:"Name","onUpdate:modelValue":p[0]||(p[0]=f=>o.value.name=f)},null,512),[[We,o.value.name]]),Ue(d("input",{class:"border border-gray-300 input w-full",type:"URL",placeholder:"Website URL","onUpdate:modelValue":p[1]||(p[1]=f=>o.value.websiteURL=f)},null,512),[[We,o.value.websiteURL]])]),p[9]||(p[9]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",kQ,[Ue(d("input",{class:"border border-gray-300 input w-full",type:"text",placeholder:"Location","onUpdate:modelValue":p[2]||(p[2]=f=>o.value.location=f)},null,512),[[We,o.value.location]]),Ue(d("input",{class:"border border-gray-300 input w-full text-gray-600",type:"email",placeholder:"Email","onUpdate:modelValue":p[3]||(p[3]=f=>o.value.emailAddress=f),readonly:""},null,512),[[We,o.value.emailAddress]])]),p[10]||(p[10]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",SQ,[Ue(d("input",{type:"password",class:"border border-gray-300 input w-full",placeholder:"New Password (optional)","onUpdate:modelValue":p[4]||(p[4]=f=>o.value.newPassword=f)},null,512),[[We,o.value.newPassword]]),Ue(d("input",{type:"password",class:"border border-gray-300 input w-full",placeholder:"Confirm New Password","onUpdate:modelValue":p[5]||(p[5]=f=>o.value.confirmPassword=f)},null,512),[[We,o.value.confirmPassword]])]),p[11]||(p[11]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),d("div",null,[Ue(d("input",{type:"password",class:"border border-gray-300 input w-full",placeholder:"Confirm Password","onUpdate:modelValue":p[6]||(p[6]=f=>o.value.currentPassword=f),required:""},null,512),[[We,o.value.currentPassword]])]),p[12]||(p[12]=d("div",{class:"hidden lg:block h-px bg-gray-300"},null,-1)),p[13]||(p[13]=d("div",{class:"flex justify-end pt-6"},[d("button",{type:"submit",class:"btn bg-customButton hover:bg-dark-slate text-white w-full sm:w-auto"}," Save Changes ")],-1))],32),n.value?(M(),B("div",AQ,[d("div",LQ,[p[14]||(p[14]=d("h2",{class:"text-lg font-semibold mb-4"}," Confirm Account Deletion ",-1)),p[15]||(p[15]=d("p",{class:"mb-4 text-sm"}," This action is irreversible. Are you sure you want to delete your account? ",-1)),d("div",EQ,[d("button",{class:"btn btn-sm",onClick:p[7]||(p[7]=f=>n.value=!1),disabled:s.value}," Cancel ",8,TQ),d("button",{class:"btn btn-error btn-sm text-white",onClick:u,disabled:s.value},Z(s.value?"Deleting...":"Delete"),9,PQ)])])])):Ce("",!0)])])])]))}},IQ={class:"flex-grow flex items-center justify-between p-4 font-poppins"},OQ={class:"flex items-center justify-between p-4 w-full"},DQ={class:"flex gap-8 flex-grow font-poppins pt-4 pb-3 pl-8"},MQ={class:"absolute top-2 right-6"},RQ={class:"flex justify-center w-full"},$Q={key:0,class:"absolute top-full left-0 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-md z-50 p-3 flex flex-col gap-3"},jQ={key:0,class:"text-center text-gray-500 text-sm mt-2"},BQ={key:1,class:"max-h-60 overflow-y-auto"},FQ=["onMousedown"],UQ={class:"font-semibold text-gray-800"},zQ={class:"text-sm text-gray-500"},VQ={class:"text-xs italic text-gray-400"},HQ={class:"bg-white rounded-xl shadow-lg w-full max-w-4xl p-6 relative max-h-[80vh] overflow-auto"},qQ={class:"w-full text-left border-separate border-spacing-y-2"},WQ={class:"px-4 py-3 text-gray-800"},GQ={class:"px-4 py-3 text-gray-800"},KQ={class:"px-4 py-3 text-gray-600"},YQ={class:"px-4 py-3 text-gray-800"},ZQ={class:"px-4 py-3 flex items-center justify-center"},JQ=["onClick"],XQ={key:0,class:"text-center text-gray-500 py-6"},QQ={class:"bg-white rounded-xl shadow-lg w-full max-w-md p-6 relative"},eee={class:"mb-6 text-gray-600"},tee={class:"flex justify-end gap-3"},nee={class:"bg-white rounded-xl shadow-lg w-full max-w-5xl p-6 relative max-h-[80vh] overflow-auto"},see={class:"w-full text-left border-separate border-spacing-y-2"},iee={class:"px-4 py-3 text-gray-800"},ree={class:"px-4 py-3 text-gray-600"},oee={class:"px-4 py-3 text-blue-500 underline"},aee=["href"],lee={class:"px-4 py-3 text-gray-600"},cee={class:"px-4 py-3 flex items-center justify-center"},uee=["onClick"],dee={key:3,class:"fixed inset-0 flex items-center justify-center z-50"},hee={class:"bg-white rounded-xl shadow-lg w-full max-w-md p-6 relative"},fee={class:"mb-6"},pee={class:"flex justify-end gap-3"},gee={class:"fixed top-4 right-4 space-y-2 z-50"},mee={__name:"AdminTopbar",emits:["open-organization-modal","open-applicant-modal"],setup(t,{emit:e}){const n=dd(),s=le([]);async function i(V){try{if(!(await fetch(`https://pathfinder-development-production.up.railway.app/apiadmin/applicants/${V}`,{method:"DELETE"})).ok)throw new Error("Failed to delete applicant");I.value=I.value.filter(F=>F.id!==V),H.value=!1,U.value=null}catch(j){console.error("Error deleting applicant:",j)}}const r=le(!1),o=le(null),a=le([]),l=le(null);le([]);const c=le(null);function u(){z.value="",a.value=[],r.value=!1}async function h(V){if(r.value=!1,z.value="",V.type==="organization")C(V),l.value=V;else if(V.type==="applicant"){c.value=V;const F=await(await fetch("https://pathfinder-development-production.up.railway.app/api/admin/applicants")).json();I.value=F.map(D=>({id:D.applicantID||D.id,name:D.firstName&&D.lastName?`${D.firstName} ${D.lastName}`:D.name,email:D.emailAddress||D.email,location:D.address||D.location||"N/A",phone:D.phoneNumber||D.phone||"N/A"})),I.value.sort(D=>D.id===V.id?-1:0),S.value=!0}}async function p(){if(console.log("Searching for:",z.value),!z.value){a.value=[];return}try{const V=await fetch(`https://pathfinder-development-production.up.railway.app/api/admin/search?query=${encodeURIComponent(z.value)}`),j=V.headers.get("content-type");if(!j||!j.includes("application/json")){const D=await V.text();console.error(" Expected JSON, got:",D);return}const F=await V.json();a.value=F.map(D=>({id:D.ID,name:D.Name,location:D.Location,email:D.EmailAddress,type:D.Type.toLowerCase()}))}catch(V){console.error("Search failed:",V)}}function f(){S.value=!1,c.value=null}const m=le(!1),b=le([]),y=le(null);async function w(){try{const V=await fetch("https://pathfinder-development-production.up.railway.app/api/admin/organizations");if(!V.ok)throw new Error("Failed to fetch organizations");const j=await V.json();b.value=j.map(F=>({id:F.organizationID,name:F.name,location:F.location,websiteURL:F.websiteURL,emailAddress:F.emailAddress}))}catch(V){console.error("Error fetching organizations:",V)}}async function C(V=null){y.value=V,b.value.length||await w(),V&&b.value.sort(j=>j.id===V.id?-1:0),m.value=!0}function k(){m.value=!1,y.value=null}le(!1),le(!1),le(null);const S=le(!1),I=le([]),z=le(""),H=le(!1),U=le(null);function T(V){U.value=V,H.value=!0}const q=le(!1),L=le(null);function P(V){L.value=V,q.value=!0}async function ne(V){try{if(!(await fetch(`https://pathfinder-development-production.up.railway.app/api/admin/organizations/${V}`,{method:"DELETE"})).ok)throw new Error("Failed to delete organization");b.value=b.value.filter(F=>F.id!==V),q.value=!1,L.value=null}catch(j){console.error("Error deleting organization:",j)}}return(V,j)=>(M(),B("div",IQ,[d("div",OQ,[d("button",{class:"text-xl font-bold font-poppins text-darkslategray whitespace-nowrap",onClick:j[0]||(j[0]=F=>V.$router.push({name:"AdminHomePage"}))}," Pathfinder "),d("div",DQ,[d("button",{onClick:j[1]||(j[1]=F=>V.$router.push({name:"AdminHomePage"})),class:ft(["flex flex-col items-center justify-center transition-all duration-200",qt(n).name==="AdminHomePage"?"text-dark-slate border-b-4 border-dark-slate":"text-gray-400 hover:text-dark-slate border-b-4 border-transparent "]),title:"Account Verification"},j[12]||(j[12]=[Ws('<svg class="w-8 h-8 mb-1" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-v-9654cb3d><rect width="24" height="24" fill="white" data-v-9654cb3d></rect><path d="M17.1 2H12.9C9.81693 2 8.37099 3.09409 8.06975 5.73901C8.00673 6.29235 8.465 6.75 9.02191 6.75H11.1C15.3 6.75 17.25 8.7 17.25 12.9V14.9781C17.25 15.535 17.7077 15.9933 18.261 15.9303C20.9059 15.629 22 14.1831 22 11.1V6.9C22 3.4 20.6 2 17.1 2Z" data-v-9654cb3d></path><path d="M11.1 8H6.9C3.4 8 2 9.4 2 12.9V17.1C2 20.6 3.4 22 6.9 22H11.1C14.6 22 16 20.6 16 17.1V12.9C16 9.4 14.6 8 11.1 8ZM12.29 13.65L8.58 17.36C8.44 17.5 8.26 17.57 8.07 17.57C7.88 17.57 7.7 17.5 7.56 17.36L5.7 15.5C5.42 15.22 5.42 14.77 5.7 14.49C5.98 14.21 6.43 14.21 6.71 14.49L8.06 15.84L11.27 12.63C11.55 12.35 12 12.35 12.28 12.63C12.56 12.91 12.57 13.37 12.29 13.65Z" data-v-9654cb3d></path></svg><span class="text-xs whitespace-nowrap" data-v-9654cb3d>Verification</span>',2)]),2),d("button",{onClick:j[2]||(j[2]=F=>V.$router.push({name:"AdminUpdateDelete"})),class:ft(["flex flex-col items-center justify-center transition-all duration-200",qt(n).name==="AdminUpdateDelete"?"text-dark-slate border-b-4 border-dark-slate":"text-gray-400 hover:text-dark-slate border-b-4 border-transparent hover:dark-slate"]),title:"Account Settings"},j[13]||(j[13]=[d("svg",{class:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M20.1 9.21994C18.29 9.21994 17.55 7.93994 18.45 6.36994C18.97 5.45994 18.66 4.29994 17.75 3.77994L16.02 2.78994C15.23 2.31994 14.21 2.59994 13.74 3.38994L13.63 3.57994C12.73 5.14994 11.25 5.14994 10.34 3.57994L10.23 3.38994C9.78 2.59994 8.76 2.31994 7.97 2.78994L6.24 3.77994C5.33 4.29994 5.02 5.46994 5.54 6.37994C6.45 7.93994 5.71 9.21994 3.9 9.21994C2.86 9.21994 2 10.0699 2 11.1199V12.8799C2 13.9199 2.85 14.7799 3.9 14.7799C5.71 14.7799 6.45 16.0599 5.54 17.6299C5.02 18.5399 5.33 19.6999 6.24 20.2199L7.97 21.2099C8.76 21.6799 9.78 21.3999 10.25 20.6099L10.36 20.4199C11.26 18.8499 12.74 18.8499 13.65 20.4199L13.76 20.6099C14.23 21.3999 15.25 21.6799 16.04 21.2099L17.77 20.2199C18.68 19.6999 18.99 18.5299 18.47 17.6299C17.56 16.0599 18.3 14.7799 20.11 14.7799C21.15 14.7799 22.01 13.9299 22.01 12.8799V11.1199C22 10.0799 21.15 9.21994 20.1 9.21994ZM12 15.2499C10.21 15.2499 8.75 13.7899 8.75 11.9999C8.75 10.2099 10.21 8.74994 12 8.74994C13.79 8.74994 15.25 10.2099 15.25 11.9999C15.25 13.7899 13.79 15.2499 12 15.2499Z",fill:"currentColor"})],-1),d("span",{class:"text-xs whitespace-nowrap"},"Account Settings",-1)]),2)]),d("div",MQ,[d("button",{onClick:j[3]||(j[3]=(...F)=>V.logout&&V.logout(...F)),class:ft(["flex flex-col items-center justify-center transition-all duration-200",qt(n).name==="Logout"?"text-dark-slate border-b-4 border-dark-slate":"text-gray-400 hover:text-dark-slate border-b-4 border-transparent hover:border-dark-slate"]),title:"Logout"},j[14]||(j[14]=[Ws('<svg class="w-8 h-8 mb-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-9654cb3d><path d="M21.4999 13V15.26C21.4999 19.73 19.7099 21.52 15.2399 21.52H15.1099C11.0899 21.52 9.23991 20.07 8.90991 16.53" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-9654cb3d></path><path d="M8.8999 7.55999C9.2099 3.95999 11.0599 2.48999 15.1099 2.48999H15.2399C19.7099 2.48999 21.4999 4.27999 21.4999 8.74999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-9654cb3d></path><path d="M15.0001 12H3.62012" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-9654cb3d></path><path d="M5.85 8.65002L2.5 12L5.85 15.35" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-9654cb3d></path></svg><span class="text-xs" data-v-9654cb3d>Logout</span>',2)]),2)]),d("div",RQ,[d("div",{ref_key:"searchContainer",ref:o,class:"relative w-full max-w-md ml-4 font-poppins"},[d("label",{class:"bg-blue-gray input w-full flex items-center gap-2 border-none rounded-full px-3 py-2 cursor-text",onClick:j[6]||(j[6]=F=>r.value=!0)},[j[15]||(j[15]=d("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[d("g",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"2.5",fill:"none",stroke:"darkslategray"},[d("circle",{cx:"11",cy:"11",r:"8"}),d("path",{d:"m21 21-4.3-4.3"})])],-1)),Ue(d("input",{type:"search",placeholder:"Search Applicants or Organizations...","onUpdate:modelValue":j[4]||(j[4]=F=>z.value=F),class:"flex-grow bg-transparent outline-none font-poppins",onFocus:j[5]||(j[5]=F=>r.value=!0),onInput:p},null,544),[[We,z.value]]),z.value?(M(),B("button",{key:0,type:"button",onClick:u,class:"absolute right-2 text-gray-400 hover:text-black"},"  ")):Ce("",!0)]),r.value&&(a.value.length||z.value)?(M(),B("div",$Q,[!a.value.length&&z.value?(M(),B("div",jQ," No results found. ")):(M(),B("div",BQ,[(M(!0),B(Ye,null,ct(a.value,(F,D)=>(M(),B("div",{key:D,class:"p-2 hover:bg-gray-100 rounded cursor-pointer transition-all",onMousedown:vt(N=>h(F),["prevent"])},[d("div",UQ,Z(F.name),1),d("div",zQ,Z(F.email||F.location),1),d("div",VQ,Z(F.type==="organization"?"Organization":"Applicant"),1)],40,FQ))),128))]))])):Ce("",!0)],512)]),S.value?(M(),B("div",{key:0,class:"fixed inset-0 flex items-center justify-center z-50",onClick:vt(f,["self"])},[d("div",HQ,[d("button",{onClick:f,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl font-light"},"  "),j[17]||(j[17]=d("h2",{class:"text-2xl font-semibold mb-6 text-gray-800"}," All Applicants ",-1)),d("table",qQ,[j[16]||(j[16]=d("thead",null,[d("tr",null,[d("th",{class:"text-left text-black font-medium px-4 py-2"},"Name"),d("th",{class:"text-left text-black font-medium px-4 py-2"}," Location "),d("th",{class:"text-left text-black font-medium px-4 py-2"}," Email "),d("th",{class:"text-left text-black font-medium px-4 py-2 whitespace-nowrap"}," Contact Number "),d("th",{class:"px-4 py-2"})])],-1)),d("tbody",null,[(M(!0),B(Ye,null,ct(I.value,F=>(M(),B("tr",{key:F.id,class:"bg-gray-50 hover:bg-gray-100 rounded-lg transition"},[d("td",WQ,Z(F.name),1),d("td",GQ,Z(F.location),1),d("td",KQ,Z(F.email),1),d("td",YQ,Z(F.phone),1),d("td",ZQ,[d("button",{onClick:D=>T(F),class:"bg-gray-500 text-white text-sm px-4 py-2 rounded-md hover:bg-dark-slate transition"}," Delete ",8,JQ)])]))),128))])]),I.value.length===0?(M(),B("div",XQ," No applicants found. ")):Ce("",!0)])])):Ce("",!0),H.value?(M(),B("div",{key:1,class:"fixed inset-0 flex items-center justify-center z-50",onClick:j[9]||(j[9]=vt(F=>H.value=!1,["self"]))},[d("div",QQ,[j[20]||(j[20]=d("h2",{class:"text-xl font-semibold mb-4 text-gray-800"}," Confirm Deletion ",-1)),d("p",eee,[j[18]||(j[18]=Re(" Are you sure you want to delete ")),d("strong",null,Z(U.value.name),1),j[19]||(j[19]=Re("? "))]),d("div",tee,[d("button",{onClick:j[7]||(j[7]=F=>H.value=!1),class:"px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-100"}," Cancel "),d("button",{onClick:j[8]||(j[8]=F=>i(U.value.id)),class:"bg-gray-500 text-white text-sm px-4 py-2 rounded-md hover:bg-dark-slate transition"}," Delete ")])])])):Ce("",!0),m.value?(M(),B("div",{key:2,class:"fixed inset-0 flex items-center justify-center z-50",onClick:vt(k,["self"])},[d("div",nee,[d("button",{onClick:k,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl font-light"},"  "),j[22]||(j[22]=d("h2",{class:"text-2xl font-semibold mb-6 text-gray-800"}," All Organizations ",-1)),d("table",see,[j[21]||(j[21]=d("thead",null,[d("tr",null,[d("th",{class:"text-left text-gray-500 font-medium px-4 py-2"}," Name "),d("th",{class:"text-left text-gray-500 font-medium px-4 py-2"}," Location "),d("th",{class:"text-left text-gray-500 font-medium px-4 py-2"}," Website "),d("th",{class:"text-left text-gray-500 font-medium px-4 py-2"}," Email "),d("th",{class:"px-4 py-2"})])],-1)),d("tbody",null,[(M(!0),B(Ye,null,ct(b.value,F=>(M(),B("tr",{key:F.id,class:"bg-gray-50 hover:bg-gray-100 rounded-lg transition"},[d("td",iee,Z(F.name),1),d("td",ree,Z(F.location),1),d("td",oee,[d("a",{href:F.websiteURL,target:"_blank"},Z(F.websiteURL),9,aee)]),d("td",lee,Z(F.emailAddress),1),d("td",cee,[d("button",{onClick:D=>P(F),class:"bg-gray-500 text-white text-sm px-4 py-2 rounded-md hover:bg-dark-slate transition"}," Delete ",8,uee)])]))),128))])])])])):Ce("",!0),q.value?(M(),B("div",dee,[d("div",hee,[j[25]||(j[25]=d("h2",{class:"text-xl font-semibold mb-4"},"Confirm Deletion",-1)),d("p",fee,[j[23]||(j[23]=Re(" Are you sure you want to delete ")),d("strong",null,Z(L.value?.name),1),j[24]||(j[24]=Re("? "))]),d("div",pee,[d("button",{onClick:j[10]||(j[10]=F=>q.value=!1)},"Cancel"),d("button",{onClick:j[11]||(j[11]=F=>ne(L.value.id)),class:"bg-gray-500 text-white text-sm px-4 py-2 rounded-md hover:bg-dark-slate transition"}," Delete ")])])])):Ce("",!0)]),d("div",gee,[(M(!0),B(Ye,null,ct(s.value,(F,D)=>(M(),B("div",{key:D,class:ft(["px-4 py-2 rounded text-white shadow-md",{"bg-green-600":F.type==="success","bg-red-600":F.type==="error","bg-blue-600":F.type==="info"}])},Z(F.message),3))),128))])]))}},vee=Pi(mee,[["__scopeId","data-v-9654cb3d"]]),bee={class:"flex h-screen"},yee={class:"flex flex-col flex-1"},wee={class:"h-16 text-dark-slate flex items-center px-4"},_ee={class:"flex-1 overflow-y-auto bg-gray-100"},xee={__name:"AdminLayout",setup(t){return le(!0),(e,n)=>{const s=to("router-view");return M(),B("div",bee,[d("div",yee,[d("header",wee,[wt(vee)]),d("main",_ee,[wt(s,null,{default:Wn(({Component:i})=>[(M(),qo(Y9,null,[(M(),qo(Q9(i)))],1024))]),_:1})])])])}}},E8=JC({history:AC("/"),routes:[{path:"/",redirect:"/auth/login"},{path:"/attendance/checkin",name:"AttendanceCheckin",component:bQ},{path:"/auth",component:_J,children:[{path:"login",name:"Login",component:TP},{path:"register",alias:"/typeofaccount",name:"Register",component:LF},{path:"aregistration",name:"ARegistrationForms",component:qT},{path:"oregistration",name:"ORegistrationForms",component:pP}]},{path:"/app",component:vJ,meta:{requiresAuth:!0},children:[{path:"",name:"Homepage",component:sE},{path:"profile",name:"Profile",component:vT},{path:"training",name:"Trainingpage",component:aN},{path:"career",name:"Careerpage",component:nD},{path:"organization",name:"Organizationpage",component:uD},{path:"calendar",name:"Calendarpage",component:MD},{path:"bookmarks",name:"Bookmarkpage",component:DM},{path:"certificates",name:"Certificatespage",component:CR},{path:"update-delete",name:"UpdateDeletepage",component:UR},{path:"resume-editor",name:"ResumeEditorpage",component:bF}]},{path:"/organization",name:"OrgHome",component:kW,meta:{requiresAuth:!0,role:"organization"}},{path:"/organization/org-trainings",name:"OrgTrainings",component:iK,meta:{requiresAuth:!0,role:"organization"}},{path:"/organization/org-careers",name:"OrgCareers",component:VY,meta:{requiresAuth:!0,role:"organization"}},{path:"/organization/org-calendar",name:"OrgCalendar",component:cX,meta:{requiresAuth:!0,role:"organization"}},{path:"/organization/org-profile",name:"OrgProfile",component:fX,meta:{requiresAuth:!0,role:"organization"}},{path:"/organization/org-updateprofile",name:"OrgUpdateProfile",component:PX,meta:{requiresAuth:!0,role:"organization"}},{path:"/admin",component:xee,meta:{requiresAuth:!1},children:[{path:"adminhomepage",name:"AdminHomePage",component:ZX},{path:"/admin/adminupdatedelete",name:"AdminUpdateDelete",component:NQ,meta:{requiresAuth:!1}}]},{path:"/:pathMatch(.*)*",redirect:"/auth/login"}]});E8.beforeEach((t,e,n)=>{const s=JSON.parse(localStorage.getItem("user"));if(t.meta.requiresAuth&&!s)return n({name:"Login"});if(t.meta.role&&(!s||s.role!==t.meta.role))return n({name:"Login"});if(s&&t.path.startsWith("/auth"))return s.role==="organization"?n({name:"OrgHome"}):n({name:"Homepage"});n()});const f2=le(null),p2=le(!1);function Cee(){return{user:f2,authenticated:p2,attempt:async()=>{try{const e=await Le.get("/api/user",{withCredentials:!0});f2.value=e.data,p2.value=!0}catch{f2.value=null,p2.value=!1}}}}const mf=Ux(QC),kee=Hx();mf.use(E8);mf.use(kee);mf.use(Kk);const{attempt:See}=Cee();See().finally(()=>{mf.mount("#app")});export{nn as _,Zee as c,vN as g};
